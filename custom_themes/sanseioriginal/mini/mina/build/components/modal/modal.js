// Generated by CoffeeScript 2.0.2
(function() {
  var app;

  app = getApp();

  Component({
    properties: {
      duration: {
        type: Number,
        value: 300
      },
      status: {
        type: Boolean,
        value: false,
        observer: function(status) {
          var self;
          self = this;
          return self.animate(status);
        }
      }
    },
    // lifecycle
    ready: function() {
      var self;
      self = this;
      self.anim_element = wx.createAnimation({
        duration: self.data.duration,
        timingFunction: "ease",
        delay: 0
      });
      return self.anim_mask = wx.createAnimation({
        duration: self.data.duration,
        timingFunction: "ease",
        delay: 0
      });
    },
    // methods
    methods: {
      animate: function(status) {
        var self;
        self = this;
        if (status) {
          self.anim_mask.opacity(1).step();
          self.anim_element.left(0).step();
          if (status) {
            self.setData({
              active: true
            });
          }
        } else {
          self.anim_mask.opacity(0).step();
          self.anim_element.left('-100%').step();
          setTimeout(function() {
            return self.setData({
              active: false
            });
          }, self.data.duration);
        }
        return self.setData({
          anim_mask: self.anim_mask.export(),
          anim_element: self.anim_element.export()
        });
      },
      dismiss: function() {
        var self;
        self = this;
        self.triggerEvent('dismiss');
        return self.setData({
          status: false
        });
      },
      noop: function() {}
    }
  });

}).call(this);
