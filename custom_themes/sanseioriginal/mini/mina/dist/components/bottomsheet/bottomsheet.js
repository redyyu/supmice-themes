(function(){var app;app=getApp();Component({properties:{minHeight:{type:Number,value:60},maxHeight:{type:Number,value:480},duration:{type:Number,value:300},status:{type:Boolean,value:false,observer:function(status){var self;self=this;setTimeout(function(){return self.set_height();},100);return self.animate(status);}}},ready:function(){var self;self=this;self.anim_element=wx.createAnimation({duration:self.data.duration,timingFunction:"ease",delay:0});return self.anim_mask=wx.createAnimation({duration:self.data.duration,timingFunction:"ease",delay:0});},methods:{set_height:function(){var query,self;self=this;query=wx.createSelectorQuery().in(self);return query.select('.bottomsheet-content').boundingClientRect(function(rect){var height;height=Math.min(rect.height,self.data.maxHeight);height=Math.max(height,self.data.minHeight);return self.setData({scrollable:rect.height>self.data.maxHeight,sheet_height:height});}).exec();},animate:function(status){var self;self=this;if(status){self.anim_mask.opacity(1).step();self.anim_element.bottom(0).step();if(status){self.setData({active:true});}}else{self.anim_mask.opacity(0).step();self.anim_element.bottom('-100%').step();setTimeout(function(){return self.setData({active:false});},self.data.duration);}
return self.setData({anim_mask:self.anim_mask.export(),anim_element:self.anim_element.export()});},dismiss:function(){var self;self=this;return self.setData({status:false});},noop:function(){}}});}).call(this);