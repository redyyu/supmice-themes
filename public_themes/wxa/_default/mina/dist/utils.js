(function(){var t,n,r,e,i,u,f,l,o,s,a,c,g,p,h,y,d,v,b,m,A,O,w,j,x=[].indexOf;r=function(t){return Boolean(t!==null&&typeof t==="object")};t=function(n,e,i){var u,f,l,o,s,a,c,g,p,h;if(typeof i!=="number"){i=6}else{i=Math.min(i,60)}i-=1;if(n&&e&&r(n)&&r(e)&&i){s=Object.keys(n);a=Object.keys(e);if(s.length!==a.length){return false}o=[];h=s.concat(a);for(f=0,g=h.length;f<g;f++){u=h[f];if(x.call(o,u)<0){o.push(u)}}for(c=0,p=o.length;c<p;c++){l=o[c];if(!t(n[l],e[l],i)){return false}}}else if(n!==e){return false}return true};n=function(t){var n;t=t.toString();return(n=t[1])!=null?n:{n:"0"+t}};p=function(t,n){if(!r(t)){return false}return!n||Object.keys(t).length>0};a=function(t,n){if(!r(t)||Array.isArray(t)){return false}return!n||Object.keys(t).length>0};s=function(t,n){if(!Array.isArray(t)){return false}return!n||t.length>0};h=function(t){return typeof t==="string"};g=function(t){return typeof t==="number"};c=function(t){return typeof t==="function"};f=function(t){var r,e,i,u,f,l,o;o=t.getFullYear();u=t.getMonth()+1;r=t.getDate();e=t.getHours();i=t.getMinutes();f=t.getSeconds();t=[o,u,r].map(n).join("/");l=[e,i,f].map(f_format_num).join(":");return t+" "+l};b=function(){return parseInt(Date.now()/1e3)};o=function(t){var n;n=t.split("/");return n[n.length-1]||""};l=function(t){var n,r,e;try{t=t.split("?")[0].split("#")[0];if(t.substr(-1)==="/"){t=t.substr(0,t.length-1)}e=t.split(".");if(e.length>1){r=e.pop();return r.toLowerCase()}return""}catch(t){n=t;return""}};i={update:function(t,n){var r,e,i;e=[];for(r in n){i=n[r];e.push(t[r]=i)}return e}};y={deduplicate:function(t,n){var r,e,i,u,f,l;if(!Array.isArray(t)){return[]}l=[];e={};r=function(t){if(n){return t[n]in e}else{return x.call(l,t)>=0}};for(u=0,f=t.length;u<f;u++){i=t[u];if(!r(i)){if(n){e[i[n]]=i}l.push(i)}}return l},get:function(n,r,e){var i,u,f,l,o;u=function(n,r,e){if(e){return t(n[e],r[e])}else{return t(n,r)}};for(i=f=0,l=n.length;f<l;i=++f){o=n[i];if(u(o,r,e)){return o}}return null},popup:function(n,r,e){var i,u,f,l,o,s;u=function(n,r,e){if(e){return t(n[e],r[e])}else{return t(n,r)}};s=null;for(i=f=0,l=n.length;f<l;i=++f){o=n[i];if(u(o,r,e)){s=o;n.splice(i,1);break}}return s},shift:function(t,n,r,e){var i;if(e===void 0){e=true}if(n<0){n=0}else if(n>t.length-1){n=t.length-1}r=Math.max(Math.min(r,t.length-1),0);if(r!==n){if(e){t[n]=t.splice(r,1,t[n])[0]}else{i=t[n];t.splice(n,1);t.splice(r,0,i)}}return t},remove:function(n,r,e){var i,u,f,l,o,s,a,c,g;i=function(n,r,e){if(e){return t(n[e],r[e])}else{return t(n,r)}};l=[];for(f=o=0,a=n.length;o<a;f=++o){g=n[f];if(i(g,r,e)){l.unshift(f)}}for(s=0,c=l.length;s<c;s++){u=l[s];n.splice(u,1)}return n},index:function(n,r,e){var i,u,f,l,o;i=function(n,r,e){if(e){return t(n[e],r[e])}else{return t(n,r)}};for(u=f=0,l=n.length;f<l;u=++f){o=n[u];if(i(o,r,e)){return u}}return null}};d=function(t,n,r){var e,u,f,l;if(typeof n!=="string"){n=null}if(typeof r!=="string"){r=null}i={};for(e=f=0,l=t.length;f<l;e=++f){u=t[e];if(!n){n=e.toString()}i[u[n]]=r?u[r]:u}return i};v=function(t,n){var r,e;if(typeof t==="string"){return t}else if(!Array.isArray(t)){return""}if(!n){n=", "}try{e=t.join(n)}catch(t){r=t;e=""}return e};O=function(t,n,r,e){var i,u,f,l,o,s;if(Array.isArray(t)){return t}else if(typeof t!=="string"){return[]}if(!r){r=",";t=t.replace(/[ï¼Œ]/g,",")}try{o=t.split(",")}catch(t){i=t;o=[]}l=[];for(u=0,f=o.length;u<f;u++){s=o[u];if(s){if(!e){s=s.trim()}if(n&&x.call(l,s)>=0){continue}l.push(s)}}return l};A=function(t,n){if(typeof t!=="string"||typeof n!=="string"){return null}return t.indexOf(n)===0};u=function(t,n){if(typeof t!=="string"||typeof n!=="string"){return null}return t.substr(t.length-n.length)===n};m=function(t,n){var r;r=t[n];delete t[n];return r};j=function(t,n){var r,e,i,u;u=function(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)};if(n===void 0){n=true}if(n){i=u()+u()+u()+u()+u()+u()+u()+u()}else{i=u()+u()+"-"+u()+"-"+u()+"-"+u()+"-"+u()+u()+u()}try{e=parseInt(t)}catch(t){r=t;e=0}if(e){i=i.substring(0,e)}return i};w={add_params:function(t,n){var r,e,i,u,f,l;if(!angular.isObject(n)){return t}r=function(t,n,r){var e;e=t.indexOf("?")>-1?"&":"?";n=encodeURIComponent(n);r=encodeURIComponent(r);t=t+e+n+"="+r;return t};for(u in n){l=n[u];if(angular.isArray(l)){for(i=0,f=l.length;i<f;i++){e=l[i];t=r(t,u,e)}}else{t=r(t,u,l)}}return t},get_params:function(t,n){var r,e,i,u,f,l,o,s,a;if(typeof t!=="string"){return{}}if(n===void 0){n=true}r=t.indexOf("#");if(r>-1){t=t.substring(0,r)}l={};o=t.indexOf("?");if(o>-1){s=t.split("?")[1].split("&");for(e=0,u=s.length;e<u;e++){a=s[e];f=a.split("=");i=f[0];a=f[1];if(!i){continue}else if(!l[i]){l[i]=a}else if(!n){if(!angular.isArray(l[i])){l[i]=[l[i]]}l[i].push(a)}}}return l}};e=function(t){var n,r,e,i,u,f,l;n=";base64,";if(t.indexOf(n)===-1){i=t.split(",");r=i[0].split(":")[1];u=i[1];return new Blob([u],{type:r})}i=t.split(n);r=i[0].split(":")[1];u=window.atob(i[1]);f=u.length;l=new Uint8Array(f);e=0;while(e<f){l[e]=u.charCodeAt(e);++e}return new Blob([l],{type:r})};module.exports={isArray:s,isObject:p,isDict:a,isFunction:c,isNumber:g,isString:h,format_time:f,now:b,list:y,list2dict:d,list2str:v,str2list:O,startswith:A,endswith:u,equals:t,pop:m,uuid4:j,url:w,guess_file_name:o,guess_file_ext:l,dataurl2blob:e}}).call(this);
