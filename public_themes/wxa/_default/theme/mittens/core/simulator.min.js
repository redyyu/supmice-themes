(function(e){"use strict";var t={objectMaxDepth:5};function n(e){if(q(e)){if(U(e.objectMaxDepth)){t.objectMaxDepth=r(e.objectMaxDepth)?e.objectMaxDepth:NaN}}else{return t}}function r(e){return z(e)&&e>0}function i(e,n){n=n||Error;return function(){var r=arguments[0],i=arguments[1],a="["+(e?e+":":"")+r+"] ",o=be(arguments,2).map(function(e){return lt(e,t.objectMaxDepth)}),s,u;a+=i.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);if(t<o.length){return o[t]}return e});a+="\nhttp://errors.angularjs.org/1.6.6/"+(e?e+"/":"")+r;for(u=0,s="?";u<o.length;u++,s="&"){a+=s+"p"+u+"="+encodeURIComponent(o[u])}return new n(a)}}var a=/^\/(.+)\/([a-z]*)$/;var o="validity";var s=Object.prototype.hasOwnProperty;var u=function(e){return F(e)?e.toLowerCase():e};var l=function(e){return F(e)?e.toUpperCase():e};var c=function(e){return F(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):e};var f=function(e){return F(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&~32)}):e};if("i"!=="I".toLowerCase()){u=c;l=f}var d,p,h,v=[].slice,$=[].splice,m=[].push,g=Object.prototype.toString,y=Object.getPrototypeOf,b=i("ng"),w=e.angular||(e.angular={}),x,k=0;d=e.document.documentMode;function E(e){if(e==null||Z(e))return false;if(G(e)||F(e)||p&&e instanceof p)return true;var t="length"in Object(e)&&e.length;return z(t)&&(t>=0&&(t-1 in e||e instanceof Array)||typeof e.item==="function")}function S(e,t,n){var r,i;if(e){if(K(e)){for(r in e){if(r!=="prototype"&&r!=="length"&&r!=="name"&&e.hasOwnProperty(r)){t.call(n,e[r],r,e)}}}else if(G(e)||E(e)){var a=typeof e!=="object";for(r=0,i=e.length;r<i;r++){if(a||r in e){t.call(n,e[r],r,e)}}}else if(e.forEach&&e.forEach!==S){e.forEach(t,n,e)}else if(B(e)){for(r in e){t.call(n,e[r],r,e)}}else if(typeof e.hasOwnProperty==="function"){for(r in e){if(e.hasOwnProperty(r)){t.call(n,e[r],r,e)}}}else{for(r in e){if(s.call(e,r)){t.call(n,e[r],r,e)}}}}return e}function C(e,t,n){var r=Object.keys(e).sort();for(var i=0;i<r.length;i++){t.call(n,e[r[i]],r[i])}return r}function A(e){return function(t,n){e(n,t)}}function M(){return++k}function _(e,t){if(t){e.$$hashKey=t}else{delete e.$$hashKey}}function T(e,t,n){var r=e.$$hashKey;for(var i=0,a=t.length;i<a;++i){var o=t[i];if(!q(o)&&!K(o))continue;var s=Object.keys(o);for(var u=0,l=s.length;u<l;u++){var c=s[u];var f=o[c];if(n&&q(f)){if(W(f)){e[c]=new Date(f.valueOf())}else if(Y(f)){e[c]=new RegExp(f)}else if(f.nodeName){e[c]=f.cloneNode(true)}else if(le(f)){e[c]=f.clone()}else{if(!q(e[c]))e[c]=G(f)?[]:{};T(e[c],[f],true)}}else{e[c]=f}}}_(e,r);return e}function O(e){return T(e,v.call(arguments,1),false)}function N(e){return T(e,v.call(arguments,1),true)}function L(e){return parseInt(e,10)}var I=Number.isNaN||function e(t){return t!==t};function H(e,t){return O(Object.create(e),t)}function V(){}V.$inject=[];function R(e){return e}R.$inject=[];function j(e){return function t(){return e}}function D(e){return K(e.toString)&&e.toString!==g}function P(e){return typeof e==="undefined"}function U(e){return typeof e!=="undefined"}function q(e){return e!==null&&typeof e==="object"}function B(e){return e!==null&&typeof e==="object"&&!y(e)}function F(e){return typeof e==="string"}function z(e){return typeof e==="number"}function W(e){return g.call(e)==="[object Date]"}var G=Array.isArray;function J(e){var t=g.call(e);switch(t){case"[object Error]":return true;case"[object Exception]":return true;case"[object DOMException]":return true;default:return e instanceof Error}}function K(e){return typeof e==="function"}function Y(e){return g.call(e)==="[object RegExp]"}function Z(e){return e&&e.window===e}function Q(e){return e&&e.$evalAsync&&e.$watch}function X(e){return g.call(e)==="[object File]"}function ee(e){return g.call(e)==="[object FormData]"}function te(e){return g.call(e)==="[object Blob]"}function ne(e){return typeof e==="boolean"}function re(e){return e&&K(e.then)}var ie=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;function ae(e){return e&&z(e.length)&&ie.test(g.call(e))}function oe(e){return g.call(e)==="[object ArrayBuffer]"}var se=function(e){return F(e)?e.trim():e};var ue=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function le(e){return!!(e&&(e.nodeName||e.prop&&e.attr&&e.find))}function ce(e){var t={},n=e.split(","),r;for(r=0;r<n.length;r++){t[n[r]]=true}return t}function fe(e){return u(e.nodeName||e[0]&&e[0].nodeName)}function de(e,t){return Array.prototype.indexOf.call(e,t)!==-1}function pe(e,t){var n=e.indexOf(t);if(n>=0){e.splice(n,1)}return n}function he(e,t,n){var i=[];var a=[];n=r(n)?n:NaN;if(t){if(ae(t)||oe(t)){throw b("cpta","Can't copy! TypedArray destination cannot be mutated.")}if(e===t){throw b("cpi","Can't copy! Source and destination are identical.")}if(G(t)){t.length=0}else{S(t,function(e,n){if(n!=="$$hashKey"){delete t[n]}})}i.push(e);a.push(t);return o(e,t,n)}return u(e,n);function o(e,t,n){n--;if(n<0){return"..."}var r=t.$$hashKey;var i;if(G(e)){for(var a=0,o=e.length;a<o;a++){t.push(u(e[a],n))}}else if(B(e)){for(i in e){t[i]=u(e[i],n)}}else if(e&&typeof e.hasOwnProperty==="function"){for(i in e){if(e.hasOwnProperty(i)){t[i]=u(e[i],n)}}}else{for(i in e){if(s.call(e,i)){t[i]=u(e[i],n)}}}_(t,r);return t}function u(e,t){if(!q(e)){return e}var n=i.indexOf(e);if(n!==-1){return a[n]}if(Z(e)||Q(e)){throw b("cpws","Can't copy! Making copies of Window or Scope instances is not supported.")}var r=false;var s=l(e);if(s===undefined){s=G(e)?[]:Object.create(y(e));r=true}i.push(e);a.push(s);return r?o(e,s,t):s}function l(e){switch(g.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(u(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);new Uint8Array(t).set(new Uint8Array(e));return t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);n.lastIndex=e.lastIndex;return n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(K(e.cloneNode)){return e.cloneNode(true)}}}function ve(e,t){return e===t||e!==e&&t!==t}function $e(e,t){if(e===t)return true;if(e===null||t===null)return false;if(e!==e&&t!==t)return true;var n=typeof e,r=typeof t,i,a,o;if(n===r&&n==="object"){if(G(e)){if(!G(t))return false;if((i=e.length)===t.length){for(a=0;a<i;a++){if(!$e(e[a],t[a]))return false}return true}}else if(W(e)){if(!W(t))return false;return ve(e.getTime(),t.getTime())}else if(Y(e)){if(!Y(t))return false;return e.toString()===t.toString()}else{if(Q(e)||Q(t)||Z(e)||Z(t)||G(t)||W(t)||Y(t))return false;o=Qe();for(a in e){if(a.charAt(0)==="$"||K(e[a]))continue;if(!$e(e[a],t[a]))return false;o[a]=true}for(a in t){if(!(a in o)&&a.charAt(0)!=="$"&&U(t[a])&&!K(t[a]))return false}return true}}return false}var me=function(){if(!U(me.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");me.rules={noUnsafeEval:!n||n.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!n||n.indexOf("no-inline-style")!==-1}}else{me.rules={noUnsafeEval:r(),noInlineStyle:false}}}return me.rules;function r(){try{new Function("");return false}catch(e){return true}}};var ge=function(){if(U(ge.name_))return ge.name_;var t;var n,r=He.length,i,a;for(n=0;n<r;++n){i=He[n];t=e.document.querySelector("["+i.replace(":","\\:")+"jq]");if(t){a=t.getAttribute(i+"jq");break}}return ge.name_=a};function ye(e,t,n){return e.concat(v.call(t,n))}function be(e,t){return v.call(e,t||0)}function we(e,t){var n=arguments.length>2?be(arguments,2):[];if(K(t)&&!(t instanceof RegExp)){return n.length?function(){return arguments.length?t.apply(e,ye(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}else{return t}}function xe(t,n){var r=n;if(typeof t==="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"){r=undefined}else if(Z(n)){r="$WINDOW"}else if(n&&e.document===n){r="$DOCUMENT"}else if(Q(n)){r="$SCOPE"}return r}function ke(e,t){if(P(e))return undefined;if(!z(t)){t=t?2:null}return JSON.stringify(e,xe,t)}function Ee(e){return F(e)?JSON.parse(e):e}var Se=/:/g;function Ce(e,t){e=e.replace(Se,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return I(n)?t:n}function Ae(e,t){e=new Date(e.getTime());e.setMinutes(e.getMinutes()+t);return e}function Me(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();var i=Ce(t,r);return Ae(e,n*(i-r))}function _e(e){e=p(e).clone().empty();var t=p("<div>").append(e).html();try{return e[0].nodeType===nt?u(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+u(t)})}catch(e){return u(t)}}function Te(e){try{return decodeURIComponent(e)}catch(e){}}function Oe(e){var t={};S((e||"").split("&"),function(e){var n,r,i;if(e){r=e=e.replace(/\+/g,"%20");n=e.indexOf("=");if(n!==-1){r=e.substring(0,n);i=e.substring(n+1)}r=Te(r);if(U(r)){i=U(i)?Te(i):true;if(!s.call(t,r)){t[r]=i}else if(G(t[r])){t[r].push(i)}else{t[r]=[t[r],i]}}}});return t}function Ne(e){var t=[];S(e,function(e,n){if(G(e)){S(e,function(e){t.push(Ie(n,true)+(e===true?"":"="+Ie(e,true)))})}else{t.push(Ie(n,true)+(e===true?"":"="+Ie(e,true)))}});return t.length?t.join("&"):""}function Le(e){return Ie(e,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ie(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var He=["ng-","data-ng-","ng:","x-ng-"];function Ve(e,t){var n,r,i=He.length;for(r=0;r<i;++r){n=He[r]+t;if(F(n=e.getAttribute(n))){return n}}return null}function Re(t){var n=t.currentScript;if(!n){return true}if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement)){return false}var r=n.attributes;var i=[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")];return i.every(function(e){if(!e){return true}if(!e.value){return false}var n=t.createElement("a");n.href=e.value;if(t.location.origin===n.origin){return true}switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return true;default:return false}})}var je=Re(e.document);function De(t,n){var r,i,a={};S(He,function(e){var n=e+"app";if(!r&&t.hasAttribute&&t.hasAttribute(n)){r=t;i=t.getAttribute(n)}});S(He,function(e){var n=e+"app";var a;if(!r&&(a=t.querySelector("["+n.replace(":","\\:")+"]"))){r=a;i=a.getAttribute(n)}});if(r){if(!je){e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates "+"an extension, document.location.href does not match.");return}a.strictDi=Ve(r,"strict-di")!==null;n(r,i?[i]:[],a)}}function Pe(t,n,r){if(!q(r))r={};var i={strictDi:false};r=O(i,r);var a=function(){t=p(t);if(t.injector()){var i=t[0]===e.document?"document":_e(t);throw b("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[];n.unshift(["$provide",function(e){e.value("$rootElement",t)}]);if(r.debugInfoEnabled){n.push(["$compileProvider",function(e){e.debugInfoEnabled(true)}])}n.unshift("ng");var a=kn(n,r.strictDi);a.invoke(["$rootScope","$rootElement","$compile","$injector",function e(t,n,r,i){t.$apply(function(){n.data("$injector",i);r(n)(t)})}]);return a};var o=/^NG_ENABLE_DEBUG_INFO!/;var s=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)){r.debugInfoEnabled=true;e.name=e.name.replace(o,"")}if(e&&!s.test(e.name)){return a()}e.name=e.name.replace(s,"");w.resumeBootstrap=function(e){S(e,function(e){n.push(e)});return a()};if(K(w.resumeDeferredBootstrap)){w.resumeDeferredBootstrap()}}function Ue(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name;e.location.reload()}function qe(e){var t=w.element(e).injector();if(!t){throw b("test","no injector found for element argument to getTestability")}return t.get("$$testability")}var Be=/[A-Z]/g;function Fe(e,t){t=t||"_";return e.replace(Be,function(e,n){return(n?t:"")+e.toLowerCase()})}var ze=false;function We(){var t;if(ze){return}var n=ge();h=P(n)?e.jQuery:!n?undefined:e[n];if(h&&h.fn.on){p=h;O(h.fn,{scope:Zt.scope,isolateScope:Zt.isolateScope,controller:Zt.controller,injector:Zt.injector,inheritedData:Zt.inheritedData});t=h.cleanData;h.cleanData=function(e){var n;for(var r=0,i;(i=e[r])!=null;r++){n=h._data(i,"events");if(n&&n.$destroy){h(i).triggerHandler("$destroy")}}t(e)}}else{p=It}w.element=p;ze=true}function Ge(e,t,n){if(!e){throw b("areq","Argument '{0}' is {1}",t||"?",n||"required")}return e}function Je(e,t,n){if(n&&G(e)){e=e[e.length-1]}Ge(K(e),t,"not a function, got "+(e&&typeof e==="object"?e.constructor.name||"Object":typeof e));return e}function Ke(e,t){if(e==="hasOwnProperty"){throw b("badname","hasOwnProperty is not a valid {0} name",t)}}function Ye(e,t,n){if(!t)return e;var r=t.split(".");var i;var a=e;var o=r.length;for(var s=0;s<o;s++){i=r[s];if(e){e=(a=e)[i]}}if(!n&&K(e)){return we(a,e)}return e}function Ze(e){var t=e[0];var n=e[e.length-1];var r;for(var i=1;t!==n&&(t=t.nextSibling);i++){if(r||e[i]!==t){if(!r){r=p(v.call(e,0,i))}r.push(t)}}return r||e}function Qe(){return Object.create(null)}function Xe(e){if(e==null){return""}switch(typeof e){case"string":break;case"number":e=""+e;break;default:if(D(e)&&!G(e)&&!W(e)){e=e.toString()}else{e=ke(e)}}return e}var et=1;var tt=2;var nt=3;var rt=8;var it=9;var at=11;function ot(e){var t=i("$injector");var n=i("ng");function r(e,t,n){return e[t]||(e[t]=n())}var a=r(e,"angular",Object);a.$$minErr=a.$$minErr||i;return r(a,"module",function(){var e={};return function i(a,o,s){var u={};var l=function(e,t){if(e==="hasOwnProperty"){throw n("badname","hasOwnProperty is not a valid {0} name",t)}};l(a,"module");if(o&&e.hasOwnProperty(a)){e[a]=null}return r(e,a,function(){if(!o){throw t("nomod","Module '{0}' is not available! You either misspelled "+"the module name or forgot to load it. If registering a module ensure that you "+"specify the dependencies as the second argument.",a)}var e=[];var r=[];var i=[];var l=f("$injector","invoke","push",r);var c={_invokeQueue:e,_configBlocks:r,_runBlocks:i,info:function(e){if(U(e)){if(!q(e))throw n("aobj","Argument '{0}' must be an object","value");u=e;return this}return u},requires:o,name:a,provider:d("$provide","provider"),factory:d("$provide","factory"),service:d("$provide","service"),value:f("$provide","value"),constant:f("$provide","constant","unshift"),decorator:d("$provide","decorator",r),animation:d("$animateProvider","register"),filter:d("$filterProvider","register"),controller:d("$controllerProvider","register"),directive:d("$compileProvider","directive"),component:d("$compileProvider","component"),config:l,run:function(e){i.push(e);return this}};if(s){l(s)}return c;function f(t,n,r,i){if(!i)i=e;return function(){i[r||"push"]([t,n,arguments]);return c}}function d(t,n,r){if(!r)r=e;return function(e,i){if(i&&K(i))i.$$moduleName=a;r.push([t,n,arguments]);return c}}})}})}function st(e,t){if(G(e)){t=t||[];for(var n=0,r=e.length;n<r;n++){t[n]=e[n]}}else if(q(e)){t=t||{};for(var i in e){if(!(i.charAt(0)==="$"&&i.charAt(1)==="$")){t[i]=e[i]}}}return t||e}function ut(e,t){var n=[];if(r(t)){e=w.copy(e,null,t)}return JSON.stringify(e,function(e,t){t=xe(e,t);if(q(t)){if(n.indexOf(t)>=0)return"...";n.push(t)}return t})}function lt(e,t){if(typeof e==="function"){return e.toString().replace(/ \{[\s\S]*$/,"")}else if(P(e)){return"undefined"}else if(typeof e!=="string"){return ut(e,t)}return e}var ct={full:"1.6.6",major:1,minor:6,dot:6,codeName:"interdimensional-cable"};function ft(t){O(t,{errorHandlingConfig:n,bootstrap:Pe,copy:he,extend:O,merge:N,equals:$e,element:p,forEach:S,injector:kn,noop:V,bind:we,toJson:ke,fromJson:Ee,identity:R,isUndefined:P,isDefined:U,isString:F,isFunction:K,isObject:q,isNumber:z,isElement:le,isArray:G,version:ct,isDate:W,lowercase:u,uppercase:l,callbacks:{$$counter:0},getTestability:qe,reloadWithDebugInfo:Ue,$$minErr:i,$$csp:me,$$encodeUriSegment:Le,$$encodeUriQuery:Ie,$$stringify:Xe});x=ot(e);x("ng",["ngLocale"],["$provide",function e(t){t.provider({$$sanitizeUri:Ti});t.provider("$compile",zn).directive({a:Oa,input:xo,textarea:xo,form:Da,script:ws,select:Ss,option:Cs,ngBind:So,ngBindHtml:Ao,ngBindTemplate:Co,ngClass:To,ngClassEven:No,ngClassOdd:Oo,ngCloak:Lo,ngController:Io,ngForm:Pa,ngHide:hs,ngIf:Ro,ngInclude:jo,ngInit:Po,ngNonBindable:as,ngPluralize:ls,ngRepeat:cs,ngShow:ps,ngStyle:vs,ngSwitch:$s,ngSwitchWhen:ms,ngSwitchDefault:gs,ngOptions:us,ngTransclude:bs,ngModel:Xo,ngList:Uo,ngChange:Mo,pattern:Ms,ngPattern:Ms,required:As,ngRequired:As,minlength:Ts,ngMinlength:Ts,maxlength:_s,ngMaxlength:_s,ngValue:Eo,ngModelOptions:rs}).directive({ngInclude:Do}).directive(Na).directive(Ho);t.provider({$anchorScroll:En,$animate:In,$animateCss:Rn,$$animateJs:Nn,$$animateQueue:Ln,$$AnimateRunner:Vn,$$animateAsyncRun:Hn,$browser:Dn,$cacheFactory:Pn,$controller:rr,$document:ir,$$isDocumentHidden:ar,$exceptionHandler:or,$filter:Zi,$$forceReflow:sr,$interpolate:Mr,$interval:_r,$http:kr,$httpParamSerializer:vr,$httpParamSerializerJQLike:$r,$httpBackend:Sr,$xhrFactory:Er,$jsonpCallbacks:Tr,$location:Yr,$log:Zr,$parse:wi,$rootScope:_i,$q:xi,$$q:ki,$sce:ji,$sceDelegate:Ri,$sniffer:Di,$templateCache:Un,$templateRequest:Ui,$$testability:qi,$timeout:Bi,$window:Ji,$$rAF:Mi,$$jqLite:sn,$$Map:dn,$$cookieReader:Yi})}]).info({angularVersion:"1.6.6"})}It.expando="ng339";var dt=It.cache={},pt=1;It._data=function(e){return this.cache[e[this.expando]]||{}};function ht(){return++pt}var vt=/-([a-z])/g;var $t=/^-ms-/;var mt={mouseleave:"mouseout",mouseenter:"mouseover"};var gt=i("jqLite");function yt(e){return wt(e.replace($t,"ms-"))}function bt(e,t){return t.toUpperCase()}function wt(e){return e.replace(vt,bt)}var xt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;var kt=/<|&#?\w+;/;var Et=/<([\w:-]+)/;var St=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi;var Ct={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ct.optgroup=Ct.option;Ct.tbody=Ct.tfoot=Ct.colgroup=Ct.caption=Ct.thead;Ct.th=Ct.td;function At(e){return!kt.test(e)}function Mt(e){var t=e.nodeType;return t===et||!t||t===it}function _t(e){for(var t in dt[e.ng339]){return true}return false}function Tt(e,t){var n,r,i,a=t.createDocumentFragment(),o=[],s;if(At(e)){o.push(t.createTextNode(e))}else{n=a.appendChild(t.createElement("div"));r=(Et.exec(e)||["",""])[1].toLowerCase();i=Ct[r]||Ct._default;n.innerHTML=i[1]+e.replace(St,"<$1></$2>")+i[2];s=i[0];while(s--){n=n.lastChild}o=ye(o,n.childNodes);n=a.firstChild;n.textContent=""}a.textContent="";a.innerHTML="";S(o,function(e){a.appendChild(e)});return a}function Ot(t,n){n=n||e.document;var r;if(r=xt.exec(t)){return[n.createElement(r[1])]}if(r=Tt(t,n)){return r.childNodes}return[]}function Nt(e,t){var n=e.parentNode;if(n){n.replaceChild(t,e)}t.appendChild(e)}var Lt=e.Node.prototype.contains||function(e){return!!(this.compareDocumentPosition(e)&16)};function It(e){if(e instanceof It){return e}var t;if(F(e)){e=se(e);t=true}if(!(this instanceof It)){if(t&&e.charAt(0)!=="<"){throw gt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element")}return new It(e)}if(t){Ft(this,Ot(e))}else if(K(e)){Yt(e)}else{Ft(this,e)}}function Ht(e){return e.cloneNode(true)}function Vt(e,t){if(!t&&Mt(e))p.cleanData([e]);if(e.querySelectorAll){p.cleanData(e.querySelectorAll("*"))}}function Rt(e,t,n,r){if(U(r))throw gt("offargs","jqLite#off() does not support the `selector` argument");var i=Dt(e);var a=i&&i.events;var o=i&&i.handle;if(!o)return;if(!t){for(t in a){if(t!=="$destroy"){e.removeEventListener(t,o)}delete a[t]}}else{var s=function(t){var r=a[t];if(U(n)){pe(r||[],n)}if(!(U(n)&&r&&r.length>0)){e.removeEventListener(t,o);delete a[t]}};S(t.split(" "),function(e){s(e);if(mt[e]){s(mt[e])}})}}function jt(e,t){var n=e.ng339;var r=n&&dt[n];if(r){if(t){delete r.data[t];return}if(r.handle){if(r.events.$destroy){r.handle({},"$destroy")}Rt(e)}delete dt[n];e.ng339=undefined}}function Dt(e,t){var n=e.ng339,r=n&&dt[n];if(t&&!r){e.ng339=n=ht();r=dt[n]={events:{},data:{},handle:undefined}}return r}function Pt(e,t,n){if(Mt(e)){var r;var i=U(n);var a=!i&&t&&!q(t);var o=!t;var s=Dt(e,!a);var u=s&&s.data;if(i){u[wt(t)]=n}else{if(o){return u}else{if(a){return u&&u[wt(t)]}else{for(r in t){u[wt(r)]=t[r]}}}}}}function Ut(e,t){if(!e.getAttribute)return false;return(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function qt(e,t){if(t&&e.setAttribute){S(t.split(" "),function(t){e.setAttribute("class",se((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+se(t)+" "," ")))})}}function Bt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");S(t.split(" "),function(e){e=se(e);if(n.indexOf(" "+e+" ")===-1){n+=e+" "}});e.setAttribute("class",se(n))}}function Ft(e,t){if(t){if(t.nodeType){e[e.length++]=t}else{var n=t.length;if(typeof n==="number"&&t.window!==t){if(n){for(var r=0;r<n;r++){e[e.length++]=t[r]}}}else{e[e.length++]=t}}}}function zt(e,t){return Wt(e,"$"+(t||"ngController")+"Controller")}function Wt(e,t,n){if(e.nodeType===it){e=e.documentElement}var r=G(t)?t:[t];while(e){for(var i=0,a=r.length;i<a;i++){if(U(n=p.data(e,r[i])))return n}e=e.parentNode||e.nodeType===at&&e.host}}function Gt(e){Vt(e,true);while(e.firstChild){e.removeChild(e.firstChild)}}function Jt(e,t){if(!t)Vt(e);var n=e.parentNode;if(n)n.removeChild(e)}function Kt(t,n){n=n||e;if(n.document.readyState==="complete"){n.setTimeout(t)}else{p(n).on("load",t)}}function Yt(t){function n(){e.document.removeEventListener("DOMContentLoaded",n);e.removeEventListener("load",n);t()}if(e.document.readyState==="complete"){e.setTimeout(t)}else{e.document.addEventListener("DOMContentLoaded",n);e.addEventListener("load",n)}}var Zt=It.prototype={ready:Yt,toString:function(){var e=[];S(this,function(t){e.push(""+t)});return"["+e.join(", ")+"]"},eq:function(e){return e>=0?p(this[e]):p(this[this.length+e])},length:0,push:m,sort:[].sort,splice:[].splice};var Qt={};S("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Qt[u(e)]=e});var Xt={};S("input,select,option,textarea,button,form,details".split(","),function(e){Xt[e]=true});var en={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function tn(e,t){var n=Qt[t.toLowerCase()];return n&&Xt[fe(e)]&&n}function nn(e){return en[e]}S({data:Pt,removeData:jt,hasData:_t,cleanData:function e(t){for(var n=0,r=t.length;n<r;n++){jt(t[n])}}},function(e,t){It[t]=e});S({data:Pt,inheritedData:Wt,scope:function(e){return p.data(e,"$scope")||Wt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return p.data(e,"$isolateScope")||p.data(e,"$isolateScopeNoTemplate")},controller:zt,injector:function(e){return Wt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ut,css:function(e,t,n){t=yt(t);if(U(n)){e.style[t]=n}else{return e.style[t]}},attr:function(e,t,n){var r;var i=e.nodeType;if(i===nt||i===tt||i===rt||!e.getAttribute){return}var a=u(t);var o=Qt[a];if(U(n)){if(n===null||n===false&&o){e.removeAttribute(t)}else{e.setAttribute(t,o?a:n)}}else{r=e.getAttribute(t);if(o&&r!==null){r=a}return r===null?undefined:r}},prop:function(e,t,n){if(U(n)){e[t]=n}else{return e[t]}},text:function(){e.$dv="";return e;function e(e,t){if(P(t)){var n=e.nodeType;return n===et||n===nt?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(P(t)){if(e.multiple&&fe(e)==="select"){var n=[];S(e.options,function(e){if(e.selected){n.push(e.value||e.text)}});return n}return e.value}e.value=t},html:function(e,t){if(P(t)){return e.innerHTML}Vt(e,true);e.innerHTML=t},empty:Gt},function(e,t){It.prototype[t]=function(t,n){var r,i;var a=this.length;if(e!==Gt&&P(e.length===2&&(e!==Ut&&e!==zt)?t:n)){if(q(t)){for(r=0;r<a;r++){if(e===Pt){e(this[r],t)}else{for(i in t){e(this[r],i,t[i])}}}return this}else{var o=e.$dv;var s=P(o)?Math.min(a,1):a;for(var u=0;u<s;u++){var l=e(this[u],t,n);o=o?o+l:l}return o}}else{for(r=0;r<a;r++){e(this[r],t,n)}return this}}});function rn(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type];var a=i?i.length:0;if(!a)return;if(P(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=true;if(n.stopPropagation){n.stopPropagation()}if(o){o.call(n)}}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===true};var s=i.specialHandlerWrapper||an;if(a>1){i=st(i)}for(var u=0;u<a;u++){if(!n.isImmediatePropagationStopped()){s(e,n,i[u])}}};n.elem=e;return n}function an(e,t,n){n.call(e,t)}function on(e,t,n){var r=t.relatedTarget;if(!r||r!==e&&!Lt.call(e,r)){n.call(e,t)}}S({removeData:jt,on:function e(t,n,r,i){if(U(i))throw gt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(!Mt(t)){return}var a=Dt(t,true);var o=a.events;var s=a.handle;if(!s){s=a.handle=rn(t,o)}var u=n.indexOf(" ")>=0?n.split(" "):[n];var l=u.length;var c=function(e,n,i){var a=o[e];if(!a){a=o[e]=[];a.specialHandlerWrapper=n;if(e!=="$destroy"&&!i){t.addEventListener(e,s)}}a.push(r)};while(l--){n=u[l];if(mt[n]){c(mt[n],on);c(n,undefined,true)}else{c(n)}}},off:Rt,one:function(e,t,n){e=p(e);e.on(t,function r(){e.off(t,n);e.off(t,r)});e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Vt(e);S(new It(t),function(t){if(n){r.insertBefore(t,n.nextSibling)}else{r.replaceChild(t,e)}n=t})},children:function(e){var t=[];S(e.childNodes,function(e){if(e.nodeType===et){t.push(e)}});return t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n!==et&&n!==at)return;t=new It(t);for(var r=0,i=t.length;r<i;r++){var a=t[r];e.appendChild(a)}},prepend:function(e,t){if(e.nodeType===et){var n=e.firstChild;S(new It(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Nt(e,p(t).eq(0).clone()[0])},remove:Jt,detach:function(e){Jt(e,true)},after:function(e,t){var n=e,r=e.parentNode;if(r){t=new It(t);for(var i=0,a=t.length;i<a;i++){var o=t[i];r.insertBefore(o,n.nextSibling);n=o}}},addClass:Bt,removeClass:qt,toggleClass:function(e,t,n){if(t){S(t.split(" "),function(t){var r=n;if(P(r)){r=!Ut(e,t)}(r?Bt:qt)(e,t)})}},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==at?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){if(e.getElementsByTagName){return e.getElementsByTagName(t)}else{return[]}},clone:Ht,triggerHandler:function(e,t,n){var r,i,a;var o=t.type||t;var s=Dt(e);var u=s&&s.events;var l=u&&u[o];if(l){r={preventDefault:function(){this.defaultPrevented=true},isDefaultPrevented:function(){return this.defaultPrevented===true},stopImmediatePropagation:function(){this.immediatePropagationStopped=true},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===true},stopPropagation:V,type:o,target:e};if(t.type){r=O(r,t)}i=st(l);a=n?[r].concat(n):[r];S(i,function(t){if(!r.isImmediatePropagationStopped()){t.apply(e,a)}})}}},function(e,t){It.prototype[t]=function(t,n,r){var i;for(var a=0,o=this.length;a<o;a++){if(P(i)){i=e(this[a],t,n,r);if(U(i)){i=p(i)}}else{Ft(i,e(this[a],t,n,r))}}return U(i)?i:this}});It.prototype.bind=It.prototype.on;It.prototype.unbind=It.prototype.off;function sn(){this.$get=function e(){return O(It,{hasClass:function(e,t){if(e.attr)e=e[0];return Ut(e,t)},addClass:function(e,t){if(e.attr)e=e[0];return Bt(e,t)},removeClass:function(e,t){if(e.attr)e=e[0];return qt(e,t)}})}}function un(e,t){var n=e&&e.$$hashKey;if(n){if(typeof n==="function"){n=e.$$hashKey()}return n}var r=typeof e;if(r==="function"||r==="object"&&e!==null){n=e.$$hashKey=r+":"+(t||M)()}else{n=r+":"+e}return n}var ln=Object.create(null);function cn(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}cn.prototype={_idx:function(e){if(e===this._lastKey){return this._lastIndex}this._lastKey=e;this._lastIndex=this._keys.indexOf(e);return this._lastIndex},_transformKey:function(e){return I(e)?ln:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(t!==-1){return this._values[t]}},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);if(n===-1){n=this._lastIndex=this._keys.length}this._keys[n]=e;this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);if(t===-1){return false}this._keys.splice(t,1);this._values.splice(t,1);this._lastKey=NaN;this._lastIndex=-1;return true}};var fn=cn;var dn=[function(){this.$get=[function(){return fn}]}];var pn=/^([^(]+?)=>/;var hn=/^[^(]*\(\s*([^)]*)\)/m;var vn=/,/;var $n=/^\s*(_?)(\S+?)\1\s*$/;var mn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;var gn=i("$injector");function yn(e){return Function.prototype.toString.call(e)}function bn(e){var t=yn(e).replace(mn,""),n=t.match(pn)||t.match(hn);return n}function wn(e){var t=bn(e);if(t){return"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")"}return"fn"}function xn(e,t,n){var r,i,a;if(typeof e==="function"){if(!(r=e.$inject)){r=[];if(e.length){if(t){if(!F(n)||!n){n=e.name||wn(e)}throw gn("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n)}i=bn(e);S(i[1].split(vn),function(e){e.replace($n,function(e,t,n){r.push(n)})})}e.$inject=r}}else if(G(e)){a=e.length-1;Je(e[a],"fn");r=e.slice(0,a)}else{Je(e,"fn",true)}return r}function kn(e,t){t=t===true;var n={},r="Provider",i=[],a=new fn,o={$provide:{provider:p(h),factory:p($),service:p(m),value:p(g),constant:p(y),decorator:b}},s=o.$injector=E(o,function(e,t){if(w.isString(t)){i.push(t)}throw gn("unpr","Unknown provider: {0}",i.join(" <- "))}),u={},l=E(u,function(e,t){var n=s.get(e+r,t);return c.invoke(n.$get,n,undefined,e)}),c=l;o["$injector"+r]={$get:j(l)};c.modules=s.modules=Qe();var f=k(e);c=l.get("$injector");c.strictDi=t;S(f,function(e){if(e)c.invoke(e)});return c;function p(e){return function(t,n){if(q(t)){S(t,A(e))}else{return e(t,n)}}}function h(e,t){Ke(e,"service");if(K(t)||G(t)){t=s.instantiate(t)}if(!t.$get){throw gn("pget","Provider '{0}' must define $get factory method.",e)}return o[e+r]=t}function v(e,t){return function n(){var r=c.invoke(t,this);if(P(r)){throw gn("undef","Provider '{0}' must return a value from $get factory method.",e)}return r}}function $(e,t,n){return h(e,{$get:n!==false?v(e,t):t})}function m(e,t){return $(e,["$injector",function(e){return e.instantiate(t)}])}function g(e,t){return $(e,j(t),false)}function y(e,t){Ke(e,"constant");o[e]=t;u[e]=t}function b(e,t){var n=s.get(e+r),i=n.$get;n.$get=function(){var e=c.invoke(i,n);return c.invoke(t,null,{$delegate:e})}}function k(e){Ge(P(e)||G(e),"modulesToLoad","not an array");var t=[],n;S(e,function(e){if(a.get(e))return;a.set(e,true);function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=s.get(r[0]);i[r[1]].apply(i,r[2])}}try{if(F(e)){n=x(e);c.modules[e]=n;t=t.concat(k(n.requires)).concat(n._runBlocks);r(n._invokeQueue);r(n._configBlocks)}else if(K(e)){t.push(s.invoke(e))}else if(G(e)){t.push(s.invoke(e))}else{Je(e,"module")}}catch(t){if(G(e)){e=e[e.length-1]}if(t.message&&t.stack&&t.stack.indexOf(t.message)===-1){t=t.message+"\n"+t.stack}throw gn("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}});return t}function E(e,a){function s(t,r){if(e.hasOwnProperty(t)){if(e[t]===n){throw gn("cdep","Circular dependency found: {0}",t+" <- "+i.join(" <- "))}return e[t]}else{try{i.unshift(t);e[t]=n;e[t]=a(t,r);return e[t]}catch(r){if(e[t]===n){delete e[t]}throw r}finally{i.shift()}}}function u(e,n,r){var i=[],a=kn.$$annotate(e,t,r);for(var o=0,u=a.length;o<u;o++){var l=a[o];if(typeof l!=="string"){throw gn("itkn","Incorrect injection token! Expected service name as string, got {0}",l)}i.push(n&&n.hasOwnProperty(l)?n[l]:s(l,r))}return i}function l(e){if(d||typeof e!=="function"){return false}var t=e.$$ngIsClass;if(!ne(t)){t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(yn(e))}return t}function c(e,t,n,r){if(typeof n==="string"){r=n;n=null}var i=u(e,n,r);if(G(e)){e=e[e.length-1]}if(!l(e)){return e.apply(t,i)}else{i.unshift(null);return new(Function.prototype.bind.apply(e,i))}}function f(e,t,n){var r=G(e)?e[e.length-1]:e;var i=u(e,t,n);i.unshift(null);return new(Function.prototype.bind.apply(r,i))}return{invoke:c,instantiate:f,get:s,annotate:kn.$$annotate,has:function(t){return o.hasOwnProperty(t+r)||e.hasOwnProperty(t)}}}}kn.$$annotate=xn;function En(){var e=true;this.disableAutoScrolling=function(){e=false};this.$get=["$window","$location","$rootScope",function(t,n,r){var i=t.document;function a(e){var t=null;Array.prototype.some.call(e,function(e){if(fe(e)==="a"){t=e;return true}});return t}function o(){var e=u.yOffset;if(K(e)){e=e()}else if(le(e)){var n=e[0];var r=t.getComputedStyle(n);if(r.position!=="fixed"){e=0}else{e=n.getBoundingClientRect().bottom}}else if(!z(e)){e=0}return e}function s(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else{t.scrollTo(0,0)}}function u(e){e=F(e)?e:z(e)?e.toString():n.hash();var t;if(!e)s(null);else if(t=i.getElementById(e))s(t);else if(t=a(i.getElementsByName(e)))s(t);else if(e==="top")s(null)}if(e){r.$watch(function e(){return n.hash()},function e(t,n){if(t===n&&t==="")return;Kt(function(){r.$evalAsync(u)})})}return u}]}var Sn=i("$animate");var Cn=1;var An="ng-animate";function Mn(e,t){if(!e&&!t)return"";if(!e)return t;if(!t)return e;if(G(e))e=e.join(" ");if(G(t))t=t.join(" ");return e+" "+t}function _n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Cn){return n}}}function Tn(e){if(F(e)){e=e.split(" ")}var t=Qe();S(e,function(e){if(e.length){t[e]=true}});return t}function On(e){return q(e)?e:{}}var Nn=function(){this.$get=V};var Ln=function(){var e=new fn;var t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){return{enabled:V,on:V,off:V,pin:V,push:function(e,t,r,i){if(i){i()}r=r||{};if(r.from){e.css(r.from)}if(r.to){e.css(r.to)}if(r.addClass||r.removeClass){o(e,r.addClass,r.removeClass)}var a=new n;a.complete();return a}};function i(e,t,n){var r=false;if(t){t=F(t)?t.split(" "):G(t)?t:[];S(t,function(t){if(t){r=true;e[t]=n}})}return r}function a(){S(t,function(t){var n=e.get(t);if(n){var r=Tn(t.attr("class"));var i="";var a="";S(n,function(e,t){var n=!!r[t];if(e!==n){if(e){i+=(i.length?" ":"")+t}else{a+=(a.length?" ":"")+t}}});S(t,function(e){if(i){Bt(e,i)}if(a){qt(e,a)}});e.delete(t)}});t.length=0}function o(n,o,s){var u=e.get(n)||{};var l=i(u,o,true);var c=i(u,s,false);if(l||c){e.set(n,u);t.push(n);if(t.length===1){r.$$postDigest(a)}}}}]};var In=["$provide",function(e){var t=this;var n=null;var r=null;this.$$registeredAnimations=Object.create(null);this.register=function(n,r){if(n&&n.charAt(0)!=="."){throw Sn("notcsel","Expecting class selector starting with '.' got '{0}'.",n)}var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i;e.factory(i,r)};this.customFilter=function(e){if(arguments.length===1){r=K(e)?e:null}return r};this.classNameFilter=function(e){if(arguments.length===1){n=e instanceof RegExp?e:null;if(n){var t=new RegExp("[(\\s|\\/)]"+An+"[(\\s|\\/)]");if(t.test(n.toString())){n=null;throw Sn("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',An)}}}return n};this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=_n(n);if(r&&!r.parentNode&&!r.previousElementSibling){n=null}}if(n){n.after(e)}else{t.prepend(e)}}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){if(e.end){e.end()}},enter:function(n,r,i,a){r=r&&p(r);i=i&&p(i);r=r||i.parent();t(n,r,i);return e.push(n,"enter",On(a))},move:function(n,r,i,a){r=r&&p(r);i=i&&p(i);r=r||i.parent();t(n,r,i);return e.push(n,"move",On(a))},leave:function(t,n){return e.push(t,"leave",On(n),function(){t.remove()})},addClass:function(t,n,r){r=On(r);r.addClass=Mn(r.addclass,n);return e.push(t,"addClass",r)},removeClass:function(t,n,r){r=On(r);r.removeClass=Mn(r.removeClass,n);return e.push(t,"removeClass",r)},setClass:function(t,n,r,i){i=On(i);i.addClass=Mn(i.addClass,n);i.removeClass=Mn(i.removeClass,r);return e.push(t,"setClass",i)},animate:function(t,n,r,i,a){a=On(a);a.from=a.from?O(a.from,n):n;a.to=a.to?O(a.to,r):r;i=i||"ng-inline-animate";a.tempClasses=Mn(a.tempClasses,i);return e.push(t,"animate",a)}}}]}];var Hn=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n);if(t.length>1)return;e(function(){for(var e=0;e<t.length;e++){t[e]()}t=[]})}return function(){var e=false;n(function(){e=true});return function(t){if(e){t()}else{n(t)}}}}]};var Vn=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,i){var a=0;var o=1;var s=2;u.chain=function(e,t){var n=0;r();function r(){if(n===e.length){t(true);return}e[n](function(e){if(e===false){t(false);return}n++;r()})}};u.all=function(e,t){var n=0;var r=true;S(e,function(e){e.done(i)});function i(i){r=r&&i;if(++n===e.length){t(r)}}};function u(e){this.setHost(e);var t=n();var a=function(e){i(e,0,false)};this._doneCallbacks=[];this._tick=function(e){if(r()){a(e)}else{t(e)}};this._state=0}u.prototype={setHost:function(e){this.host=e||{}},done:function(e){if(this._state===s){e()}else{this._doneCallbacks.push(e)}},progress:V,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){if(t===false){n()}else{e()}})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise()["catch"](e)},finally:function(e){return this.getPromise()["finally"](e)},pause:function(){if(this.host.pause){this.host.pause()}},resume:function(){if(this.host.resume){this.host.resume()}},end:function(){if(this.host.end){this.host.end()}this._resolve(true)},cancel:function(){if(this.host.cancel){this.host.cancel()}this._resolve(false)},complete:function(e){var t=this;if(t._state===a){t._state=o;t._tick(function(){t._resolve(e)})}},_resolve:function(e){if(this._state!==s){S(this._doneCallbacks,function(t){t(e)});this._doneCallbacks.length=0;this._state=s}}};return u}]};var Rn=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){var i=r||{};if(!i.$$prepared){i=he(i)}if(i.cleanupStyles){i.from=i.to=null}if(i.from){t.css(i.from);i.from=null}var a,o=new n;return{start:s,end:s};function s(){e(function(){u();if(!a){o.complete()}a=true});return o}function u(){if(i.addClass){t.addClass(i.addClass);i.addClass=null}if(i.removeClass){t.removeClass(i.removeClass);i.removeClass=null}if(i.to){t.css(i.to);i.to=null}}}}]};function jn(e,t,n,r){var i=this,a=e.location,o=e.history,s=e.setTimeout,u=e.clearTimeout,l={};i.isMock=false;var c=0;var f=[];i.$$completeOutstandingRequest=d;i.$$incOutstandingRequestCount=function(){c++};function d(e){try{e.apply(null,be(arguments,1))}finally{c--;if(c===0){while(f.length){try{f.pop()()}catch(e){n.error(e)}}}}}function h(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}i.notifyWhenNoOutstandingRequests=function(e){if(c===0){e()}else{f.push(e)}};var v,$,m=a.href,g=t.find("base"),y=null,b=!r.history?V:function e(){try{return o.state}catch(e){}};C();i.url=function(t,n,s){if(P(s)){s=null}if(a!==e.location)a=e.location;if(o!==e.history)o=e.history;if(t){var u=$===s;if(m===t&&(!r.history||u)){return i}var l=m&&Pr(m)===Pr(t);m=t;$=s;if(r.history&&(!l||!u)){o[n?"replaceState":"pushState"](s,"",t);C()}else{if(!l){y=t}if(n){a.replace(t)}else if(!l){a.href=t}else{a.hash=h(t)}if(a.href!==t){y=t}}if(y){y=t}return i}else{return y||a.href.replace(/%27/g,"'")}};i.state=function(){return v};var w=[],x=false;function k(){y=null;A()}var E=null;function C(){v=b();v=P(v)?null:v;if($e(v,E)){v=E}E=v;$=v}function A(){var e=$;C();if(m===i.url()&&e===v){return}m=i.url();$=v;S(w,function(e){e(i.url(),v)})}i.onUrlChange=function(t){if(!x){if(r.history)p(e).on("popstate",k);p(e).on("hashchange",k);x=true}w.push(t);return t};i.$$applicationDestroyed=function(){p(e).off("hashchange popstate",k)};i.$$checkUrlChange=A;i.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""};i.defer=function(e,t){var n;c++;n=s(function(){delete l[n];d(e)},t||0);l[n]=true;return n};i.defer.cancel=function(e){if(l[e]){delete l[e];u(e);d(V);return true}return false}}function Dn(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new jn(e,r,t,n)}]}function Pn(){this.$get=function(){var e={};function t(t,n){if(t in e){throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t)}var r=0,a=O({},n,{id:t}),o=Qe(),s=n&&n.capacity||Number.MAX_VALUE,u=Qe(),l=null,c=null;return e[t]={put:function(e,t){if(P(t))return;if(s<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});f(n)}if(!(e in o))r++;o[e]=t;if(r>s){this.remove(c.key)}return t},get:function(e){if(s<Number.MAX_VALUE){var t=u[e];if(!t)return;f(t)}return o[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=u[e];if(!t)return;if(t===l)l=t.p;if(t===c)c=t.n;d(t.n,t.p);delete u[e]}if(!(e in o))return;delete o[e];r--},removeAll:function(){o=Qe();r=0;u=Qe();l=c=null},destroy:function(){o=null;a=null;u=null;delete e[t]},info:function(){return O({},a,{size:r})}};function f(e){if(e!==l){if(!c){c=e}else if(c===e){c=e.n}d(e.n,e.p);d(e,l);l=e;l.n=null}}function d(e,t){if(e!==t){if(e)e.p=t;if(t)t.n=e}}}t.info=function(){var t={};S(e,function(e,n){t[n]=e.info()});return t};t.get=function(t){return e[t]};return t}}function Un(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var qn=i("$compile");function Bn(){}var Fn=new Bn;zn.$inject=["$provide","$$sanitizeUriProvider"];function zn(t,n){var r={},i="Directive",a=/^\s*directive:\s*([\w-]+)\s+(.*)$/,o=/(([\w-]+)(?::([^;]+))?;?)/,l=ce("ngSrc,ngSrcset,src,srcset"),c=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/;var f=/^(on[a-z]+|formaction)$/;var h=Qe();function v(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/;var i=Qe();S(e,function(e,a){if(e in h){i[a]=h[e];return}var o=e.match(r);if(!o){throw qn("iscp","Invalid {3} for directive '{0}'."+" Definition: {... {1}: '{2}' ...}",t,a,e,n?"controller bindings definition":"isolate scope definition")}i[a]={mode:o[1][0],collection:o[2]==="*",optional:o[3]==="?",attrName:o[4]||a};if(o[4]){h[e]=i[a]}});return i}function $(e,t){var n={isolateScope:null,bindToController:null};if(q(e.scope)){if(e.bindToController===true){n.bindToController=v(e.scope,t,true);n.isolateScope={}}else{n.isolateScope=v(e.scope,t,false)}}if(q(e.bindToController)){n.bindToController=v(e.bindToController,t,true)}if(n.bindToController&&!e.controller){throw qn("noctrl","Cannot bind to controller without directive '{0}'s controller.",t)}return n}function m(e){var t=e.charAt(0);if(!t||t!==u(t)){throw qn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e)}if(e!==e.trim()){throw qn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}}function y(e){var t=e.require||e.controller&&e.name;if(!G(t)&&q(t)){S(t,function(e,n){var r=e.match(c);var i=e.substring(r[0].length);if(!i)t[n]=r[0]+n})}return t}function b(e,t){if(e&&!(F(e)&&/[EACM]/.test(e))){throw qn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t)}return e||"EA"}this.directive=function e(n,a){Ge(n,"name");Ke(n,"directive");if(F(n)){m(n);Ge(a,"directiveFactory");if(!r.hasOwnProperty(n)){r[n]=[];t.factory(n+i,["$injector","$exceptionHandler",function(e,t){var i=[];S(r[n],function(r,a){try{var o=e.invoke(r);if(K(o)){o={compile:j(o)}}else if(!o.compile&&o.link){o.compile=j(o.link)}o.priority=o.priority||0;o.index=a;o.name=o.name||n;o.require=y(o);o.restrict=b(o.restrict,n);o.$$moduleName=r.$$moduleName;i.push(o)}catch(e){t(e)}});return i}])}r[n].push(a)}else{S(n,A(e))}return this};this.component=function e(t,n){if(!F(t)){S(t,A(we(this,e)));return this}var r=n.controller||function(){};function i(e){function t(t){if(K(t)||G(t)){return function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}}else{return t}}var i=!n.template&&!n.templateUrl?"":n.template;var a={controller:r,controllerAs:nr(n.controller)||n.controllerAs||"$ctrl",template:t(i),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};S(n,function(e,t){if(t.charAt(0)==="$")a[t]=e});return a}S(n,function(e,t){if(t.charAt(0)==="$"){i[t]=e;if(K(r))r[t]=e}});i.$inject=["$injector"];return this.directive(t,i)};this.aHrefSanitizationWhitelist=function(e){if(U(e)){n.aHrefSanitizationWhitelist(e);return this}else{return n.aHrefSanitizationWhitelist()}};this.imgSrcSanitizationWhitelist=function(e){if(U(e)){n.imgSrcSanitizationWhitelist(e);return this}else{return n.imgSrcSanitizationWhitelist()}};var w=true;this.debugInfoEnabled=function(e){if(U(e)){w=e;return this}return w};var x=false;this.preAssignBindingsEnabled=function(e){if(U(e)){x=e;return this}return x};var k=false;this.strictComponentBindingsEnabled=function(e){if(U(e)){k=e;return this}return k};var E=10;this.onChangesTtl=function(e){if(arguments.length){E=e;return this}return E};var C=true;this.commentDirectivesEnabled=function(e){if(arguments.length){C=e;return this}return C};var M=true;this.cssClassDirectivesEnabled=function(e){if(arguments.length){M=e;return this}return M};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,h,v,m,y,b,A,_,T){var N=/^\w/;var L=e.document.createElement("div");var I=C;var j=M;var D=E;var B;function z(){try{if(!--D){B=undefined;throw qn("infchng","{0} $onChanges() iterations reached. Aborting!\n",E)}b.$apply(function(){var e=[];for(var t=0,n=B.length;t<n;++t){try{B[t]()}catch(t){e.push(t)}}B=undefined;if(e.length){throw e}})}finally{D++}}function W(e,t){if(t){var n=Object.keys(t);var r,i,a;for(r=0,i=n.length;r<i;r++){a=n[r];this[a]=t[a]}}else{this.$attr={}}this.$$element=e}W.prototype={$normalize:Kn,$addClass:function(e){if(e&&e.length>0){_.addClass(this.$$element,e)}},$removeClass:function(e){if(e&&e.length>0){_.removeClass(this.$$element,e)}},$updateClass:function(e,t){var n=Qn(e,t);if(n&&n.length){_.addClass(this.$$element,n)}var r=Qn(t,e);if(r&&r.length){_.removeClass(this.$$element,r)}},$set:function(e,t,n,r){var i=this.$$element[0],a=tn(i,e),o=nn(e),s=e,u;if(a){this.$$element.prop(e,t);r=a}else if(o){this[o]=t;s=o}this[e]=t;if(r){this.$attr[e]=r}else{r=this.$attr[e];if(!r){this.$attr[e]=r=Fe(e,"-")}}u=fe(this.$$element);if(u==="a"&&(e==="href"||e==="xlinkHref")||u==="img"&&e==="src"){this[e]=t=T(t,e==="src")}else if(u==="img"&&e==="srcset"&&U(t)){var l="";var c=se(t);var f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;var d=/\s/.test(c)?f:/(,)/;var p=c.split(d);var v=Math.floor(p.length/2);for(var $=0;$<v;$++){var m=$*2;l+=T(se(p[m]),true);l+=" "+se(p[m+1])}var g=se(p[$*2]).split(/\s/);l+=T(se(g[0]),true);if(g.length===2){l+=" "+se(g[1])}this[e]=t=l}if(n!==false){if(t===null||P(t)){this.$$element.removeAttr(r)}else{if(N.test(r)){this.$$element.attr(r,t)}else{Y(this.$$element[0],r,t)}}}var y=this.$$observers;if(y){S(y[s],function(e){try{e(t)}catch(e){h(e)}})}},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=Qe()),i=r[e]||(r[e]=[]);i.push(t);b.$evalAsync(function(){if(!i.$$inter&&n.hasOwnProperty(e)&&!P(n[e])){t(n[e])}});return function(){pe(i,t)}}};function Y(e,t,n){L.innerHTML="<span "+t+">";var r=L.firstChild.attributes;var i=r[0];r.removeNamedItem(i.name);i.value=n;e.attributes.setNamedItem(i)}function Z(e,t){try{e.addClass(t)}catch(e){}}var X=n.startSymbol(),ee=n.endSymbol(),te=X==="{{"&&ee==="}}"?R:function e(t){return t.replace(/\{\{/g,X).replace(/}}/g,ee)},re=/^ngAttr[A-Z]/;var ie=/^(.+)Start$/;ae.$$addBindingInfo=w?function e(t,n){var r=t.data("$binding")||[];if(G(n)){r=r.concat(n)}else{r.push(n)}t.data("$binding",r)}:V;ae.$$addBindingClass=w?function e(t){Z(t,"ng-binding")}:V;ae.$$addScopeInfo=w?function e(t,n,r,i){var a=r?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(a,n)}:V;ae.$$addScopeClass=w?function e(t,n){Z(t,n?"ng-isolate-scope":"ng-scope")}:V;ae.$$createComment=function(t,n){var r="";if(w){r=" "+(t||"")+": ";if(n)r+=n+" "}return e.document.createComment(r)};return ae;function ae(e,t,n,r,i){if(!(e instanceof p)){e=p(e)}var a=ue(e,t,e,n,r,i);ae.$$addScopeClass(e);var o=null;return function t(n,r,s){if(!e){throw qn("multilink","This element has already been linked.")}Ge(n,"scope");if(i&&i.needsNewScope){n=n.$parent.$new()}s=s||{};var u=s.parentBoundTranscludeFn,l=s.transcludeControllers,c=s.futureParentElement;if(u&&u.$$boundTransclude){u=u.$$boundTransclude}if(!o){o=oe(c)}var f;if(o!=="html"){f=p(Ie(o,p("<div>").append(e).html()))}else if(r){f=Zt.clone.call(e)}else{f=e}if(l){for(var d in l){f.data("$"+d+"Controller",l[d].instance)}}ae.$$addScopeInfo(f,n);if(r)r(f,n);if(a)a(n,f,f,u);if(!r){e=a=null}return f}}function oe(e){var t=e&&e[0];if(!t){return"html"}else{return fe(t)!=="foreignobject"&&g.call(t).match(/SVG/)?"svg":"html"}}function ue(e,t,n,r,i,a){var o=[],s=G(e)||e instanceof p,u,l,c,f,h,v,$;for(var m=0;m<e.length;m++){u=new W;if(d===11){le(e,m,s)}l=de(e[m],[],u,m===0?r:undefined,i);c=l.length?xe(l,e[m],u,t,n,null,[],[],a):null;if(c&&c.scope){ae.$$addScopeClass(u.$$element)}h=c&&c.terminal||!(f=e[m].childNodes)||!f.length?null:ue(f,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t);if(c||h){o.push(m,c,h);v=true;$=$||c}a=null}return v?g:null;function g(e,n,r,i){var a,s,u,l,c,f,d,h;var v;if($){var m=n.length;v=new Array(m);for(c=0;c<o.length;c+=3){d=o[c];v[d]=n[d]}}else{v=n}for(c=0,f=o.length;c<f;){u=v[o[c++]];a=o[c++];s=o[c++];if(a){if(a.scope){l=e.$new();ae.$$addScopeInfo(p(u),l)}else{l=e}if(a.transcludeOnThisElement){h=ce(e,a.transclude,i)}else if(!a.templateOnThisElement&&i){h=i}else if(!i&&t){h=ce(e,t)}else{h=null}a(s,l,u,r,h)}else if(s){s(e,u.childNodes,undefined,i)}}}}function le(e,t,n){var r=e[t];var i=r.parentNode;var a;if(r.nodeType!==nt){return}while(true){a=i?r.nextSibling:e[t+1];if(!a||a.nodeType!==nt){break}r.nodeValue=r.nodeValue+a.nodeValue;if(a.parentNode){a.parentNode.removeChild(a)}if(n&&a===e[t+1]){e.splice(t+1,1)}}}function ce(e,t,n){function r(r,i,a,o,s){if(!r){r=e.$new(false,s);r.$$transcluded=true}return t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})}var i=r.$$slots=Qe();for(var a in t.$$slots){if(t.$$slots[a]){i[a]=ce(e,t.$$slots[a],n)}else{i[a]=null}}return r}function de(e,t,n,r,i){var a=e.nodeType,s=n.$attr,u,l,c;switch(a){case et:l=fe(e);Ce(t,Kn(l),"E",r,i);for(var f,d,p,h,v,$,m=e.attributes,g=0,y=m&&m.length;g<y;g++){var b=false;var w=false;f=m[g];d=f.name;v=f.value;h=Kn(d);$=re.test(h);if($){d=d.replace(Gn,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})}var x=h.match(ie);if(x&&Ae(x[1])){b=d;w=d.substr(0,d.length-5)+"end";d=d.substr(0,d.length-6)}p=Kn(d.toLowerCase());s[p]=d;if($||!n.hasOwnProperty(p)){n[p]=v;if(tn(e,p)){n[p]=true}}Ve(e,t,v,p,$);Ce(t,p,"A",r,i,b,w)}if(l==="input"&&e.getAttribute("type")==="hidden"){e.setAttribute("autocomplete","off")}if(!j)break;c=e.className;if(q(c)){c=c.animVal}if(F(c)&&c!==""){while(u=o.exec(c)){p=Kn(u[2]);if(Ce(t,p,"C",r,i)){n[p]=se(u[3])}c=c.substr(u.index+u[0].length)}}break;case nt:Le(t,e.nodeValue);break;case rt:if(!I)break;he(e,t,n,r,i);break}t.sort(Oe);return t}function he(e,t,n,r,i){try{var o=a.exec(e.nodeValue);if(o){var s=Kn(o[1]);if(Ce(t,s,"M",r,i)){n[s]=se(o[2])}}}catch(e){}}function me(e,t,n){var r=[];var i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e){throw qn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n)}if(e.nodeType===et){if(e.hasAttribute(t))i++;if(e.hasAttribute(n))i--}r.push(e);e=e.nextSibling}while(i>0)}else{r.push(e)}return p(r)}function ge(e,t,n){return function r(i,a,o,s,u){a=me(a[0],t,n);return e(i,a,o,s,u)}}function ye(e,t,n,r,i,a){var o;if(e){return ae(t,n,r,i,a)}return function e(){if(!o){o=ae(t,n,r,i,a);t=n=a=null}return o.apply(this,arguments)}}function xe(e,t,n,r,i,a,o,s,u){u=u||{};var l=-Number.MAX_VALUE,c=u.newScopeDirective,f=u.controllerDirectives,d=u.newIsolateScopeDirective,v=u.templateDirective,$=u.nonTlbTranscludeDirective,m=false,g=false,y=u.hasElementTranscludeDirective,b=n.$$element=p(t),w,k,E,C=a,A=r,M,_=false,T=false,N;for(var L=0,I=e.length;L<I;L++){w=e[L];var H=w.$$start;var V=w.$$end;if(H){b=me(t,H,V)}E=undefined;if(l>w.priority){break}N=w.scope;if(N){if(!w.templateUrl){if(q(N)){Ne("new/isolated scope",d||c,w,b);d=w}else{Ne("new/isolated scope",d,w,b)}}c=c||w}k=w.name;if(!_&&(w.replace&&(w.templateUrl||w.template)||w.transclude&&!w.$$tlb)){var R;for(var j=L+1;R=e[j++];){if(R.transclude&&!R.$$tlb||R.replace&&(R.templateUrl||R.template)){T=true;break}}_=true}if(!w.templateUrl&&w.controller){f=f||Qe();Ne("'"+k+"' controller",f[k],w,b);f[k]=w}N=w.transclude;if(N){m=true;if(!w.$$tlb){Ne("transclusion",$,w,b);$=w}if(N==="element"){y=true;l=w.priority;E=b;b=n.$$element=p(ae.$$createComment(k,n[k]));t=b[0];Re(i,be(E),t);E[0].$$parentNode=E[0].parentNode;A=ye(T,E,r,l,C&&C.name,{nonTlbTranscludeDirective:$})}else{var D=Qe();if(!q(N)){E=p(Ht(t)).contents()}else{E=[];var U=Qe();var B=Qe();S(N,function(e,t){var n=e.charAt(0)==="?";e=n?e.substring(1):e;U[e]=t;D[t]=null;B[t]=n});S(b.contents(),function(e){var t=U[Kn(fe(e))];if(t){B[t]=true;D[t]=D[t]||[];D[t].push(e)}else{E.push(e)}});S(B,function(e,t){if(!e){throw qn("reqslot","Required transclusion slot `{0}` was not filled.",t)}});for(var F in D){if(D[F]){D[F]=ye(T,D[F],r)}}}b.empty();A=ye(T,E,r,undefined,undefined,{needsNewScope:w.$$isolateScope||w.$$newScope});A.$$slots=D}}if(w.template){g=true;Ne("template",v,w,b);v=w;N=K(w.template)?w.template(b,n):w.template;N=te(N);if(w.replace){C=w;if(At(N)){E=[]}else{E=Xn(Ie(w.templateNamespace,se(N)))}t=E[0];if(E.length!==1||t.nodeType!==et){throw qn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",k,"")}Re(i,b,t);var z={$attr:{}};var J=de(t,[],z);var Y=e.splice(L+1,e.length-(L+1));if(d||c){Se(J,d,c)}e=e.concat(J).concat(Y);Me(n,z);I=e.length}else{b.html(N)}}if(w.templateUrl){g=true;Ne("template",v,w,b);v=w;if(w.replace){C=w}ee=Te(e.splice(L,e.length-L),b,n,i,m&&A,o,s,{controllerDirectives:f,newScopeDirective:c!==w&&c,newIsolateScopeDirective:d,templateDirective:v,nonTlbTranscludeDirective:$});I=e.length}else if(w.compile){try{M=w.compile(b,n,A);var Z=w.$$originalDirective||w;if(K(M)){X(null,we(Z,M),H,V)}else if(M){X(we(Z,M.pre),we(Z,M.post),H,V)}}catch(e){h(e,_e(b))}}if(w.terminal){ee.terminal=true;l=Math.max(l,w.priority)}}ee.scope=c&&c.scope===true;ee.transcludeOnThisElement=m;ee.templateOnThisElement=g;ee.transclude=A;u.hasElementTranscludeDirective=y;return ee;function X(e,t,n,r){if(e){if(n)e=ge(e,n,r);e.require=w.require;e.directiveName=k;if(d===w||w.$$isolateScope){e=je(e,{isolateScope:true})}o.push(e)}if(t){if(n)t=ge(t,n,r);t.require=w.require;t.directiveName=k;if(d===w||w.$$isolateScope){t=je(t,{isolateScope:true})}s.push(t)}}function ee(e,r,i,a,u){var l,$,m,g,b,w,k,E,C,A;if(t===i){C=n;E=n.$$element}else{E=p(i);C=new W(E,n)}b=r;if(d){g=r.$new(true)}else if(c){b=r.$parent}if(u){k=H;k.$$boundTransclude=u;k.isSlotFilled=function(e){return!!u.$$slots[e]}}if(f){w=Ee(E,C,k,f,g,r,d)}if(d){ae.$$addScopeInfo(E,g,true,!(v&&(v===d||v===d.$$originalDirective)));ae.$$addScopeClass(E,true);g.$$isolateBindings=d.$$isolateBindings;A=Ue(r,C,g,g.$$isolateBindings,d);if(A.removeWatches){g.$on("$destroy",A.removeWatches)}}for(var M in w){var _=f[M];var T=w[M];var N=_.$$bindings.bindToController;if(x){if(N){T.bindingInfo=Ue(b,C,T.instance,N,_)}else{T.bindingInfo={}}var L=T();if(L!==T.instance){T.instance=L;E.data("$"+_.name+"Controller",L);if(T.bindingInfo.removeWatches){T.bindingInfo.removeWatches()}T.bindingInfo=Ue(b,C,T.instance,N,_)}}else{T.instance=T();E.data("$"+_.name+"Controller",T.instance);T.bindingInfo=Ue(b,C,T.instance,N,_)}}S(f,function(e,t){var n=e.require;if(e.bindToController&&!G(n)&&q(n)){O(w[t].instance,ke(t,n,E,w))}});S(w,function(e){var t=e.instance;if(K(t.$onChanges)){try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){h(e)}}if(K(t.$onInit)){try{t.$onInit()}catch(e){h(e)}}if(K(t.$doCheck)){b.$watch(function(){t.$doCheck()});t.$doCheck()}if(K(t.$onDestroy)){b.$on("$destroy",function e(){t.$onDestroy()})}});for(l=0,$=o.length;l<$;l++){m=o[l];De(m,m.isolateScope?g:r,E,C,m.require&&ke(m.directiveName,m.require,E,w),k)}var I=r;if(d&&(d.template||d.templateUrl===null)){I=g}if(e){e(I,i.childNodes,undefined,u)}for(l=s.length-1;l>=0;l--){m=s[l];De(m,m.isolateScope?g:r,E,C,m.require&&ke(m.directiveName,m.require,E,w),k)}S(w,function(e){var t=e.instance;if(K(t.$postLink)){t.$postLink()}});function H(e,t,n,r){var i;if(!Q(e)){r=n;n=t;t=e;e=undefined}if(y){i=w}if(!n){n=y?E.parent():E}if(r){var a=u.$$slots[r];if(a){return a(e,t,i,n,I)}else if(P(a)){throw qn("noslot",'No parent directive that requires a transclusion with slot name "{0}". '+"Element: {1}",r,_e(E))}}else{return u(e,t,i,n,I)}}}}function ke(e,t,n,r){var i;if(F(t)){var a=t.match(c);var o=t.substring(a[0].length);var s=a[1]||a[3];var u=a[2]==="?";if(s==="^^"){n=n.parent()}else{i=r&&r[o];i=i&&i.instance}if(!i){var l="$"+o+"Controller";i=s?n.inheritedData(l):n.data(l)}if(!i&&!u){throw qn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,e)}}else if(G(t)){i=[];for(var f=0,d=t.length;f<d;f++){i[f]=ke(e,t[f],n,r)}}else if(q(t)){i={};S(t,function(t,a){i[a]=ke(e,t,n,r)})}return i||null}function Ee(e,t,n,r,i,a,o){var s=Qe();for(var u in r){var l=r[u];var c={$scope:l===o||l.$$isolateScope?i:a,$element:e,$attrs:t,$transclude:n};var f=l.controller;if(f==="@"){f=t[l.name]}var d=y(f,c,true,l.controllerAs);s[l.name]=d;e.data("$"+l.name+"Controller",d.instance)}return s}function Se(e,t,n){for(var r=0,i=e.length;r<i;r++){e[r]=H(e[r],{$$isolateScope:t,$$newScope:n})}}function Ce(e,n,a,o,s,u,l){if(n===s)return null;var c=null;if(r.hasOwnProperty(n)){for(var f,d=t.get(n+i),p=0,h=d.length;p<h;p++){f=d[p];if((P(o)||o>f.priority)&&f.restrict.indexOf(a)!==-1){if(u){f=H(f,{$$start:u,$$end:l})}if(!f.$$bindings){var v=f.$$bindings=$(f,f.name);if(q(v.isolateScope)){f.$$isolateBindings=v.isolateScope}}e.push(f);c=f}}}return c}function Ae(e){if(r.hasOwnProperty(e)){for(var n,a=t.get(e+i),o=0,s=a.length;o<s;o++){n=a[o];if(n.multiElement){return true}}}return false}function Me(e,t){var n=t.$attr,r=e.$attr;S(e,function(r,i){if(i.charAt(0)!=="$"){if(t[i]&&t[i]!==r){if(r.length){r+=(i==="style"?";":" ")+t[i]}else{r=t[i]}}e.$set(i,r,true,n[i])}});S(t,function(t,i){if(!e.hasOwnProperty(i)&&i.charAt(0)!=="$"){e[i]=t;if(i!=="class"&&i!=="style"){r[i]=n[i]}}})}function Te(e,t,n,r,i,a,o,s){var u=[],l,c,f=t[0],d=e.shift(),$=H(d,{templateUrl:null,transclude:null,replace:null,$$originalDirective:d}),m=K(d.templateUrl)?d.templateUrl(t,n):d.templateUrl,g=d.templateNamespace;t.empty();v(m).then(function(h){var v,y,b,w;h=te(h);if(d.replace){if(At(h)){b=[]}else{b=Xn(Ie(g,se(h)))}v=b[0];if(b.length!==1||v.nodeType!==et){throw qn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d.name,m)}y={$attr:{}};Re(r,t,v);var x=de(v,[],y);if(q(d.scope)){Se(x,true)}e=x.concat(e);Me(n,y)}else{v=f;t.html(h)}e.unshift($);l=xe(e,v,n,i,t,d,a,o,s);S(r,function(e,n){if(e===v){r[n]=t[0]}});c=ue(t[0].childNodes,i);while(u.length){var k=u.shift(),E=u.shift(),C=u.shift(),A=u.shift(),M=t[0];if(k.$$destroyed)continue;if(E!==f){var _=E.className;if(!(s.hasElementTranscludeDirective&&d.replace)){M=Ht(v)}Re(C,p(E),M);Z(p(M),_)}if(l.transcludeOnThisElement){w=ce(k,l.transclude,A)}else{w=A}l(c,k,M,r,w)}u=null}).catch(function(e){if(J(e)){h(e)}});return function e(t,n,r,i,a){var o=a;if(n.$$destroyed)return;if(u){u.push(n,r,i,o)}else{if(l.transcludeOnThisElement){o=ce(n,l.transclude,a)}l(c,n,r,i,o)}}}function Oe(e,t){var n=t.priority-e.priority;if(n!==0)return n;if(e.name!==t.name)return e.name<t.name?-1:1;return e.index-t.index}function Ne(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t){throw qn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,_e(r))}}function Le(e,t){var r=n(t,true);if(r){e.push({priority:0,compile:function e(t){var n=t.parent(),i=!!n.length;if(i)ae.$$addBindingClass(n);return function e(t,n){var a=n.parent();if(!i)ae.$$addBindingClass(a);ae.$$addBindingInfo(a,r.expressions);t.$watch(r,function e(t){n[0].nodeValue=t})}}})}}function Ie(t,n){t=u(t||"html");switch(t){case"svg":case"math":var r=e.document.createElement("div");r.innerHTML="<"+t+">"+n+"</"+t+">";return r.childNodes[0].childNodes;default:return n}}function He(e,t){if(t==="srcdoc"){return A.HTML}var n=fe(e);if(t==="src"||t==="ngSrc"){if(["img","video","audio","source","track"].indexOf(n)===-1){return A.RESOURCE_URL}}else if(t==="xlinkHref"||n==="form"&&t==="action"||n==="link"&&t==="href"){return A.RESOURCE_URL}}function Ve(e,t,r,i,a){var o=He(e,i);var s=!a;var u=l[i]||a;var c=n(r,s,o,u);if(!c)return;if(i==="multiple"&&fe(e)==="select"){throw qn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",_e(e))}if(f.test(i)){throw qn("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the "+"ng- versions (such as ng-click instead of onclick) instead.")}t.push({priority:100,compile:function(){return{pre:function e(t,a,s){var l=s.$$observers||(s.$$observers=Qe());var f=s[i];if(f!==r){c=f&&n(f,true,o,u);r=f}if(!c)return;s[i]=c(t);(l[i]||(l[i]=[])).$$inter=true;(s.$$observers&&s.$$observers[i].$$scope||t).$watch(c,function e(t,n){if(i==="class"&&t!==n){s.$updateClass(t,n)}else{s.$set(i,t)}})}}}})}function Re(t,n,r){var i=n[0],a=n.length,o=i.parentNode,s,u;if(t){for(s=0,u=t.length;s<u;s++){if(t[s]===i){t[s++]=r;for(var l=s,c=l+a-1,f=t.length;l<f;l++,c++){if(c<f){t[l]=t[c]}else{delete t[l]}}t.length-=a-1;if(t.context===i){t.context=r}break}}}if(o){o.replaceChild(r,i)}var d=e.document.createDocumentFragment();for(s=0;s<a;s++){d.appendChild(n[s])}if(p.hasData(i)){p.data(r,p.data(i));p(i).off("$destroy")}p.cleanData(d.querySelectorAll("*"));for(s=1;s<a;s++){delete n[s]}n[0]=r;n.length=1}function je(e,t){return O(function(){return e.apply(null,arguments)},e,t)}function De(e,t,n,r,i,a){try{e(t,n,r,i,a)}catch(e){h(e,_e(n))}}function Pe(e,t){if(k){throw qn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}}function Ue(e,t,r,i,a){var o=[];var u={};var l;S(i,function i(l,f){var d=l.attrName,p=l.optional,h=l.mode,v,$,g,y,b;switch(h){case"@":if(!p&&!s.call(t,d)){Pe(d,a.name);r[f]=t[d]=undefined}b=t.$observe(d,function(e){if(F(e)||ne(e)){var t=r[f];c(f,e,t);r[f]=e}});t.$$observers[d].$$scope=e;v=t[d];if(F(v)){r[f]=n(v)(e)}else if(ne(v)){r[f]=v}u[f]=new Wn(Fn,r[f]);o.push(b);break;case"=":if(!s.call(t,d)){if(p)break;Pe(d,a.name);t[d]=undefined}if(p&&!t[d])break;$=m(t[d]);if($.literal){y=$e}else{y=ve}g=$.assign||function(){v=r[f]=$(e);throw qn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[d],d,a.name)};v=r[f]=$(e);var w=function t(n){if(!y(n,r[f])){if(!y(n,v)){r[f]=n}else{g(e,n=r[f])}}v=n;return v};w.$stateful=true;if(l.collection){b=e.$watchCollection(t[d],w)}else{b=e.$watch(m(t[d],w),null,$.literal)}o.push(b);break;case"<":if(!s.call(t,d)){if(p)break;Pe(d,a.name);t[d]=undefined}if(p&&!t[d])break;$=m(t[d]);var x=$.literal;var k=r[f]=$(e);u[f]=new Wn(Fn,r[f]);b=e.$watch($,function e(t,n){if(n===t){if(n===k||x&&$e(n,k)){return}n=k}c(f,t,n);r[f]=t},x);o.push(b);break;case"&":if(!p&&!s.call(t,d)){Pe(d,a.name)}$=t.hasOwnProperty(d)?m(t[d]):V;if($===V&&p)break;r[f]=function(t){return $(e,t)};break}});function c(t,n,i){if(K(r.$onChanges)&&!ve(n,i)){if(!B){e.$$postDigest(z);B=[]}if(!l){l={};B.push(f)}if(l[t]){i=l[t].previousValue}l[t]=new Wn(i,n)}}function f(){r.$onChanges(l);l=undefined}return{initialChanges:u,removeWatches:o.length&&function e(){for(var t=0,n=o.length;t<n;++t){o[t]()}}}}}]}function Wn(e,t){this.previousValue=e;this.currentValue=t}Wn.prototype.isFirstChange=function(){return this.previousValue===Fn};var Gn=/^((?:x|data)[:\-_])/i;var Jn=/[:\-_]+(.)/g;function Kn(e){return e.replace(Gn,"").replace(Jn,bt)}function Yn(e,t,n,r){}function Zn(e,t,n,r,i){}function Qn(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var a=0;a<r.length;a++){var o=r[a];for(var s=0;s<i.length;s++){if(o===i[s])continue e}n+=(n.length>0?" ":"")+o}return n}function Xn(e){e=p(e);var t=e.length;if(t<=1){return e}while(t--){var n=e[t];if(n.nodeType===rt||n.nodeType===nt&&n.nodeValue.trim()===""){$.call(e,t,1)}}return e}var er=i("$controller");var tr=/^(\S+)(\s+as\s+([\w$]+))?$/;function nr(e,t){if(t&&F(t))return t;if(F(e)){var n=tr.exec(e);if(n)return n[3]}}function rr(){var e={},t=false;this.has=function(t){return e.hasOwnProperty(t)};this.register=function(t,n){Ke(t,"controller");if(q(t)){O(e,t)}else{e[t]=n}};this.allowGlobals=function(){t=true};this.$get=["$injector","$window",function(n,r){return function i(o,s,u,l){var c,f,d,p;u=u===true;if(l&&F(l)){p=l}if(F(o)){f=o.match(tr);if(!f){throw er("ctrlfmt","Badly formed controller string '{0}'. "+"Must match `__name__ as __id__` or `__name__`.",o)}d=f[1];p=p||f[3];o=e.hasOwnProperty(d)?e[d]:Ye(s.$scope,d,true)||(t?Ye(r,d,true):undefined);if(!o){throw er("ctrlreg","The controller with the name '{0}' is not registered.",d)}Je(o,d,true)}if(u){var h=(G(o)?o[o.length-1]:o).prototype;c=Object.create(h||null);if(p){a(s,p,c,d||o.name)}return O(function e(){var t=n.invoke(o,c,s,d);if(t!==c&&(q(t)||K(t))){c=t;if(p){a(s,p,c,d||o.name)}}return c},{instance:c,identifier:p})}c=n.instantiate(o,s,d);if(p){a(s,p,c,d||o.name)}return c};function a(e,t,n,r){if(!(e&&q(e.$scope))){throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t)}e.$scope[t]=n}}]}function ir(){this.$get=["$window",function(e){return p(e.document)}]}function ar(){this.$get=["$document","$rootScope",function(e,t){var n=e[0];var r=n&&n.hidden;e.on("visibilitychange",i);t.$on("$destroy",function(){e.off("visibilitychange",i)});function i(){r=n.hidden}return function(){return r}}]}function or(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var sr=function(){this.$get=["$document",function(e){return function(t){if(t){if(!t.nodeType&&t instanceof p){t=t[0]}}else{t=e[0].body}return t.offsetWidth+1}}]};var ur="application/json";var lr={"Content-Type":ur+";charset=utf-8"};var cr=/^\[|^\{(?!\{)/;var fr={"[":/]$/,"{":/}$/};var dr=/^\)]\}',?\n/;var pr=i("$http");function hr(e){if(q(e)){return W(e)?e.toISOString():ke(e)}return e}function vr(){this.$get=function(){return function e(t){if(!t)return"";var n=[];C(t,function(e,t){if(e===null||P(e)||K(e))return;if(G(e)){S(e,function(e){n.push(Ie(t)+"="+Ie(hr(e)))})}else{n.push(Ie(t)+"="+Ie(hr(e)))}});return n.join("&")}}}function $r(){this.$get=function(){return function e(t){if(!t)return"";var n=[];r(t,"",true);return n.join("&");function r(e,t,i){if(e===null||P(e))return;if(G(e)){S(e,function(e,n){r(e,t+"["+(q(e)?n:"")+"]")})}else if(q(e)&&!W(e)){C(e,function(e,n){r(e,t+(i?"":"[")+n+(i?"":"]"))})}else{n.push(Ie(t)+"="+Ie(hr(e)))}}}}}function mr(e,t){if(F(e)){var n=e.replace(dr,"").trim();if(n){var r=t("Content-Type");var i=r&&r.indexOf(ur)===0;if(i||gr(n)){try{e=Ee(n)}catch(t){if(!i){return e}throw pr("baddata",'Data must be a valid JSON object. Received: "{0}". '+'Parse error: "{1}"',e,t)}}}}return e}function gr(e){var t=e.match(cr);return t&&fr[t[0]].test(e)}function yr(e){var t=Qe(),n;function r(e,n){if(e){t[e]=t[e]?t[e]+", "+n:n}}if(F(e)){S(e.split("\n"),function(e){n=e.indexOf(":");r(u(se(e.substr(0,n))),se(e.substr(n+1)))})}else if(q(e)){S(e,function(e,t){r(u(t),se(e))})}return t}function br(e){var t;return function(n){if(!t)t=yr(e);if(n){var r=t[u(n)];if(r===undefined){r=null}return r}return t}}function wr(e,t,n,r){if(K(r)){return r(e,t,n)}S(r,function(r){e=r(e,t,n)});return e}function xr(e){return 200<=e&&e<300}function kr(){var e=this.defaults={transformResponse:[mr],transformRequest:[function(e){return q(e)&&!X(e)&&!te(e)&&!ee(e)?ke(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:st(lr),put:st(lr),patch:st(lr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"};var t=false;this.useApplyAsync=function(e){if(U(e)){t=!!e;return this}return t};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,a,o,s,c,f,d,p){var h=s("$http");e.paramSerializer=F(e.paramSerializer)?d.get(e.paramSerializer):e.paramSerializer;var v=[];S(n,function(e){v.unshift(F(e)?d.get(e):d.invoke(e))});function $(t){if(!q(t)){throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",t)}if(!F(p.valueOf(t.url))){throw i("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",t.url)}var n=O({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);n.headers=m(t);n.method=l(n.method);n.paramSerializer=F(n.paramSerializer)?d.get(n.paramSerializer):n.paramSerializer;r.$$incOutstandingRequestCount();var a=[];var o=[];var s=f.resolve(n);S(v,function(e){if(e.request||e.requestError){a.unshift(e.request,e.requestError)}if(e.response||e.responseError){o.push(e.response,e.responseError)}});s=c(s,a);s=s.then(g);s=c(s,o);s=s.finally(h);return s;function c(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++];var a=t[n++];e=e.then(i,a)}t.length=0;return e}function h(){r.$$completeOutstandingRequest(V)}function $(e,t){var n,r={};S(e,function(e,i){if(K(e)){n=e(t);if(n!=null){r[i]=n}}else{r[i]=e}});return r}function m(t){var n=e.headers,r=O({},t.headers),i,a,o;n=O({},n.common,n[u(t.method)]);e:for(i in n){a=u(i);for(o in r){if(u(o)===a){continue e}}r[i]=n[i]}return $(r,st(t))}function g(t){var n=t.headers;var r=wr(t.data,br(n),undefined,t.transformRequest);if(P(r)){S(n,function(e,t){if(u(t)==="content-type"){delete n[t]}})}if(P(t.withCredentials)&&!P(e.withCredentials)){t.withCredentials=e.withCredentials}return y(t,r).then(b,b)}function b(e){var t=O({},e);t.data=wr(e.data,e.headers,e.status,n.transformResponse);return xr(e.status)?t:f.reject(t)}}$.pendingRequests=[];m("get","delete","head","jsonp");g("post","put","patch");$.defaults=e;return $;function m(e){S(arguments,function(e){$[e]=function(t,n){return $(O({},n||{},{method:e,url:t}))}})}function g(e){S(arguments,function(e){$[e]=function(t,n,r){return $(O({},r||{},{method:e,url:t,data:n}))}})}function y(n,r){var i=f.defer(),s=i.promise,l,d,v=n.headers,m=u(n.method)==="jsonp",g=n.url;if(m){g=p.getTrustedResourceUrl(g)}else if(!F(g)){g=p.valueOf(g)}g=b(g,n.paramSerializer(n.params));if(m){g=w(g,n.jsonpCallbackParam)}$.pendingRequests.push(n);s.then(A,A);if((n.cache||e.cache)&&n.cache!==false&&(n.method==="GET"||n.method==="JSONP")){l=q(n.cache)?n.cache:q(e.cache)?e.cache:h}if(l){d=l.get(g);if(U(d)){if(re(d)){d.then(C,C)}else{if(G(d)){E(d[1],d[0],st(d[2]),d[3],d[4])}else{E(d,200,{},"OK","complete")}}}else{l.put(g,s)}}if(P(d)){var y=Gi(n.url)?o()[n.xsrfCookieName||e.xsrfCookieName]:undefined;if(y){v[n.xsrfHeaderName||e.xsrfHeaderName]=y}a(n.method,g,r,k,v,n.timeout,n.withCredentials,n.responseType,x(n.eventHandlers),x(n.uploadEventHandlers))}return s;function x(e){if(e){var n={};S(e,function(e,r){n[r]=function(n){if(t){c.$applyAsync(r)}else if(c.$$phase){r()}else{c.$apply(r)}function r(){e(n)}}});return n}}function k(e,n,r,i,a){if(l){if(xr(e)){l.put(g,[e,n,yr(r),i,a])}else{l.remove(g)}}function o(){E(n,e,r,i,a)}if(t){c.$applyAsync(o)}else{o();if(!c.$$phase)c.$apply()}}function E(e,t,r,a,o){t=t>=-1?t:0;(xr(t)?i.resolve:i.reject)({data:e,status:t,headers:br(r),config:n,statusText:a,xhrStatus:o})}function C(e){E(e.data,e.status,st(e.headers()),e.statusText,e.xhrStatus)}function A(){var e=$.pendingRequests.indexOf(n);if(e!==-1)$.pendingRequests.splice(e,1)}}function b(e,t){if(t.length>0){e+=(e.indexOf("?")===-1?"?":"&")+t}return e}function w(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e)){throw pr("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e)}var n=new RegExp("[&?]"+t+"=");if(n.test(e)){throw pr("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)}e+=(e.indexOf("?")===-1?"?":"&")+t+"=JSON_CALLBACK";return e}}]}function Er(){this.$get=function(){return function t(){return new e.XMLHttpRequest}}}function Sr(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return Cr(e,r,e.defer,t,n[0])}]}function Cr(e,t,n,r,i){return function(i,o,s,l,c,f,d,p,h,v){o=o||e.url();if(u(i)==="jsonp"){var $=r.createCallback(o);var m=a(o,$,function(e,t){var n=e===200&&r.getResponse($);E(l,e,n,"",t,"complete");r.removeCallback($)})}else{var g=t(i,o);g.open(i,o,true);S(c,function(e,t){if(U(e)){g.setRequestHeader(t,e)}});g.onload=function e(){var t=g.statusText||"";var n="response"in g?g.response:g.responseText;var r=g.status===1223?204:g.status;if(r===0){r=n?200:Wi(o).protocol==="file"?404:0}E(l,r,n,g.getAllResponseHeaders(),t,"complete")};var y=function(){E(l,-1,null,null,"","error")};var b=function(){E(l,-1,null,null,"","abort")};var w=function(){E(l,-1,null,null,"","timeout")};g.onerror=y;g.onabort=b;g.ontimeout=w;S(h,function(e,t){g.addEventListener(t,e)});S(v,function(e,t){g.upload.addEventListener(t,e)});if(d){g.withCredentials=true}if(p){try{g.responseType=p}catch(e){if(p!=="json"){throw e}}}g.send(P(s)?null:s)}if(f>0){var x=n(k,f)}else if(re(f)){f.then(k)}function k(){if(m){m()}if(g){g.abort()}}function E(e,t,r,i,a,o){if(U(x)){n.cancel(x)}m=g=null;e(t,r,i,a,o)}};function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var a=i.createElement("script"),o=null;a.type="text/javascript";a.src=e;a.async=true;o=function(e){a.removeEventListener("load",o);a.removeEventListener("error",o);i.body.removeChild(a);a=null;var s=-1;var u="unknown";if(e){if(e.type==="load"&&!r.wasCalled(t)){e={type:"error"}}u=e.type;s=e.type==="error"?404:200}if(n){n(s,u)}};a.addEventListener("load",o);a.addEventListener("error",o);i.body.appendChild(a);return o}}var Ar=w.$interpolateMinErr=i("$interpolate");Ar.throwNoconcat=function(e){throw Ar("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows "+"interpolations that concatenate multiple expressions when a trusted value is "+"required.  See http://docs.angularjs.org/api/ng.$sce",e)};Ar.interr=function(e,t){return Ar("interr","Can't interpolate: {0}\n{1}",e,t.toString())};function Mr(){var e="{{";var t="}}";this.startSymbol=function(t){if(t){e=t;return this}else{return e}};this.endSymbol=function(e){if(e){t=e;return this}else{return t}};this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){var a=e.length,o=t.length,s=new RegExp(e.replace(/./g,l),"g"),u=new RegExp(t.replace(/./g,l),"g");function l(e){return"\\\\\\"+e}function c(n){return n.replace(s,e).replace(u,t)}function f(e,t,n,r){var i=e.$watch(function e(t){i();return r(t)},t,n);return i}function d(s,u,l,d){if(!s.length||s.indexOf(e)===-1){var p;if(!u){var h=c(s);p=j(h);p.exp=s;p.expressions=[];p.$$watchDelegate=f}return p}d=!!d;var v,$,m=0,g=[],y=[],b=s.length,w,x=[],k=[];while(m<b){if((v=s.indexOf(e,m))!==-1&&($=s.indexOf(t,v+a))!==-1){if(m!==v){x.push(c(s.substring(m,v)))}w=s.substring(v+a,$);g.push(w);y.push(n(w,C));m=$+o;k.push(x.length);x.push("")}else{if(m!==b){x.push(c(s.substring(m)))}break}}if(l&&x.length>1){Ar.throwNoconcat(s)}if(!u||g.length){var E=function(e){for(var t=0,n=g.length;t<n;t++){if(d&&P(e[t]))return;x[k[t]]=e[t]}return x.join("")};var S=function(e){return l?i.getTrusted(l,e):i.valueOf(e)};return O(function e(t){var n=0;var i=g.length;var a=new Array(i);try{for(;n<i;n++){a[n]=y[n](t)}return E(a)}catch(e){r(Ar.interr(s,e))}},{exp:s,expressions:g,$$watchDelegate:function(e,t){var n;return e.$watchGroup(y,function r(i,a){var o=E(i);if(K(t)){t.call(this,o,i!==a?n:o,e)}n=o})}})}function C(e){try{e=S(e);return d&&!U(e)?e:Xe(e)}catch(e){r(Ar.interr(s,e))}}}d.startSymbol=function(){return e};d.endSymbol=function(){return t};return d}]}function _r(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){var a={};function o(o,s,u,l){var c=arguments.length>4,f=c?be(arguments,4):[],d=t.setInterval,p=t.clearInterval,h=0,v=U(l)&&!l,$=(v?r:n).defer(),m=$.promise;u=U(u)?u:0;m.$$intervalId=d(function t(){if(v){i.defer(g)}else{e.$evalAsync(g)}$.notify(h++);if(u>0&&h>=u){$.resolve(h);p(m.$$intervalId);delete a[m.$$intervalId]}if(!v)e.$apply()},s);a[m.$$intervalId]=$;return m;function g(){if(!c){o(h)}else{o.apply(null,f)}}}o.cancel=function(e){if(e&&e.$$intervalId in a){Ai(a[e.$$intervalId].promise);a[e.$$intervalId].reject("canceled");t.clearInterval(e.$$intervalId);delete a[e.$$intervalId];return true}return false};return o}]}var Tr=function(){this.$get=function(){var e=w.callbacks;var t={};function n(e){var t=function(e){t.data=e;t.called=true};t.id=e;return t}return{createCallback:function(r){var i="_"+(e.$$counter++).toString(36);var a="angular.callbacks."+i;var o=n(i);t[a]=e[i]=o;return a},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(n){var r=t[n];delete e[r.id];delete t[n]}}}};var Or=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Nr={http:80,https:443,ftp:21};var Lr=i("$location");function Ir(e){var t=e.split("/"),n=t.length;while(n--){t[n]=Le(t[n])}return t.join("/")}function Hr(e,t){var n=Wi(e);t.$$protocol=n.protocol;t.$$host=n.hostname;t.$$port=L(n.port)||Nr[n.protocol]||null}var Vr=/^\s*[\\/]{2,}/;function Rr(e,t){if(Vr.test(e)){throw Lr("badpath",'Invalid url "{0}".',e)}var n=e.charAt(0)!=="/";if(n){e="/"+e}var r=Wi(e);t.$$path=decodeURIComponent(n&&r.pathname.charAt(0)==="/"?r.pathname.substring(1):r.pathname);t.$$search=Oe(r.search);t.$$hash=decodeURIComponent(r.hash);if(t.$$path&&t.$$path.charAt(0)!=="/"){t.$$path="/"+t.$$path}}function jr(e,t){return e.slice(0,t.length)===t}function Dr(e,t){if(jr(t,e)){return t.substr(e.length)}}function Pr(e){var t=e.indexOf("#");return t===-1?e:e.substr(0,t)}function Ur(e){return e.replace(/(#.+)|#$/,"$1")}function qr(e){return e.substr(0,Pr(e).lastIndexOf("/")+1)}function Br(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Fr(e,t,n){this.$$html5=true;n=n||"";Hr(e,this);this.$$parse=function(e){var n=Dr(t,e);if(!F(n)){throw Lr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t)}Rr(n,this);if(!this.$$path){this.$$path="/"}this.$$compose()};this.$$compose=function(){var e=Ne(this.$$search),n=this.$$hash?"#"+Le(this.$$hash):"";this.$$url=Ir(this.$$path)+(e?"?"+e:"")+n;this.$$absUrl=t+this.$$url.substr(1);this.$$urlUpdatedByLocation=true};this.$$parseLinkUrl=function(r,i){if(i&&i[0]==="#"){this.hash(i.slice(1));return true}var a,o;var s;if(U(a=Dr(e,r))){o=a;if(n&&U(a=Dr(n,a))){s=t+(Dr("/",a)||a)}else{s=e+o}}else if(U(a=Dr(t,r))){s=t+a}else if(t===r+"/"){s=t}if(s){this.$$parse(s)}return!!s}}function zr(e,t,n){Hr(e,this);this.$$parse=function(r){var i=Dr(e,r)||Dr(t,r);var a;if(!P(i)&&i.charAt(0)==="#"){a=Dr(n,i);if(P(a)){a=i}}else{if(this.$$html5){a=i}else{a="";if(P(i)){e=r;this.replace()}}}Rr(a,this);this.$$path=o(this.$$path,a,e);this.$$compose();function o(e,t,n){var r=/^\/[A-Z]:(\/.*)/;var i;if(jr(t,n)){t=t.replace(n,"")}if(r.exec(t)){return e}i=r.exec(e);return i?i[1]:e}};this.$$compose=function(){var t=Ne(this.$$search),r=this.$$hash?"#"+Le(this.$$hash):"";this.$$url=Ir(this.$$path)+(t?"?"+t:"")+r;this.$$absUrl=e+(this.$$url?n+this.$$url:"");this.$$urlUpdatedByLocation=true};this.$$parseLinkUrl=function(t,n){if(Pr(e)===Pr(t)){this.$$parse(t);return true}return false}}function Wr(e,t,n){this.$$html5=true;zr.apply(this,arguments);this.$$parseLinkUrl=function(r,i){if(i&&i[0]==="#"){this.hash(i.slice(1));return true}var a;var o;if(e===Pr(r)){a=r}else if(o=Dr(t,r)){a=e+n+o}else if(t===r+"/"){a=t}if(a){this.$$parse(a)}return!!a};this.$$compose=function(){var t=Ne(this.$$search),r=this.$$hash?"#"+Le(this.$$hash):"";this.$$url=Ir(this.$$path)+(t?"?"+t:"")+r;this.$$absUrl=e+n+this.$$url;this.$$urlUpdatedByLocation=true}}var Gr={$$absUrl:"",$$html5:false,$$replace:false,absUrl:Jr("$$absUrl"),url:function(e){if(P(e)){return this.$$url}var t=Or.exec(e);if(t[1]||e==="")this.path(decodeURIComponent(t[1]));if(t[2]||t[1]||e==="")this.search(t[3]||"");this.hash(t[5]||"");return this},protocol:Jr("$$protocol"),host:Jr("$$host"),port:Jr("$$port"),path:Kr("$$path",function(e){e=e!==null?e.toString():"";return e.charAt(0)==="/"?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(F(e)||z(e)){e=e.toString();this.$$search=Oe(e)}else if(q(e)){e=he(e,{});S(e,function(t,n){if(t==null)delete e[n]});this.$$search=e}else{throw Lr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.")}break;default:if(P(t)||t===null){delete this.$$search[e]}else{this.$$search[e]=t}}this.$$compose();return this},hash:Kr("$$hash",function(e){return e!==null?e.toString():""}),replace:function(){this.$$replace=true;return this}};S([Wr,zr,Fr],function(e){e.prototype=Object.create(Gr);e.prototype.state=function(t){if(!arguments.length){return this.$$state}if(e!==Fr||!this.$$html5){throw Lr("nostate","History API state support is available only "+"in HTML5 mode and only in browsers supporting HTML5 History API")}this.$$state=P(t)?null:t;this.$$urlUpdatedByLocation=true;return this}});function Jr(e){return function(){return this[e]}}function Kr(e,t){return function(n){if(P(n)){return this[e]}this[e]=t(n);this.$$compose();return this}}function Yr(){var e="!",t={enabled:false,requireBase:true,rewriteLinks:true};this.hashPrefix=function(t){if(U(t)){e=t;return this}else{return e}};this.html5Mode=function(e){if(ne(e)){t.enabled=e;return this}else if(q(e)){if(ne(e.enabled)){t.enabled=e.enabled}if(ne(e.requireBase)){t.requireBase=e.requireBase}if(ne(e.rewriteLinks)||F(e.rewriteLinks)){t.rewriteLinks=e.rewriteLinks}return this}else{return t}};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,a,o){var s,u,l=r.baseHref(),c=r.url(),f;if(t.enabled){if(!l&&t.requireBase){throw Lr("nobase","$location in HTML5 mode requires a <base> tag to be present!")}f=Br(c)+(l||"/");u=i.history?Fr:Wr}else{f=Pr(c);u=zr}var d=qr(f);s=new u(f,d,"#"+e);s.$$parseLinkUrl(c,c);s.$$state=r.state();var h=/^\s*(javascript|mailto):/i;function v(e,t,n){var i=s.url();var a=s.$$state;try{r.url(e,t,n);s.$$state=r.state()}catch(e){s.url(i);s.$$state=a;throw e}}a.on("click",function(e){var i=t.rewriteLinks;if(!i||e.ctrlKey||e.metaKey||e.shiftKey||e.which===2||e.button===2)return;var u=p(e.target);while(fe(u[0])!=="a"){if(u[0]===a[0]||!(u=u.parent())[0])return}if(F(i)&&P(u.attr(i)))return;var l=u.prop("href");var c=u.attr("href")||u.attr("xlink:href");if(q(l)&&l.toString()==="[object SVGAnimatedString]"){l=Wi(l.animVal).href}if(h.test(l))return;if(l&&!u.attr("target")&&!e.isDefaultPrevented()){if(s.$$parseLinkUrl(l,c)){e.preventDefault();if(s.absUrl()!==r.url()){n.$apply();o.angular["ff-684208-preventDefault"]=true}}}});if(Ur(s.absUrl())!==Ur(c)){r.url(s.absUrl(),true)}var $=true;r.onUrlChange(function(e,t){if(!jr(e,d)){o.location.href=e;return}n.$evalAsync(function(){var r=s.absUrl();var i=s.$$state;var a;e=Ur(e);s.$$parse(e);s.$$state=t;a=n.$broadcast("$locationChangeStart",e,r,t,i).defaultPrevented;if(s.absUrl()!==e)return;if(a){s.$$parse(r);s.$$state=i;v(r,false,i)}else{$=false;m(r,i)}});if(!n.$$phase)n.$digest()});n.$watch(function e(){if($||s.$$urlUpdatedByLocation){s.$$urlUpdatedByLocation=false;var t=Ur(r.url());var a=Ur(s.absUrl());var o=r.state();var u=s.$$replace;var l=t!==a||s.$$html5&&i.history&&o!==s.$$state;if($||l){$=false;n.$evalAsync(function(){var e=s.absUrl();var r=n.$broadcast("$locationChangeStart",e,t,s.$$state,o).defaultPrevented;if(s.absUrl()!==e)return;if(r){s.$$parse(t);s.$$state=o}else{if(l){v(e,u,o===s.$$state?null:s.$$state)}m(t,o)}})}}s.$$replace=false});return s;function m(e,t){n.$broadcast("$locationChangeSuccess",s.absUrl(),e,s.$$state,t)}}]}function Zr(){var e=true,t=this;this.debugEnabled=function(t){if(U(t)){e=t;return this}else{return e}};this.$get=["$window",function(n){var r=d||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:a("log"),info:a("info"),warn:a("warn"),error:a("error"),debug:function(){var n=a("debug");return function(){if(e){n.apply(t,arguments)}}}()};function i(e){if(J(e)){if(e.stack&&r){e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack}else if(e.sourceURL){e=e.message+"\n"+e.sourceURL+":"+e.line}}return e}function a(e){var t=n.console||{},r=t[e]||t.log||V;return function(){var e=[];S(arguments,function(t){e.push(i(t))});return Function.prototype.apply.call(r,t,e)}}}]}var Qr=i("$parse");var Xr={}.constructor.prototype.valueOf;function ei(e){return e+""}var ti=Qe();S("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){ti[e]=true});var ni={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};var ri=function e(t){this.options=t};ri.prototype={constructor:ri,lex:function(e){this.text=e;this.index=0;this.tokens=[];while(this.index<this.text.length){var t=this.text.charAt(this.index);if(t==='"'||t==="'"){this.readString(t)}else if(this.isNumber(t)||t==="."&&this.isNumber(this.peek())){this.readNumber()}else if(this.isIdentifierStart(this.peekMultichar())){this.readIdent()}else if(this.is(t,"(){}[].,;:?")){this.tokens.push({index:this.index,text:t});this.index++}else if(this.isWhitespace(t)){this.index++}else{var n=t+this.peek();var r=n+this.peek(2);var i=ti[t];var a=ti[n];var o=ti[r];if(i||a||o){var s=o?r:a?n:t;this.tokens.push({index:this.index,text:s,operator:true});this.index+=s.length}else{this.throwError("Unexpected next character ",this.index,this.index+1)}}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):false},isNumber:function(e){return"0"<=e&&e<="9"&&typeof e==="string"},isWhitespace:function(e){return e===" "||e==="\r"||e==="\t"||e==="\n"||e==="\v"||e===""},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||e==="$"},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){if(e.length===1)return e.charCodeAt(0);return(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index);var t=this.peek();if(!t){return e}var n=e.charCodeAt(0);var r=t.charCodeAt(0);if(n>=55296&&n<=56319&&r>=56320&&r<=57343){return e+t}return e},isExpOperator:function(e){return e==="-"||e==="+"||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=U(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Qr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){var e="";var t=this.index;while(this.index<this.text.length){var n=u(this.text.charAt(this.index));if(n==="."||this.isNumber(n)){e+=n}else{var r=this.peek();if(n==="e"&&this.isExpOperator(r)){e+=n}else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&e.charAt(e.length-1)==="e"){e+=n}else if(this.isExpOperator(n)&&(!r||!this.isNumber(r))&&e.charAt(e.length-1)==="e"){this.throwError("Invalid exponent")}else{break}}this.index++}this.tokens.push({index:t,text:e,constant:true,value:Number(e)})},readIdent:function(){var e=this.index;this.index+=this.peekMultichar().length;while(this.index<this.text.length){var t=this.peekMultichar();if(!this.isIdentifierContinue(t)){break}this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:true})},readString:function(e){var t=this.index;this.index++;var n="";var r=e;var i=false;while(this.index<this.text.length){var a=this.text.charAt(this.index);r+=a;if(i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);if(!o.match(/[\da-f]{4}/i)){this.throwError("Invalid unicode escape [\\u"+o+"]")}this.index+=4;n+=String.fromCharCode(parseInt(o,16))}else{var s=ni[a];n=n+(s||a)}i=false}else if(a==="\\"){i=true}else if(a===e){this.index++;this.tokens.push({index:t,text:r,constant:true,value:n});return}else{n+=a}this.index++}this.throwError("Unterminated quote",t)}};var ii=function e(t,n){this.lexer=t;this.options=n};ii.Program="Program";ii.ExpressionStatement="ExpressionStatement";ii.AssignmentExpression="AssignmentExpression";ii.ConditionalExpression="ConditionalExpression";ii.LogicalExpression="LogicalExpression";ii.BinaryExpression="BinaryExpression";ii.UnaryExpression="UnaryExpression";ii.CallExpression="CallExpression";ii.MemberExpression="MemberExpression";ii.Identifier="Identifier";ii.Literal="Literal";ii.ArrayExpression="ArrayExpression";ii.Property="Property";ii.ObjectExpression="ObjectExpression";ii.ThisExpression="ThisExpression";ii.LocalsExpression="LocalsExpression";ii.NGValueParameter="NGValueParameter";ii.prototype={ast:function(e){this.text=e;this.tokens=this.lexer.lex(e);var t=this.program();if(this.tokens.length!==0){this.throwError("is an unexpected token",this.tokens[0])}return t},program:function(){var e=[];while(true){if(this.tokens.length>0&&!this.peek("}",")",";","]"))e.push(this.expressionStatement());if(!this.expect(";")){return{type:ii.Program,body:e}}}},expressionStatement:function(){return{type:ii.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){var e=this.expression();while(this.expect("|")){e=this.filter(e)}return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!pi(e)){throw Qr("lval","Trying to assign a value to a non l-value")}e={type:ii.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e=this.logicalOR();var t;var n;if(this.expect("?")){t=this.expression();if(this.consume(":")){n=this.expression();return{type:ii.ConditionalExpression,test:e,alternate:t,consequent:n}}}return e},logicalOR:function(){var e=this.logicalAND();while(this.expect("||")){e={type:ii.LogicalExpression,operator:"||",left:e,right:this.logicalAND()}}return e},logicalAND:function(){var e=this.equality();while(this.expect("&&")){e={type:ii.LogicalExpression,operator:"&&",left:e,right:this.equality()}}return e},equality:function(){var e=this.relational();var t;while(t=this.expect("==","!=","===","!==")){e={type:ii.BinaryExpression,operator:t.text,left:e,right:this.relational()}}return e},relational:function(){var e=this.additive();var t;while(t=this.expect("<",">","<=",">=")){e={type:ii.BinaryExpression,operator:t.text,left:e,right:this.additive()}}return e},additive:function(){var e=this.multiplicative();var t;while(t=this.expect("+","-")){e={type:ii.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()}}return e},multiplicative:function(){var e=this.unary();var t;while(t=this.expect("*","/","%")){e={type:ii.BinaryExpression,operator:t.text,left:e,right:this.unary()}}return e},unary:function(){var e;if(e=this.expect("+","-","!")){return{type:ii.UnaryExpression,operator:e.text,prefix:true,argument:this.unary()}}else{return this.primary()}},primary:function(){var e;if(this.expect("(")){e=this.filterChain();this.consume(")")}else if(this.expect("[")){e=this.arrayDeclaration()}else if(this.expect("{")){e=this.object()}else if(this.selfReferential.hasOwnProperty(this.peek().text)){e=he(this.selfReferential[this.consume().text])}else if(this.options.literals.hasOwnProperty(this.peek().text)){e={type:ii.Literal,value:this.options.literals[this.consume().text]}}else if(this.peek().identifier){e=this.identifier()}else if(this.peek().constant){e=this.constant()}else{this.throwError("not a primary expression",this.peek())}var t;while(t=this.expect("(","[",".")){if(t.text==="("){e={type:ii.CallExpression,callee:e,arguments:this.parseArguments()};this.consume(")")}else if(t.text==="["){e={type:ii.MemberExpression,object:e,property:this.expression(),computed:true};this.consume("]")}else if(t.text==="."){e={type:ii.MemberExpression,object:e,property:this.identifier(),computed:false}}else{this.throwError("IMPOSSIBLE")}}return e},filter:function(e){var t=[e];var n={type:ii.CallExpression,callee:this.identifier(),arguments:t,filter:true};while(this.expect(":")){t.push(this.expression())}return n},parseArguments:function(){var e=[];if(this.peekToken().text!==")"){do{e.push(this.filterChain())}while(this.expect(","))}return e},identifier:function(){var e=this.consume();if(!e.identifier){this.throwError("is not a valid identifier",e)}return{type:ii.Identifier,name:e.text}},constant:function(){return{type:ii.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if(this.peekToken().text!=="]"){do{if(this.peek("]")){break}e.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:ii.ArrayExpression,elements:e}},object:function(){var e=[],t;if(this.peekToken().text!=="}"){do{if(this.peek("}")){break}t={type:ii.Property,kind:"init"};if(this.peek().constant){t.key=this.constant();t.computed=false;this.consume(":");t.value=this.expression()}else if(this.peek().identifier){t.key=this.identifier();t.computed=false;if(this.peek(":")){this.consume(":");t.value=this.expression()}else{t.value=t.key}}else if(this.peek("[")){this.consume("[");t.key=this.expression();this.consume("]");t.computed=true;this.consume(":");t.value=this.expression()}else{this.throwError("invalid key",this.peek())}e.push(t)}while(this.expect(","))}this.consume("}");return{type:ii.ObjectExpression,properties:e}},throwError:function(e,t){throw Qr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(this.tokens.length===0){throw Qr("ueoe","Unexpected end of expression: {0}",this.text)}var t=this.expect(e);if(!t){this.throwError("is unexpected, expecting ["+e+"]",this.peek())}return t},peekToken:function(){if(this.tokens.length===0){throw Qr("ueoe","Unexpected end of expression: {0}",this.text)}return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var a=this.tokens[e];var o=a.text;if(o===t||o===n||o===r||o===i||!t&&!n&&!r&&!i){return a}}return false},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);if(i){this.tokens.shift();return i}return false},selfReferential:{this:{type:ii.ThisExpression},$locals:{type:ii.LocalsExpression}}};function ai(e,t){return typeof e!=="undefined"?e:t}function oi(e,t){if(typeof e==="undefined")return t;if(typeof t==="undefined")return e;return e+t}function si(e,t){var n=e(t);return!n.$stateful}var ui=1;var li=2;function ci(e,t){switch(e.type){case ii.MemberExpression:if(e.computed){return false}break;case ii.UnaryExpression:return ui;case ii.BinaryExpression:return e.operator!=="+"?ui:false;case ii.CallExpression:return false}return undefined===t?li:t}function fi(e,t,n){var r;var i;var a;var o=e.isPure=ci(e,n);switch(e.type){case ii.Program:r=true;S(e.body,function(e){fi(e.expression,t,o);r=r&&e.expression.constant});e.constant=r;break;case ii.Literal:e.constant=true;e.toWatch=[];break;case ii.UnaryExpression:fi(e.argument,t,o);e.constant=e.argument.constant;e.toWatch=e.argument.toWatch;break;case ii.BinaryExpression:fi(e.left,t,o);fi(e.right,t,o);e.constant=e.left.constant&&e.right.constant;e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case ii.LogicalExpression:fi(e.left,t,o);fi(e.right,t,o);e.constant=e.left.constant&&e.right.constant;e.toWatch=e.constant?[]:[e];break;case ii.ConditionalExpression:fi(e.test,t,o);fi(e.alternate,t,o);fi(e.consequent,t,o);e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant;e.toWatch=e.constant?[]:[e];break;case ii.Identifier:e.constant=false;e.toWatch=[e];break;case ii.MemberExpression:fi(e.object,t,o);if(e.computed){fi(e.property,t,o)}e.constant=e.object.constant&&(!e.computed||e.property.constant);e.toWatch=e.constant?[]:[e];break;case ii.CallExpression:a=e.filter?si(t,e.callee.name):false;r=a;i=[];S(e.arguments,function(e){fi(e,t,o);r=r&&e.constant;i.push.apply(i,e.toWatch)});e.constant=r;e.toWatch=a?i:[e];break;case ii.AssignmentExpression:fi(e.left,t,o);fi(e.right,t,o);e.constant=e.left.constant&&e.right.constant;e.toWatch=[e];break;case ii.ArrayExpression:r=true;i=[];S(e.elements,function(e){fi(e,t,o);r=r&&e.constant;i.push.apply(i,e.toWatch)});e.constant=r;e.toWatch=i;break;case ii.ObjectExpression:r=true;i=[];S(e.properties,function(e){fi(e.value,t,o);r=r&&e.value.constant;i.push.apply(i,e.value.toWatch);if(e.computed){fi(e.key,t,false);r=r&&e.key.constant;i.push.apply(i,e.key.toWatch)}});e.constant=r;e.toWatch=i;break;case ii.ThisExpression:e.constant=false;e.toWatch=[];break;case ii.LocalsExpression:e.constant=false;e.toWatch=[];break}}function di(e){if(e.length!==1)return;var t=e[0].expression;var n=t.toWatch;if(n.length!==1)return n;return n[0]!==t?n:undefined}function pi(e){return e.type===ii.Identifier||e.type===ii.MemberExpression}function hi(e){if(e.body.length===1&&pi(e.body[0].expression)){return{type:ii.AssignmentExpression,left:e.body[0].expression,right:{type:ii.NGValueParameter},operator:"="}}}function vi(e){return e.body.length===0||e.body.length===1&&(e.body[0].expression.type===ii.Literal||e.body[0].expression.type===ii.ArrayExpression||e.body[0].expression.type===ii.ObjectExpression)}function $i(e){return e.constant}function mi(e){this.$filter=e}mi.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};fi(e,t.$filter);var n="";var r;this.stage="assign";if(r=hi(e)){this.state.computing="assign";var i=this.nextId();this.recurse(r,i);this.return_(i);n="fn.assign="+this.generateFunction("assign","s,v,l")}var a=di(e.body);t.stage="inputs";S(a,function(e,n){var r="fn"+n;t.state[r]={vars:[],body:[],own:{}};t.state.computing=r;var i=t.nextId();t.recurse(e,i);t.return_(i);t.state.inputs.push({name:r,isPure:e.isPure});e.watchId=n});this.state.computing="fn";this.stage="main";this.recurse(e);var o='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;";var s=new Function("$filter","getStringValue","ifDefined","plus",o)(this.$filter,ei,ai,oi);this.state=this.stage=undefined;return s},USE:"use",STRICT:"strict",watchFns:function(){var e=[];var t=this.state.inputs;var n=this;S(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s"));if(t.isPure){e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}});if(t.length){e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];")}return e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[];var t=this;S(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")});if(e.length)return"var "+e.join(",")+";";return""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,a){var o,s,u=this,l,c,f;r=r||V;if(!a&&U(e.watchId)){t=t||this.nextId();this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,true));return}switch(e.type){case ii.Program:S(e.body,function(t,n){u.recurse(t.expression,undefined,undefined,function(e){s=e});if(n!==e.body.length-1){u.current().body.push(s,";")}else{u.return_(s)}});break;case ii.Literal:c=this.escape(e.value);this.assign(t,c);r(t||c);break;case ii.UnaryExpression:this.recurse(e.argument,undefined,undefined,function(e){s=e});c=e.operator+"("+this.ifDefined(s,0)+")";this.assign(t,c);r(c);break;case ii.BinaryExpression:this.recurse(e.left,undefined,undefined,function(e){o=e});this.recurse(e.right,undefined,undefined,function(e){s=e});if(e.operator==="+"){c=this.plus(o,s)}else if(e.operator==="-"){c=this.ifDefined(o,0)+e.operator+this.ifDefined(s,0)}else{c="("+o+")"+e.operator+"("+s+")"}this.assign(t,c);r(c);break;case ii.LogicalExpression:t=t||this.nextId();u.recurse(e.left,t);u.if_(e.operator==="&&"?t:u.not(t),u.lazyRecurse(e.right,t));r(t);break;case ii.ConditionalExpression:t=t||this.nextId();u.recurse(e.test,t);u.if_(t,u.lazyRecurse(e.alternate,t),u.lazyRecurse(e.consequent,t));r(t);break;case ii.Identifier:t=t||this.nextId();if(n){n.context=u.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s");n.computed=false;n.name=e.name}u.if_(u.stage==="inputs"||u.not(u.getHasOwnProperty("l",e.name)),function(){u.if_(u.stage==="inputs"||"s",function(){if(i&&i!==1){u.if_(u.isNull(u.nonComputedMember("s",e.name)),u.lazyAssign(u.nonComputedMember("s",e.name),"{}"))}u.assign(t,u.nonComputedMember("s",e.name))})},t&&u.lazyAssign(t,u.nonComputedMember("l",e.name)));r(t);break;case ii.MemberExpression:o=n&&(n.context=this.nextId())||this.nextId();t=t||this.nextId();u.recurse(e.object,o,undefined,function(){u.if_(u.notNull(o),function(){if(e.computed){s=u.nextId();u.recurse(e.property,s);u.getStringValue(s);if(i&&i!==1){u.if_(u.not(u.computedMember(o,s)),u.lazyAssign(u.computedMember(o,s),"{}"))}c=u.computedMember(o,s);u.assign(t,c);if(n){n.computed=true;n.name=s}}else{if(i&&i!==1){u.if_(u.isNull(u.nonComputedMember(o,e.property.name)),u.lazyAssign(u.nonComputedMember(o,e.property.name),"{}"))}c=u.nonComputedMember(o,e.property.name);u.assign(t,c);if(n){n.computed=false;n.name=e.property.name}}},function(){u.assign(t,"undefined")});r(t)},!!i);break;case ii.CallExpression:t=t||this.nextId();if(e.filter){s=u.filter(e.callee.name);l=[];S(e.arguments,function(e){var t=u.nextId();u.recurse(e,t);l.push(t)});c=s+"("+l.join(",")+")";u.assign(t,c);r(t)}else{s=u.nextId();o={};l=[];u.recurse(e.callee,s,o,function(){u.if_(u.notNull(s),function(){S(e.arguments,function(t){u.recurse(t,e.constant?undefined:u.nextId(),undefined,function(e){l.push(e)})});if(o.name){c=u.member(o.context,o.name,o.computed)+"("+l.join(",")+")"}else{c=s+"("+l.join(",")+")"}u.assign(t,c)},function(){u.assign(t,"undefined")});r(t)})}break;case ii.AssignmentExpression:s=this.nextId();o={};this.recurse(e.left,undefined,o,function(){u.if_(u.notNull(o.context),function(){u.recurse(e.right,s);c=u.member(o.context,o.name,o.computed)+e.operator+s;u.assign(t,c);r(t||c)})},1);break;case ii.ArrayExpression:l=[];S(e.elements,function(t){u.recurse(t,e.constant?undefined:u.nextId(),undefined,function(e){l.push(e)})});c="["+l.join(",")+"]";this.assign(t,c);r(t||c);break;case ii.ObjectExpression:l=[];f=false;S(e.properties,function(e){if(e.computed){f=true}});if(f){t=t||this.nextId();this.assign(t,"{}");S(e.properties,function(e){if(e.computed){o=u.nextId();u.recurse(e.key,o)}else{o=e.key.type===ii.Identifier?e.key.name:""+e.key.value}s=u.nextId();u.recurse(e.value,s);u.assign(u.member(t,o,e.computed),s)})}else{S(e.properties,function(t){u.recurse(t.value,e.constant?undefined:u.nextId(),undefined,function(e){l.push(u.escape(t.key.type===ii.Identifier?t.key.name:""+t.key.value)+":"+e)})});c="{"+l.join(",")+"}";this.assign(t,c)}r(t||c);break;case ii.ThisExpression:this.assign(t,"s");r(t||"s");break;case ii.LocalsExpression:this.assign(t,"l");r(t||"l");break;case ii.NGValueParameter:this.assign(t,"v");r(t||"v");break}},getHasOwnProperty:function(e,t){var n=e+"."+t;var r=this.current().own;if(!r.hasOwnProperty(n)){r[n]=this.nextId(false,e+"&&("+this.escape(t)+" in "+e+")")}return r[n]},assign:function(e,t){if(!e)return;this.current().body.push(e,"=",t,";");return e},filter:function(e){if(!this.state.filters.hasOwnProperty(e)){this.state.filters[e]=this.nextId(true)}return this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===true){t()}else{var r=this.current().body;r.push("if(",e,"){");t();r.push("}");if(n){r.push("else{");n();r.push("}")}}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/;var r=/[^$_a-zA-Z0-9]/g;if(n.test(t)){return e+"."+t}else{return e+'["'+t.replace(r,this.stringEscapeFn)+'"]'}},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){if(n)return this.computedMember(e,t);return this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,a){var o=this;return function(){o.recurse(e,t,n,r,i,a)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(F(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(z(e))return e.toString();if(e===true)return"true";if(e===false)return"false";if(e===null)return"null";if(typeof e==="undefined")return"undefined";throw Qr("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;if(!e){this.current().vars.push(n+(t?"="+t:""))}return n},current:function(){return this.state[this.state.computing]}};function gi(e){this.$filter=e}gi.prototype={compile:function(e){var t=this;fi(e,t.$filter);var n;var r;if(n=hi(e)){r=this.recurse(n)}var i=di(e.body);var a;if(i){a=[];S(i,function(e,n){var r=t.recurse(e);r.isPure=e.isPure;e.input=r;a.push(r);e.watchId=n})}var o=[];S(e.body,function(e){o.push(t.recurse(e.expression))});var s=e.body.length===0?V:e.body.length===1?o[0]:function(e,t){var n;S(o,function(r){n=r(e,t)});return n};if(r){s.assign=function(e,t,n){return r(e,n,t)}}if(a){s.inputs=a}return s},recurse:function(e,t,n){var r,i,a=this,o;if(e.input){return this.inputs(e.input,e.watchId)}switch(e.type){case ii.Literal:return this.value(e.value,t);case ii.UnaryExpression:i=this.recurse(e.argument);return this["unary"+e.operator](i,t);case ii.BinaryExpression:r=this.recurse(e.left);i=this.recurse(e.right);return this["binary"+e.operator](r,i,t);case ii.LogicalExpression:r=this.recurse(e.left);i=this.recurse(e.right);return this["binary"+e.operator](r,i,t);case ii.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case ii.Identifier:return a.identifier(e.name,t,n);case ii.MemberExpression:r=this.recurse(e.object,false,!!n);if(!e.computed){i=e.property.name}if(e.computed)i=this.recurse(e.property);return e.computed?this.computedMember(r,i,t,n):this.nonComputedMember(r,i,t,n);case ii.CallExpression:o=[];S(e.arguments,function(e){o.push(a.recurse(e))});if(e.filter)i=this.$filter(e.callee.name);if(!e.filter)i=this.recurse(e.callee,true);return e.filter?function(e,n,r,a){var s=[];for(var u=0;u<o.length;++u){s.push(o[u](e,n,r,a))}var l=i.apply(undefined,s,a);return t?{context:undefined,name:undefined,value:l}:l}:function(e,n,r,a){var s=i(e,n,r,a);var u;if(s.value!=null){var l=[];for(var c=0;c<o.length;++c){l.push(o[c](e,n,r,a))}u=s.value.apply(s.context,l)}return t?{value:u}:u};case ii.AssignmentExpression:r=this.recurse(e.left,true,1);i=this.recurse(e.right);return function(e,n,a,o){var s=r(e,n,a,o);var u=i(e,n,a,o);s.context[s.name]=u;return t?{value:u}:u};case ii.ArrayExpression:o=[];S(e.elements,function(e){o.push(a.recurse(e))});return function(e,n,r,i){var a=[];for(var s=0;s<o.length;++s){a.push(o[s](e,n,r,i))}return t?{value:a}:a};case ii.ObjectExpression:o=[];S(e.properties,function(e){if(e.computed){o.push({key:a.recurse(e.key),computed:true,value:a.recurse(e.value)})}else{o.push({key:e.key.type===ii.Identifier?e.key.name:""+e.key.value,computed:false,value:a.recurse(e.value)})}});return function(e,n,r,i){var a={};for(var s=0;s<o.length;++s){if(o[s].computed){a[o[s].key(e,n,r,i)]=o[s].value(e,n,r,i)}else{a[o[s].key]=o[s].value(e,n,r,i)}}return t?{value:a}:a};case ii.ThisExpression:return function(e){return t?{value:e}:e};case ii.LocalsExpression:return function(e,n){return t?{value:n}:n};case ii.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,a){var o=e(n,r,i,a);if(U(o)){o=+o}else{o=0}return t?{value:o}:o}},"unary-":function(e,t){return function(n,r,i,a){var o=e(n,r,i,a);if(U(o)){o=-o}else{o=-0}return t?{value:o}:o}},"unary!":function(e,t){return function(n,r,i,a){var o=!e(n,r,i,a);return t?{value:o}:o}},"binary+":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o);var u=t(r,i,a,o);var l=oi(s,u);return n?{value:l}:l}},"binary-":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o);var u=t(r,i,a,o);var l=(U(s)?s:0)-(U(u)?u:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)*t(r,i,a,o);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)/t(r,i,a,o);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)%t(r,i,a,o);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)===t(r,i,a,o);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)!==t(r,i,a,o);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)==t(r,i,a,o);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)!=t(r,i,a,o);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)<t(r,i,a,o);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)>t(r,i,a,o);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)<=t(r,i,a,o);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)>=t(r,i,a,o);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)&&t(r,i,a,o);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)||t(r,i,a,o);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,a,o,s){var u=e(i,a,o,s)?t(i,a,o,s):n(i,a,o,s);return r?{value:u}:u}},value:function(e,t){return function(){return t?{context:undefined,name:undefined,value:e}:e}},identifier:function(e,t,n){return function(r,i,a,o){var s=i&&e in i?i:r;if(n&&n!==1&&s&&s[e]==null){s[e]={}}var u=s?s[e]:undefined;if(t){return{context:s,name:e,value:u}}else{return u}}},computedMember:function(e,t,n,r){return function(i,a,o,s){var u=e(i,a,o,s);var l;var c;if(u!=null){l=t(i,a,o,s);l=ei(l);if(r&&r!==1){if(u&&!u[l]){u[l]={}}}c=u[l]}if(n){return{context:u,name:l,value:c}}else{return c}}},nonComputedMember:function(e,t,n,r){return function(i,a,o,s){var u=e(i,a,o,s);if(r&&r!==1){if(u&&u[t]==null){u[t]={}}}var l=u!=null?u[t]:undefined;if(n){return{context:u,name:t,value:l}}else{return l}}},inputs:function(e,t){return function(n,r,i,a){if(a)return a[t];return e(n,r,i)}}};function yi(e,t,n){this.ast=new ii(e,n);this.astCompiler=n.csp?new gi(t):new mi(t)}yi.prototype={constructor:yi,parse:function(e){var t=this.ast.ast(e);var n=this.astCompiler.compile(t);n.literal=vi(t);n.constant=$i(t);return n}};function bi(e){return K(e.valueOf)?e.valueOf():Xr.call(e)}function wi(){var e=Qe();var t={true:true,false:false,null:null,undefined:undefined};var n,r;this.addLiteral=function(e,n){t[e]=n};this.setIdentifierFns=function(e,t){n=e;r=t;return this};this.$get=["$filter",function(i){var a=me().noUnsafeEval;var o={csp:a,literals:he(t),isIdentifierStart:K(n)&&n,isIdentifierContinue:K(r)&&r};return s;function s(t,n){var r,a,s;switch(typeof t){case"string":t=t.trim();s=t;r=e[s];if(!r){if(t.charAt(0)===":"&&t.charAt(1)===":"){a=true;t=t.substring(2)}var u=new ri(o);var h=new yi(u,i,o);r=h.parse(t);if(r.constant){r.$$watchDelegate=d}else if(a){r.$$watchDelegate=r.literal?f:c}else if(r.inputs){r.$$watchDelegate=l}e[s]=r}return p(r,n);case"function":return p(t,n);default:return p(V,n)}}function u(e,t,n){if(e==null||t==null){return e===t}if(typeof e==="object"){e=bi(e);if(typeof e==="object"&&!n){return false}}return e===t||e!==e&&t!==t}function l(e,t,n,r,i){var a=r.inputs;var o;if(a.length===1){var s=u;a=a[0];return e.$watch(function e(t){var n=a(t);if(!u(n,s,a.isPure)){o=r(t,undefined,undefined,[n]);s=n&&bi(n)}return o},t,n,i)}var l=[];var c=[];for(var f=0,d=a.length;f<d;f++){l[f]=u;c[f]=null}return e.$watch(function e(t){var n=false;for(var i=0,s=a.length;i<s;i++){var f=a[i](t);if(n||(n=!u(f,l[i],a[i].isPure))){c[i]=f;l[i]=f&&bi(f)}}if(n){o=r(t,undefined,undefined,c)}return o},t,n,i)}function c(e,t,n,r,i){var a,o;if(r.inputs){a=l(e,u,n,r,i)}else{a=e.$watch(s,u,n)}return a;function s(e){return r(e)}function u(e,n,r){o=e;if(K(t)){t(e,n,r)}if(U(e)){r.$$postDigest(function(){if(U(o)){a()}})}}}function f(e,t,n,r){var i,a;i=e.$watch(function e(t){return r(t)},function e(n,r,s){a=n;if(K(t)){t(n,r,s)}if(o(n)){s.$$postDigest(function(){if(o(a))i()})}},n);return i;function o(e){var t=true;S(e,function(e){if(!U(e))t=false});return t}}function d(e,t,n,r){var i=e.$watch(function e(t){i();return r(t)},t,n);return i}function p(e,t){if(!t)return e;var n=e.$$watchDelegate;var r=false;var i=n!==f&&n!==c;var a=i?function n(i,a,o,s){var u=r&&s?s[0]:e(i,a,o,s);return t(u,i,a)}:function n(r,i,a,o){var s=e(r,i,a,o);var u=t(s,r,i);return U(s)?u:s};r=!e.inputs;if(n&&n!==l){a.$$watchDelegate=n;a.inputs=e.inputs}else if(!t.$stateful){a.$$watchDelegate=l;a.inputs=e.inputs?e.inputs:[e]}if(a.inputs){a.inputs=a.inputs.map(function(e){if(e.isPure===li){return function t(n){return e(n)}}return e})}return a}}]}function xi(){var e=true;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Ei(function(e){t.$evalAsync(e)},n,e)}];this.errorOnUnhandledRejections=function(t){if(U(t)){e=t;return this}else{return e}}}function ki(){var e=true;this.$get=["$browser","$exceptionHandler",function(t,n){return Ei(function(e){t.defer(e)},n,e)}];this.errorOnUnhandledRejections=function(t){if(U(t)){e=t;return this}else{return e}}}function Ei(e,t,n){var r=i("$q",TypeError);var a=0;var o=[];function s(){return new u}function u(){var e=this.promise=new l;this.resolve=function(t){p(e,t)};this.reject=function(t){v(e,t)};this.notify=function(t){m(e,t)}}function l(){this.$$state={status:0}}O(l.prototype,{then:function(e,t,n){if(P(e)&&P(t)&&P(n)){return this}var r=new l;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([r,e,t,n]);if(this.$$state.status>0)d(this.$$state);return r},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return y(t,w,e)},function(t){return y(t,g,e)},t)}});function c(t){var r,i,o;o=t.pending;t.processScheduled=false;t.pending=undefined;try{for(var s=0,u=o.length;s<u;++s){Ci(t);i=o[s][0];r=o[s][t.status];try{if(K(r)){p(i,r(t.value))}else if(t.status===1){p(i,t.value)}else{v(i,t.value)}}catch(e){v(i,e)}}}finally{--a;if(n&&a===0){e(f)}}}function f(){while(!a&&o.length){var e=o.shift();if(!Si(e)){Ci(e);var n="Possibly unhandled rejection: "+lt(e.value);if(J(e.value)){t(e.value,n)}else{t(n)}}}}function d(t){if(n&&!t.pending&&t.status===2&&!Si(t)){if(a===0&&o.length===0){e(f)}o.push(t)}if(t.processScheduled||!t.pending)return;t.processScheduled=true;++a;e(function(){c(t)})}function p(e,t){if(e.$$state.status)return;if(t===e){$(e,r("qcycle","Expected promise to be resolved with value other than itself '{0}'",t))}else{h(e,t)}}function h(e,t){var n;var r=false;try{if(q(t)||K(t))n=t.then;if(K(n)){e.$$state.status=-1;n.call(t,i,a,o)}else{e.$$state.value=t;e.$$state.status=1;d(e.$$state)}}catch(e){a(e)}function i(t){if(r)return;r=true;h(e,t)}function a(t){if(r)return;r=true;$(e,t)}function o(t){m(e,t)}}function v(e,t){if(e.$$state.status)return;$(e,t)}function $(e,t){e.$$state.value=t;e.$$state.status=2;d(e.$$state)}function m(n,r){var i=n.$$state.pending;if(n.$$state.status<=0&&i&&i.length){e(function(){var e,n;for(var a=0,o=i.length;a<o;a++){n=i[a][0];e=i[a][3];try{m(n,K(e)?e(r):r)}catch(e){t(e)}}})}}function g(e){var t=new l;v(t,e);return t}function y(e,t,n){var r=null;try{if(K(n))r=n()}catch(e){return g(e)}if(re(r)){return r.then(function(){return t(e)},g)}else{return t(e)}}function b(e,t,n,r){var i=new l;p(i,e);return i.then(t,n,r)}var w=b;function x(e){var t=new l,n=0,r=G(e)?[]:{};S(e,function(e,i){n++;b(e).then(function(e){r[i]=e;if(!--n)p(t,r)},function(e){v(t,e)})});if(n===0){p(t,r)}return t}function k(e){var t=s();S(e,function(e){b(e).then(t.resolve,t.reject)});return t.promise}function E(e){if(!K(e)){throw r("norslvr","Expected resolverFn, got '{0}'",e)}var t=new l;function n(e){p(t,e)}function i(e){v(t,e)}e(n,i);return t}E.prototype=l.prototype;E.defer=s;E.reject=g;E.when=b;E.resolve=w;E.all=x;E.race=k;return E}function Si(e){return!!e.pur}function Ci(e){e.pur=true}function Ai(e){Ci(e.$$state)}function Mi(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame;var r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame;var i=!!n;var a=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,false);return function(){t.cancel(n)}};a.supported=i;return a}]}function _i(){var e=10;var t=i("$rootScope");var n=null;var r=null;this.digestTtl=function(t){if(arguments.length){e=t}return e};function a(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=M();this.$$ChildScope=null}t.prototype=e;return t}this.$get=["$exceptionHandler","$parse","$browser",function(i,o,u){function l(e){e.currentScope.$$destroyed=true}function c(e){if(d===9){if(e.$$childHead){c(e.$$childHead)}if(e.$$nextSibling){c(e.$$nextSibling)}}e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=M();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=false;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}f.prototype={constructor:f,$new:function(e,t){var n;t=t||this;if(e){n=new f;n.$root=this.$root}else{if(!this.$$ChildScope){this.$$ChildScope=a(this)}n=new this.$$ChildScope}n.$parent=t;n.$$prevSibling=t.$$childTail;if(t.$$childHead){t.$$childTail.$$nextSibling=n;t.$$childTail=n}else{t.$$childHead=t.$$childTail=n}if(e||t!==this)n.$on("$destroy",l);return n},$watch:function(e,t,r,i){var a=o(e);if(a.$$watchDelegate){return a.$$watchDelegate(this,t,r,a,e)}var s=this,u=s.$$watchers,l={fn:t,last:x,get:a,exp:i||e,eq:!!r};n=null;if(!K(t)){l.fn=V}if(!u){u=s.$$watchers=[];u.$$digestWatchIndex=-1}u.unshift(l);u.$$digestWatchIndex++;b(this,1);return function e(){var t=pe(u,l);if(t>=0){b(s,-1);if(t<u.$$digestWatchIndex){u.$$digestWatchIndex--}}n=null}},$watchGroup:function(e,t){var n=new Array(e.length);var r=new Array(e.length);var i=[];var a=this;var o=false;var s=true;if(!e.length){var u=true;a.$evalAsync(function(){if(u)t(r,r,a)});return function e(){u=false}}if(e.length===1){return this.$watch(e[0],function e(i,a,o){r[0]=i;n[0]=a;t(r,i===a?r:n,o)})}S(e,function(e,t){var s=a.$watch(e,function e(i,s){r[t]=i;n[t]=s;if(!o){o=true;a.$evalAsync(l)}});i.push(s)});function l(){o=false;if(s){s=false;t(r,r,a)}else{t(r,n,a)}}return function e(){while(i.length){i.shift()()}}},$watchCollection:function(e,t){v.$stateful=true;var n=this;var r;var i;var a;var u=t.length>1;var l=0;var c=o(e,v);var f=[];var d={};var p=true;var h=0;function v(e){r=e;var t,n,a,o,u;if(P(r))return;if(!q(r)){if(i!==r){i=r;l++}}else if(E(r)){if(i!==f){i=f;h=i.length=0;l++}t=r.length;if(h!==t){l++;i.length=h=t}for(var c=0;c<t;c++){u=i[c];o=r[c];a=u!==u&&o!==o;if(!a&&u!==o){l++;i[c]=o}}}else{if(i!==d){i=d={};h=0;l++}t=0;for(n in r){if(s.call(r,n)){t++;o=r[n];u=i[n];if(n in i){a=u!==u&&o!==o;if(!a&&u!==o){l++;i[n]=o}}else{h++;i[n]=o;l++}}}if(h>t){l++;for(n in i){if(!s.call(r,n)){h--;delete i[n]}}}}return l}function $(){if(p){p=false;t(r,r,n)}else{t(r,a,n)}if(u){if(!q(r)){a=r}else if(E(r)){a=new Array(r.length);for(var e=0;e<r.length;e++){a[e]=r[e]}}else{a={};for(var i in r){if(s.call(r,i)){a[i]=r[i]}}}}}return this.$watch(c,$)},$digest:function(){var a,o,s,l,c,f,d,$=e,b,w,E=this,S=[],C,A;g("$digest");u.$$checkUrlChange();if(this===p&&r!==null){u.defer.cancel(r);k()}n=null;do{d=false;w=E;for(var M=0;M<h.length;M++){try{A=h[M];l=A.fn;l(A.scope,A.locals)}catch(e){i(e)}n=null}h.length=0;e:do{if(f=w.$$watchers){f.$$digestWatchIndex=f.length;while(f.$$digestWatchIndex--){try{a=f[f.$$digestWatchIndex];if(a){c=a.get;if((o=c(w))!==(s=a.last)&&!(a.eq?$e(o,s):I(o)&&I(s))){d=true;n=a;a.last=a.eq?he(o,null):o;l=a.fn;l(o,s===x?o:s,w);if($<5){C=4-$;if(!S[C])S[C]=[];S[C].push({msg:K(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:o,oldVal:s})}}else if(a===n){d=false;break e}}}catch(e){i(e)}}}if(!(b=w.$$watchersCount&&w.$$childHead||w!==E&&w.$$nextSibling)){while(w!==E&&!(b=w.$$nextSibling)){w=w.$parent}}}while(w=b);if((d||h.length)&&!$--){y();throw t("infdig","{0} $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: {1}",e,S)}}while(d||h.length);y();while(m<v.length){try{v[m++]()}catch(e){i(e)}}v.length=m=0;u.$$checkUrlChange()},$destroy:function(){if(this.$$destroyed)return;var e=this.$parent;this.$broadcast("$destroy");this.$$destroyed=true;if(this===p){u.$$applicationDestroyed()}b(this,-this.$$watchersCount);for(var t in this.$$listenerCount){w(this,this.$$listenerCount[t],t)}if(e&&e.$$childHead===this)e.$$childHead=this.$$nextSibling;if(e&&e.$$childTail===this)e.$$childTail=this.$$prevSibling;if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=V;this.$on=this.$watch=this.$watchGroup=function(){return V};this.$$listeners={};this.$$nextSibling=null;c(this)},$eval:function(e,t){return o(e)(this,t)},$evalAsync:function(e,t){if(!p.$$phase&&!h.length){u.defer(function(){if(h.length){p.$digest()}})}h.push({scope:this,fn:o(e),locals:t})},$$postDigest:function(e){v.push(e)},$apply:function(e){try{g("$apply");try{return this.$eval(e)}finally{y()}}catch(e){i(e)}finally{try{p.$digest()}catch(e){i(e);throw e}}},$applyAsync:function(e){var t=this;if(e){$.push(n)}e=o(e);C();function n(){t.$eval(e)}},$on:function(e,t){var n=this.$$listeners[e];if(!n){this.$$listeners[e]=n=[]}n.push(t);var r=this;do{if(!r.$$listenerCount[e]){r.$$listenerCount[e]=0}r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);if(r!==-1){n[r]=null;w(i,1,e)}}},$emit:function(e,t){var n=[],r,a=this,o=false,s={name:e,targetScope:a,stopPropagation:function(){o=true},preventDefault:function(){s.defaultPrevented=true},defaultPrevented:false},u=ye([s],arguments,1),l,c;do{r=a.$$listeners[e]||n;s.currentScope=a;for(l=0,c=r.length;l<c;l++){if(!r[l]){r.splice(l,1);l--;c--;continue}try{r[l].apply(null,u)}catch(e){i(e)}}if(o){s.currentScope=null;return s}a=a.$parent}while(a);s.currentScope=null;return s},$broadcast:function(e,t){var n=this,r=n,a=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=true},defaultPrevented:false};if(!n.$$listenerCount[e])return o;var s=ye([o],arguments,1),u,l,c;while(r=a){o.currentScope=r;u=r.$$listeners[e]||[];for(l=0,c=u.length;l<c;l++){if(!u[l]){u.splice(l,1);l--;c--;continue}try{u[l].apply(null,s)}catch(e){i(e)}}if(!(a=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling)){while(r!==n&&!(a=r.$$nextSibling)){r=r.$parent}}}o.currentScope=null;return o}};var p=new f;var h=p.$$asyncQueue=[];var v=p.$$postDigestQueue=[];var $=p.$$applyAsyncQueue=[];var m=0;return p;function g(e){if(p.$$phase){throw t("inprog","{0} already in progress",p.$$phase)}p.$$phase=e}function y(){p.$$phase=null}function b(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function w(e,t,n){do{e.$$listenerCount[n]-=t;if(e.$$listenerCount[n]===0){delete e.$$listenerCount[n]}}while(e=e.$parent)}function x(){}function k(){while($.length){try{$.shift()()}catch(e){i(e)}}r=null}function C(){if(r===null){r=u.defer(function(){p.$apply(k)})}}}]}function Ti(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){if(U(t)){e=t;return this}return e};this.imgSrcSanitizationWhitelist=function(e){if(U(e)){t=e;return this}return t};this.$get=function(){return function n(r,i){var a=i?t:e;var o;o=Wi(r).href;if(o!==""&&!o.match(a)){return"unsafe:"+o}return r}}}var Oi=i("$sce");var Ni={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};var Li=/_([a-z])/g;function Ii(e){return e.replace(Li,bt)}function Hi(e){if(e==="self"){return e}else if(F(e)){if(e.indexOf("***")>-1){throw Oi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e)}e=ue(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*");return new RegExp("^"+e+"$")}else if(Y(e)){return new RegExp("^"+e.source+"$")}else{throw Oi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}}function Vi(e){var t=[];if(U(e)){S(e,function(e){t.push(Hi(e))})}return t}function Ri(){this.SCE_CONTEXTS=Ni;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){if(arguments.length){e=Vi(t)}return e};this.resourceUrlBlacklist=function(e){if(arguments.length){t=Vi(e)}return t};this.$get=["$injector",function(n){var r=function e(t){throw Oi("unsafe","Attempting to use an unsafe value in a safe context.")};if(n.has("$sanitize")){r=n.get("$sanitize")}function i(e,t){if(e==="self"){return Gi(t)}else{return!!e.exec(t.href)}}function a(n){var r=Wi(n.toString());var a,o,s=false;for(a=0,o=e.length;a<o;a++){if(i(e[a],r)){s=true;break}}if(s){for(a=0,o=t.length;a<o;a++){if(i(t[a],r)){s=false;break}}}return s}function o(e){var t=function e(t){this.$$unwrapTrustedValue=function(){return t}};if(e){t.prototype=new e}t.prototype.valueOf=function e(){return this.$$unwrapTrustedValue()};t.prototype.toString=function e(){return this.$$unwrapTrustedValue().toString()};return t}var s=o(),u={};u[Ni.HTML]=o(s);u[Ni.CSS]=o(s);u[Ni.URL]=o(s);u[Ni.JS]=o(s);u[Ni.RESOURCE_URL]=o(u[Ni.URL]);function l(e,t){var n=u.hasOwnProperty(e)?u[e]:null;if(!n){throw Oi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t)}if(t===null||P(t)||t===""){return t}if(typeof t!=="string"){throw Oi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e)}return new n(t)}function c(e){if(e instanceof s){return e.$$unwrapTrustedValue()}else{return e}}function f(e,t){if(t===null||P(t)||t===""){return t}var n=u.hasOwnProperty(e)?u[e]:null;if(n&&t instanceof n){return t.$$unwrapTrustedValue()}if(e===Ni.RESOURCE_URL){if(a(t)){return t}else{throw Oi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}}else if(e===Ni.HTML){return r(t)}throw Oi("unsafe","Attempting to use an unsafe value in a safe context.")}return{trustAs:l,getTrusted:f,valueOf:c}}]}function ji(){var e=true;this.enabled=function(t){if(arguments.length){e=!!t}return e};this.$get=["$parse","$sceDelegate",function(t,n){if(e&&d<8){throw Oi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks "+"mode.  You can fix this by adding the text <!doctype html> to the top of your HTML "+"document.  See http://docs.angularjs.org/api/ng.$sce for more information.")}var r=st(Ni);r.isEnabled=function(){return e};r.trustAs=n.trustAs;r.getTrusted=n.getTrusted;r.valueOf=n.valueOf;if(!e){r.trustAs=r.getTrusted=function(e,t){return t};r.valueOf=R}r.parseAs=function e(n,i){var a=t(i);if(a.literal&&a.constant){return a}else{return t(i,function(e){return r.getTrusted(n,e)})}};var i=r.parseAs,a=r.getTrusted,o=r.trustAs;S(Ni,function(e,t){var n=u(t);r[Ii("parse_as_"+n)]=function(t){return i(e,t)};r[Ii("get_trusted_"+n)]=function(t){return a(e,t)};r[Ii("trust_as_"+n)]=function(t){return o(e,t)}});return r}]}function Di(){this.$get=["$window","$document",function(e,t){var n={},r=e.nw&&e.nw.process,i=!r&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),a=!i&&e.history&&e.history.pushState,o=L((/android (\d+)/.exec(u((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),l=t[0]||{},c=l.body&&l.body.style,f=false,p=false;if(c){f=!!("transition"in c||"webkitTransition"in c);p=!!("animation"in c||"webkitAnimation"in c)}return{history:!!(a&&!(o<4)&&!s),hasEvent:function(e){if(e==="input"&&d)return false;if(P(n[e])){var t=l.createElement("div");n[e]="on"+e in t}return n[e]},csp:me(),transitions:f,animations:p,android:o}}]}var Pi=i("$compile");function Ui(){var e;this.httpOptions=function(t){if(t){e=t;return this}return e};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,r,i,a){function o(s,u){o.totalPendingRequests++;if(!F(s)||P(n.get(s))){s=a.getTrustedResourceUrl(s)}var l=r.defaults&&r.defaults.transformResponse;if(G(l)){l=l.filter(function(e){return e!==mr})}else if(l===mr){l=null}return r.get(s,O({cache:n,transformResponse:l},e)).finally(function(){o.totalPendingRequests--}).then(function(e){n.put(s,e.data);return e.data},c);function c(e){if(!u){e=Pi("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText);t(e)}return i.reject(e)}}o.totalPendingRequests=0;return o}]}function qi(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding");var i=[];S(r,function(e){var r=w.element(e).data("$binding");if(r){S(r,function(r){if(n){var a=new RegExp("(^|\\s)"+ue(t)+"(\\s|\\||$)");if(a.test(r)){i.push(e)}}else{if(r.indexOf(t)!==-1){i.push(e)}}})}});return i};r.findModels=function(e,t,n){var r=["ng-","data-ng-","ng\\:"];for(var i=0;i<r.length;++i){var a=n?"=":"*=";var o="["+r[i]+"model"+a+'"'+t+'"]';var s=e.querySelectorAll(o);if(s.length){return s}}};r.getLocation=function(){return n.url()};r.setLocation=function(t){if(t!==n.url()){n.url(t);e.$digest()}};r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)};return r}]}function Bi(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){var a={};function o(o,s,u){if(!K(o)){u=s;s=o;o=V}var l=be(arguments,3),c=U(u)&&!u,f=(c?r:n).defer(),d=f.promise,p;p=t.defer(function(){try{f.resolve(o.apply(null,l))}catch(e){f.reject(e);i(e)}finally{delete a[d.$$timeoutId]}if(!c)e.$apply()},s);d.$$timeoutId=p;a[p]=f;return d}o.cancel=function(e){if(e&&e.$$timeoutId in a){Ai(a[e.$$timeoutId].promise);a[e.$$timeoutId].reject("canceled");delete a[e.$$timeoutId];return t.defer.cancel(e.$$timeoutId)}return false};return o}]}var Fi=e.document.createElement("a");var zi=Wi(e.location.href);function Wi(e){var t=e;if(d){Fi.setAttribute("href",t);t=Fi.href}Fi.setAttribute("href",t);return{href:Fi.href,protocol:Fi.protocol?Fi.protocol.replace(/:$/,""):"",host:Fi.host,search:Fi.search?Fi.search.replace(/^\?/,""):"",hash:Fi.hash?Fi.hash.replace(/^#/,""):"",hostname:Fi.hostname,port:Fi.port,pathname:Fi.pathname.charAt(0)==="/"?Fi.pathname:"/"+Fi.pathname}}function Gi(e){var t=F(e)?Wi(e):e;return t.protocol===zi.protocol&&t.host===zi.host}function Ji(){this.$get=j(e)}function Ki(e){var t=e[0]||{};var n={};var r="";function i(e){try{return e.cookie||""}catch(e){return""}}function a(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,s,u,l;var c=i(t);if(c!==r){r=c;e=r.split("; ");n={};for(s=0;s<e.length;s++){o=e[s];u=o.indexOf("=");if(u>0){l=a(o.substring(0,u));if(P(n[l])){n[l]=a(o.substring(u+1))}}}}return n}}Ki.$inject=["$document"];function Yi(){this.$get=Ki}Zi.$inject=["$provide"];function Zi(e){var t="Filter";function n(r,i){if(q(r)){var a={};S(r,function(e,t){a[t]=n(t,e)});return a}else{return e.factory(r+t,i)}}this.register=n;this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}];n("currency",aa);n("date",ka);n("filter",Qi);n("json",Ea);n("limitTo",Aa);n("lowercase",Sa);n("number",oa);n("orderBy",_a);n("uppercase",Ca)}function Qi(){return function(e,t,n,r){if(!E(e)){if(e==null){return e}else{throw i("filter")("notarray","Expected array but received: {0}",e)}}r=r||"$";var a=ta(t);var o;var s;switch(a){case"function":o=t;break;case"boolean":case"null":case"number":case"string":s=true;case"object":o=Xi(t,n,r,s);break;default:return e}return Array.prototype.filter.call(e,o)}}function Xi(e,t,n,r){var i=q(e)&&n in e;var a;if(t===true){t=$e}else if(!K(t)){t=function(e,t){if(P(e)){return false}if(e===null||t===null){return e===t}if(q(t)||q(e)&&!D(e)){return false}e=u(""+e);t=u(""+t);return e.indexOf(t)!==-1}}a=function(a){if(i&&!q(a)){return ea(a,e[n],t,n,false)}return ea(a,e,t,n,r)};return a}function ea(e,t,n,r,i,a){var o=ta(e);var s=ta(t);if(s==="string"&&t.charAt(0)==="!"){return!ea(e,t.substring(1),n,r,i)}else if(G(e)){return e.some(function(e){return ea(e,t,n,r,i)})}switch(o){case"object":var u;if(i){for(u in e){if(u.charAt&&u.charAt(0)!=="$"&&ea(e[u],t,n,r,true)){return true}}return a?false:ea(e,t,n,r,false)}else if(s==="object"){for(u in t){var l=t[u];if(K(l)||P(l)){continue}var c=u===r;var f=c?e:e[u];if(!ea(f,l,n,r,c,c)){return false}}return true}else{return n(e,t)}case"function":return false;default:return n(e,t)}}function ta(e){return e===null?"null":typeof e}var na=22;var ra=".";var ia="0";aa.$inject=["$locale"];function aa(e){var t=e.NUMBER_FORMATS;return function(e,n,r){if(P(n)){n=t.CURRENCY_SYM}if(P(r)){r=t.PATTERNS[1].maxFrac}return e==null?e:la(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}oa.$inject=["$locale"];function oa(e){var t=e.NUMBER_FORMATS;return function(e,n){return e==null?e:la(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function sa(e){var t=0,n,r;var i,a,o;if((r=e.indexOf(ra))>-1){e=e.replace(ra,"")}if((i=e.search(/e/i))>0){if(r<0)r=i;r+=+e.slice(i+1);e=e.substring(0,i)}else if(r<0){r=e.length}for(i=0;e.charAt(i)===ia;i++){}if(i===(o=e.length)){n=[0];r=1}else{o--;while(e.charAt(o)===ia)o--;r-=i;n=[];for(a=0;i<=o;i++,a++){n[a]=+e.charAt(i)}}if(r>na){n=n.splice(0,na-1);t=r-1;r=1}return{d:n,e:t,i:r}}function ua(e,t,n,r){var i=e.d;var a=i.length-e.i;t=P(t)?Math.min(Math.max(n,a),r):+t;var o=t+e.i;var s=i[o];if(o>0){i.splice(Math.max(e.i,o));for(var u=o;u<i.length;u++){i[u]=0}}else{a=Math.max(0,a);e.i=1;i.length=Math.max(1,o=t+1);i[0]=0;for(var l=1;l<o;l++)i[l]=0}if(s>=5){if(o-1<0){for(var c=0;c>o;c--){i.unshift(0);e.i++}i.unshift(1);e.i++}else{i[o-1]++}}for(;a<Math.max(0,t);a++)i.push(0);var f=i.reduceRight(function(e,t,n,r){t=t+e;r[n]=t%10;return Math.floor(t/10)},0);if(f){i.unshift(f);e.i++}}function la(e,t,n,r,i){if(!(F(e)||z(e))||isNaN(e))return"";var a=!isFinite(e);var o=false;var s=Math.abs(e)+"",u="",l;if(a){u=""}else{l=sa(s);ua(l,i,t.minFrac,t.maxFrac);var c=l.d;var f=l.i;var d=l.e;var p=[];o=c.reduce(function(e,t){return e&&!t},true);while(f<0){c.unshift(0);f++}if(f>0){p=c.splice(f,c.length)}else{p=c;c=[0]}var h=[];if(c.length>=t.lgSize){h.unshift(c.splice(-t.lgSize,c.length).join(""))}while(c.length>t.gSize){h.unshift(c.splice(-t.gSize,c.length).join(""))}if(c.length){h.unshift(c.join(""))}u=h.join(n);if(p.length){u+=r+p.join("")}if(d){u+="e+"+d}}if(e<0&&!o){return t.negPre+u+t.negSuf}else{return t.posPre+u+t.posSuf}}function ca(e,t,n,r){var i="";if(e<0||r&&e<=0){if(r){e=-e+1}else{e=-e;i="-"}}e=""+e;while(e.length<t)e=ia+e;if(n){e=e.substr(e.length-t)}return i+e}function fa(e,t,n,r,i){n=n||0;return function(a){var o=a["get"+e]();if(n>0||o>-n){o+=n}if(o===0&&n===-12)o=12;return ca(o,t,r,i)}}function da(e,t,n){return function(r,i){var a=r["get"+e]();var o=(n?"STANDALONE":"")+(t?"SHORT":"");var s=l(o+e);return i[s][a]}}function pa(e,t,n){var r=-1*n;var i=r>=0?"+":"";i+=ca(Math[r>0?"floor":"ceil"](r/60),2)+ca(Math.abs(r%60),2);return i}function ha(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function va(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function $a(e){return function(t){var n=ha(t.getFullYear()),r=va(t);var i=+r-+n,a=1+Math.round(i/6048e5);return ca(a,e)}}function ma(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function ga(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function ya(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}var ba={yyyy:fa("FullYear",4,0,false,true),yy:fa("FullYear",2,0,true,true),y:fa("FullYear",1,0,false,true),MMMM:da("Month"),MMM:da("Month",true),MM:fa("Month",2,1),M:fa("Month",1,1),LLLL:da("Month",false,true),dd:fa("Date",2),d:fa("Date",1),HH:fa("Hours",2),H:fa("Hours",1),hh:fa("Hours",2,-12),h:fa("Hours",1,-12),mm:fa("Minutes",2),m:fa("Minutes",1),ss:fa("Seconds",2),s:fa("Seconds",1),sss:fa("Milliseconds",3),EEEE:da("Day"),EEE:da("Day",true),a:ma,Z:pa,ww:$a(2),w:$a(1),G:ga,GG:ga,GGG:ga,GGGG:ya};var wa=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,xa=/^-?\d+$/;ka.$inject=["$locale"];function ka(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function n(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,a=0,o=n[8]?r.setUTCFullYear:r.setFullYear,s=n[8]?r.setUTCHours:r.setHours;if(n[9]){i=L(n[9]+n[10]);a=L(n[9]+n[11])}o.call(r,L(n[1]),L(n[2])-1,L(n[3]));var u=L(n[4]||0)-i;var l=L(n[5]||0)-a;var c=L(n[6]||0);var f=Math.round(parseFloat("0."+(n[7]||0))*1e3);s.call(r,u,l,c,f);return r}return e}return function(t,r,i){var a="",o=[],s,u;r=r||"mediumDate";r=e.DATETIME_FORMATS[r]||r;if(F(t)){t=xa.test(t)?L(t):n(t)}if(z(t)){t=new Date(t)}if(!W(t)||!isFinite(t.getTime())){return t}while(r){u=wa.exec(r);if(u){o=ye(o,u,1);r=o.pop()}else{o.push(r);r=null}}var l=t.getTimezoneOffset();if(i){l=Ce(i,l);t=Me(t,i,true)}S(o,function(n){s=ba[n];a+=s?s(t,e.DATETIME_FORMATS,l):n==="''"?"'":n.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return a}}function Ea(){return function(e,t){if(P(t)){t=2}return ke(e,t)}}var Sa=j(u);var Ca=j(l);function Aa(){return function(e,t,n){if(Math.abs(Number(t))===Infinity){t=Number(t)}else{t=L(t)}if(I(t))return e;if(z(e))e=e.toString();if(!E(e))return e;n=!n||isNaN(n)?0:L(n);n=n<0?Math.max(0,e.length+n):n;if(t>=0){return Ma(e,n,n+t)}else{if(n===0){return Ma(e,t,e.length)}else{return Ma(e,Math.max(0,n+t),n)}}}}function Ma(e,t,n){if(F(e))return e.slice(t,n);return v.call(e,t,n)}_a.$inject=["$parse"];function _a(e){return function(e,n,r,s){if(e==null)return e;if(!E(e)){throw i("orderBy")("notarray","Expected array but received: {0}",e)}if(!G(n)){n=[n]}if(n.length===0){n=["+"]}var u=t(n);var l=r?-1:1;var c=K(s)?s:o;var f=Array.prototype.map.call(e,d);f.sort(p);e=f.map(function(e){return e.value});return e;function d(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:u.map(function(n){return a(n.get(e),t)})}}function p(e,t){for(var n=0,r=u.length;n<r;n++){var i=c(e.predicateValues[n],t.predicateValues[n]);if(i){return i*u[n].descending*l}}return(c(e.tieBreaker,t.tieBreaker)||o(e.tieBreaker,t.tieBreaker))*l}};function t(t){return t.map(function(t){var n=1,r=R;if(K(t)){r=t}else if(F(t)){if(t.charAt(0)==="+"||t.charAt(0)==="-"){n=t.charAt(0)==="-"?-1:1;t=t.substring(1)}if(t!==""){r=e(t);if(r.constant){var i=r();r=function(e){return e[i]}}}}return{get:r,descending:n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return true;default:return false}}function r(e){if(K(e.valueOf)){e=e.valueOf();if(n(e))return e}if(D(e)){e=e.toString();if(n(e))return e}return e}function a(e,t){var n=typeof e;if(e===null){n="string";e="null"}else if(n==="object"){e=r(e)}return{value:e,type:n,index:t}}function o(e,t){var n=0;var r=e.type;var i=t.type;if(r===i){var a=e.value;var o=t.value;if(r==="string"){a=a.toLowerCase();o=o.toLowerCase()}else if(r==="object"){if(q(a))a=e.index;if(q(o))o=t.index}if(a!==o){n=a<o?-1:1}}else{n=r<i?-1:1}return n}}function Ta(e){if(K(e)){e={link:e}}e.restrict=e.restrict||"AC";return j(e)}var Oa=j({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref){return function(e,t){if(t[0].nodeName.toLowerCase()!=="a")return;var n=g.call(t.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";t.on("click",function(e){if(!t.attr(n)){e.preventDefault()}})}}}});var Na={};S(Qt,function(e,t){if(e==="multiple")return;function n(e,n,i){e.$watch(i[r],function e(n){i.$set(t,!!n)})}var r=Kn("ng-"+t);var i=n;if(e==="checked"){i=function(e,t,i){if(i.ngModel!==i[r]){n(e,t,i)}}}Na[r]=function(){return{restrict:"A",priority:100,link:i}}});S(en,function(e,t){Na[t]=function(){return{priority:100,link:function(e,n,r){if(t==="ngPattern"&&r.ngPattern.charAt(0)==="/"){var i=r.ngPattern.match(a);if(i){r.$set("ngPattern",new RegExp(i[1],i[2]));return}}e.$watch(r[t],function e(n){r.$set(t,n)})}}}});S(["src","srcset","href"],function(e){var t=Kn("ng-"+e);Na[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;if(e==="href"&&g.call(r.prop("href"))==="[object SVGAnimatedString]"){o="xlinkHref";i.$attr[o]="xlink:href";a=null}i.$observe(t,function(t){if(!t){if(e==="href"){i.$set(o,null)}return}i.$set(o,t);if(d&&a)r.prop(a,i[o])})}}}});var La={$addControl:V,$$renameControl:Va,$removeControl:V,$setValidity:V,$setDirty:V,$setPristine:V,$setSubmitted:V},Ia="ng-pending",Ha="ng-submitted";function Va(e,t){e.$name=t}Ra.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function Ra(e,t,n,r,i){this.$$controls=[];this.$error={};this.$$success={};this.$pending=undefined;this.$name=i(t.name||t.ngForm||"")(n);this.$dirty=false;this.$pristine=true;this.$valid=true;this.$invalid=false;this.$submitted=false;this.$$parentForm=La;this.$$element=e;this.$$animate=r;Ua(this)}Ra.prototype={$rollbackViewValue:function(){S(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){S(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){Ke(e.$name,"input");this.$$controls.push(e);if(e.$name){this[e.$name]=e}e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;if(this[n]===e){delete this[n]}this[t]=e;e.$name=t},$removeControl:function(e){if(e.$name&&this[e.$name]===e){delete this[e.$name]}S(this.$pending,function(t,n){this.$setValidity(n,null,e)},this);S(this.$error,function(t,n){this.$setValidity(n,null,e)},this);S(this.$$success,function(t,n){this.$setValidity(n,null,e)},this);pe(this.$$controls,e);e.$$parentForm=La},$setDirty:function(){this.$$animate.removeClass(this.$$element,Fo);this.$$animate.addClass(this.$$element,zo);this.$dirty=true;this.$pristine=false;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Fo,zo+" "+Ha);this.$dirty=false;this.$pristine=true;this.$submitted=false;S(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){S(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,Ha);this.$submitted=true;this.$$parentForm.$setSubmitted()}};qa({clazz:Ra,set:function(e,t,n){var r=e[t];if(!r){e[t]=[n]}else{var i=r.indexOf(n);if(i===-1){r.push(n)}}},unset:function(e,t,n){var r=e[t];if(!r){return}pe(r,n);if(r.length===0){delete e[t]}}});var ja=function(e){return["$timeout","$parse",function(t,n){var r={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Ra,compile:function n(r,a){r.addClass(Fo).addClass(qo);var o=a.name?"name":e&&a.ngForm?"ngForm":false;return{pre:function e(n,r,a,s){var u=s[0];if(!("action"in a)){var l=function(e){n.$apply(function(){u.$commitViewValue();u.$setSubmitted()});e.preventDefault()};r[0].addEventListener("submit",l);r.on("$destroy",function(){t(function(){r[0].removeEventListener("submit",l)},0,false)})}var c=s[1]||u.$$parentForm;c.$addControl(u);var f=o?i(u.$name):V;if(o){f(n,u);a.$observe(o,function(e){if(u.$name===e)return;f(n,undefined);u.$$parentForm.$$renameControl(u,e);f=i(u.$name);f(n,u)})}r.on("$destroy",function(){u.$$parentForm.$removeControl(u);f(n,undefined);O(u,La)})}}}};return r;function i(e){if(e===""){return n('this[""]').assign}return n(e).assign||V}}]};var Da=ja();var Pa=ja(true);function Ua(e){e.$$classCache={};e.$$classCache[Bo]=!(e.$$classCache[qo]=e.$$element.hasClass(qo))}function qa(e){var t=e.clazz,n=e.set,r=e.unset;t.prototype.$setValidity=function(e,t,u){if(P(t)){i(this,"$pending",e,u)}else{a(this,"$pending",e,u)}if(!ne(t)){r(this.$error,e,u);r(this.$$success,e,u)}else{if(t){r(this.$error,e,u);n(this.$$success,e,u)}else{n(this.$error,e,u);r(this.$$success,e,u)}}if(this.$pending){o(this,Ia,true);this.$valid=this.$invalid=undefined;s(this,"",null)}else{o(this,Ia,false);this.$valid=Ba(this.$error);this.$invalid=!this.$valid;s(this,"",this.$valid)}var l;if(this.$pending&&this.$pending[e]){l=undefined}else if(this.$error[e]){l=false}else if(this.$$success[e]){l=true}else{l=null}s(this,e,l);this.$$parentForm.$setValidity(e,l,this)};function i(e,t,r,i){if(!e[t]){e[t]={}}n(e[t],r,i)}function a(e,t,n,i){if(e[t]){r(e[t],n,i)}if(Ba(e[t])){e[t]=undefined}}function o(e,t,n){if(n&&!e.$$classCache[t]){e.$$animate.addClass(e.$$element,t);e.$$classCache[t]=true}else if(!n&&e.$$classCache[t]){e.$$animate.removeClass(e.$$element,t);e.$$classCache[t]=false}}function s(e,t,n){t=t?"-"+Fe(t,"-"):"";o(e,qo+t,n===true);o(e,Bo+t,n===false)}}function Ba(e){if(e){for(var t in e){if(e.hasOwnProperty(t)){return false}}}return true}var Fa=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/;var za=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i;var Wa=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;var Ga=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/;var Ja=/^(\d{4,})-(\d{2})-(\d{2})$/;var Ka=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var Ya=/^(\d{4,})-W(\d\d)$/;var Za=/^(\d{4,})-(\d\d)$/;var Qa=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var Xa="keydown wheel mousedown";var eo=Qe();S("date,datetime-local,month,time,week".split(","),function(e){eo[e]=true});var to={text:ro,date:so("date",Ja,oo(Ja,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":so("datetimelocal",Ka,oo(Ka,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:so("time",Qa,oo(Qa,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:so("week",Ya,ao,"yyyy-Www"),month:so("month",Za,oo(Za,["yyyy","MM"]),"yyyy-MM"),number:vo,url:mo,email:go,radio:yo,range:$o,checkbox:wo,hidden:V,button:V,submit:V,reset:V,file:V};function no(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function ro(e,t,n,r,i,a){io(e,t,n,r,i,a);no(r)}function io(e,t,n,r,i,a){var s=u(t[0].type);if(!i.android){var l=false;t.on("compositionstart",function(){l=true});t.on("compositionend",function(){l=false;f()})}var c;var f=function(e){if(c){a.defer.cancel(c);c=null}if(l)return;var i=t.val(),o=e&&e.type;if(s!=="password"&&(!n.ngTrim||n.ngTrim!=="false")){i=se(i)}if(r.$viewValue!==i||i===""&&r.$$hasNativeValidators){r.$setViewValue(i,o)}};if(i.hasEvent("input")){t.on("input",f)}else{var d=function(e,t,n){if(!c){c=a.defer(function(){c=null;if(!t||t.value!==n){f(e)}})}};t.on("keydown",function(e){var t=e.keyCode;if(t===91||15<t&&t<19||37<=t&&t<=40)return;d(e,this,this.value)});if(i.hasEvent("paste")){t.on("paste cut",d)}}t.on("change",f);if(eo[s]&&r.$$hasNativeValidators&&s===n.type){t.on(Xa,function(e){if(!c){var t=this[o];var n=t.badInput;var r=t.typeMismatch;c=a.defer(function(){c=null;if(t.badInput!==n||t.typeMismatch!==r){f(e)}})}})}r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;if(t.val()!==e){t.val(e)}}}function ao(e,t){if(W(e)){return e}if(F(e)){Ya.lastIndex=0;var n=Ya.exec(e);if(n){var r=+n[1],i=+n[2],a=0,o=0,s=0,u=0,l=ha(r),c=(i-1)*7;if(t){a=t.getHours();o=t.getMinutes();s=t.getSeconds();u=t.getMilliseconds()}return new Date(r,0,l.getDate()+c,a,o,s,u)}}return NaN}function oo(e,t){return function(n,r){var i,a;if(W(n)){return n}if(F(n)){if(n.charAt(0)==='"'&&n.charAt(n.length-1)==='"'){n=n.substring(1,n.length-1)}if(Fa.test(n)){return new Date(n)}e.lastIndex=0;i=e.exec(n);if(i){i.shift();if(r){a={yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}}else{a={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0}}S(i,function(e,n){if(n<t.length){a[t[n]]=+e}});return new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,a.sss*1e3||0)}}return NaN}}function so(e,t,n,r){return function i(a,o,s,u,l,c,f){uo(a,o,s,u);io(a,o,s,u,l,c);var d=u&&u.$options.getOption("timezone");var p;u.$$parserName=e;u.$parsers.push(function(e){if(u.$isEmpty(e))return null;if(t.test(e)){var r=n(e,p);if(d){r=Me(r,d)}return r}return undefined});u.$formatters.push(function(e){if(e&&!W(e)){throw Yo("datefmt","Expected `{0}` to be a date",e)}if($(e)){p=e;if(p&&d){p=Me(p,d,true)}return f("date")(e,r,d)}else{p=null;return""}});if(U(s.min)||s.ngMin){var h;u.$validators.min=function(e){return!$(e)||P(h)||n(e)>=h};s.$observe("min",function(e){h=m(e);u.$validate()})}if(U(s.max)||s.ngMax){var v;u.$validators.max=function(e){return!$(e)||P(v)||n(e)<=v};s.$observe("max",function(e){v=m(e);u.$validate()})}function $(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function m(e){return U(e)&&!W(e)?n(e)||undefined:e}}}function uo(e,t,n,r){var i=t[0];var a=r.$$hasNativeValidators=q(i.validity);if(a){r.$parsers.push(function(e){var n=t.prop(o)||{};return n.badInput||n.typeMismatch?undefined:e})}}function lo(e){e.$$parserName="number";e.$parsers.push(function(t){if(e.$isEmpty(t))return null;if(Ga.test(t))return parseFloat(t);return undefined});e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!z(t)){throw Yo("numfmt","Expected `{0}` to be a number",t)}t=t.toString()}return t})}function co(e){if(U(e)&&!z(e)){e=parseFloat(e)}return!I(e)?e:undefined}function fo(e){return(e|0)===e}function po(e){var t=e.toString();var n=t.indexOf(".");if(n===-1){if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r){return Number(r[1])}}return 0}return t.length-n-1}function ho(e,t,n){var r=Number(e);var i=!fo(r);var a=!fo(t);var o=!fo(n);if(i||a||o){var s=i?po(r):0;var u=a?po(t):0;var l=o?po(n):0;var c=Math.max(s,u,l);var f=Math.pow(10,c);r=r*f;t=t*f;n=n*f;if(i)r=Math.round(r);if(a)t=Math.round(t);if(o)n=Math.round(n)}return(r-t)%n===0}function vo(e,t,n,r,i,a){uo(e,t,n,r);lo(r);io(e,t,n,r,i,a);var o;var s;if(U(n.min)||n.ngMin){r.$validators.min=function(e){return r.$isEmpty(e)||P(o)||e>=o};n.$observe("min",function(e){o=co(e);r.$validate()})}if(U(n.max)||n.ngMax){r.$validators.max=function(e){return r.$isEmpty(e)||P(s)||e<=s};n.$observe("max",function(e){s=co(e);r.$validate()})}if(U(n.step)||n.ngStep){var u;r.$validators.step=function(e,t){return r.$isEmpty(t)||P(u)||ho(t,o||0,u)};n.$observe("step",function(e){u=co(e);r.$validate()})}}function $o(e,t,n,r,i,a){uo(e,t,n,r);lo(r);io(e,t,n,r,i,a);var o=r.$$hasNativeValidators&&t[0].type==="range",s=o?0:undefined,u=o?100:undefined,l=o?1:undefined,c=t[0].validity,f=U(n.min),d=U(n.max),p=U(n.step);var h=r.$render;r.$render=o&&U(c.rangeUnderflow)&&U(c.rangeOverflow)?function e(){h();r.$setViewValue(t.val())}:h;if(f){r.$validators.min=o?function e(){return true}:function e(t,n){return r.$isEmpty(n)||P(s)||n>=s};v("min",$)}if(d){r.$validators.max=o?function e(){return true}:function e(t,n){return r.$isEmpty(n)||P(u)||n<=u};v("max",m)}if(p){r.$validators.step=o?function e(){return!c.stepMismatch}:function e(t,n){return r.$isEmpty(n)||P(l)||ho(n,s||0,l)};v("step",g)}function v(e,r){t.attr(e,n[e]);n.$observe(e,r)}function $(e){s=co(e);if(I(r.$modelValue)){return}if(o){var n=t.val();if(s>n){n=s;t.val(n)}r.$setViewValue(n)}else{r.$validate()}}function m(e){u=co(e);if(I(r.$modelValue)){return}if(o){var n=t.val();if(u<n){t.val(u);n=u<s?s:u}r.$setViewValue(n)}else{r.$validate()}}function g(e){l=co(e);if(I(r.$modelValue)){return}if(o&&r.$viewValue!==t.val()){r.$setViewValue(t.val())}else{r.$validate()}}}function mo(e,t,n,r,i,a){io(e,t,n,r,i,a);no(r);r.$$parserName="url";r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||za.test(n)}}function go(e,t,n,r,i,a){io(e,t,n,r,i,a);no(r);r.$$parserName="email";r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Wa.test(n)}}function yo(e,t,n,r){var i=!n.ngTrim||se(n.ngTrim)!=="false";if(P(n.name)){t.attr("name",M())}var a=function(e){var a;if(t[0].checked){a=n.value;if(i){a=se(a)}r.$setViewValue(a,e&&e.type)}};t.on("click",a);r.$render=function(){var e=n.value;if(i){e=se(e)}t[0].checked=e===r.$viewValue};n.$observe("value",r.$render)}function bo(e,t,n,r,i){var a;if(U(r)){a=e(r);if(!a.constant){throw Yo("constexpr","Expected constant expression for `{0}`, but saw "+"`{1}`.",n,r)}return a(t)}return i}function wo(e,t,n,r,i,a,o,s){var u=bo(s,e,"ngTrueValue",n.ngTrueValue,true);var l=bo(s,e,"ngFalseValue",n.ngFalseValue,false);var c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c);r.$render=function(){t[0].checked=r.$viewValue};r.$isEmpty=function(e){return e===false};r.$formatters.push(function(e){return $e(e,u)});r.$parsers.push(function(e){return e?u:l})}var xo=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,o,s){if(s[0]){(to[u(o.type)]||to.text)(i,a,o,s[0],t,e,n,r)}}}}}];var ko=/^(true|false|\d+)$/;var Eo=function(){function e(e,t,n){var r=U(n)?n:d===9?"":null;e.prop("value",r);t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){if(ko.test(n.ngValue)){return function t(n,r,i){var a=n.$eval(i.ngValue);e(r,i,a)}}else{return function t(n,r,i){n.$watch(i.ngValue,function t(n){e(r,i,n)})}}}}};var So=["$compile",function(e){return{restrict:"AC",compile:function t(n){e.$$addBindingClass(n);return function t(n,r,i){e.$$addBindingInfo(r,i.ngBind);r=r[0];n.$watch(i.ngBind,function e(t){r.textContent=Xe(t)})}}}}];var Co=["$interpolate","$compile",function(e,t){return{compile:function n(r){t.$$addBindingClass(r);return function n(r,i,a){var o=e(i.attr(a.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions);i=i[0];a.$observe("ngBindTemplate",function(e){i.textContent=P(e)?"":e})}}}}];var Ao=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function r(i,a){var o=t(a.ngBindHtml);var s=t(a.ngBindHtml,function t(n){return e.valueOf(n)});n.$$addBindingClass(i);return function t(r,i,a){n.$$addBindingInfo(i,a.ngBindHtml);r.$watch(s,function t(){var n=o(r);i.html(e.getTrustedHtml(n)||"")})}}}}];var Mo=j({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}});function _o(e,t){e="ngClass"+e;var n;return["$parse",function(s){return{restrict:"AC",link:function(u,l,c){var f=c[e].trim();var d=f.charAt(0)===":"&&f.charAt(1)===":";var p=d?o:a;var h=s(f,p);var v=d?E:C;var $=l.data("$classCounts");var m=true;var g;if(!$){$=Qe();l.data("$classCounts",$)}if(e!=="ngClass"){if(!n){n=s("$index",function e(t){return t&1})}u.$watch(n,k)}u.$watch(h,v,d);function y(e){e=x(i(e),1);c.$addClass(e)}function b(e){e=x(i(e),-1);c.$removeClass(e)}function w(e,t){var n=i(e);var a=i(t);var o=r(n,a);var s=r(a,n);var u=x(o,-1);var l=x(s,1);c.$addClass(l);c.$removeClass(u)}function x(e,t){var n=[];S(e,function(e){if(t>0||$[e]){$[e]=($[e]||0)+t;if($[e]===+(t>0)){n.push(e)}}});return n.join(" ")}function k(e){if(e===t){y(g)}else{b(g)}m=e}function E(e){var t=a(e);if(t!==g){C(t)}}function C(e){if(m===t){w(g,e)}g=e}}}}];function r(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){var i=e[r];for(var a=0;a<t.length;a++){if(i===t[a])continue e}n.push(i)}return n}function i(e){return e&&e.split(" ")}function a(e){var t=e;if(G(e)){t=e.map(a).join(" ")}else if(q(e)){t=Object.keys(e).filter(function(t){return e[t]}).join(" ")}return t}function o(e){var t=e;if(G(e)){t=e.map(o)}else if(q(e)){var n=false;t=Object.keys(e).filter(function(t){var r=e[t];if(!n&&P(r)){n=true}return r});if(n){t.push(undefined)}}return t}}var To=_o("",true);var Oo=_o("Odd",0);var No=_o("Even",1);var Lo=Ta({compile:function(e,t){t.$set("ngCloak",undefined);e.removeClass("ng-cloak")}});var Io=[function(){return{restrict:"A",scope:true,controller:"@",priority:500}}];var Ho={};var Vo={blur:true,focus:true};S("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Kn("ng-"+e);Ho[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,a){var o=n(a[t]);return function t(n,i){i.on(e,function(t){var i=function(){o(n,{$event:t})};if(Vo[e]&&r.$$phase){n.$evalAsync(i)}else{n.$apply(i)}})}}}}]});var Ro=["$animate","$compile",function(e,t){return{multiElement:true,transclude:"element",priority:600,terminal:true,restrict:"A",$$tlb:true,link:function(n,r,i,a,o){var s,u,l;n.$watch(i.ngIf,function n(a){if(a){if(!u){o(function(n,a){u=a;n[n.length++]=t.$$createComment("end ngIf",i.ngIf);s={clone:n};e.enter(n,r.parent(),r)})}}else{if(l){l.remove();l=null}if(u){u.$destroy();u=null}if(s){l=Ze(s.clone);e.leave(l).done(function(e){if(e!==false)l=null});s=null}}})}}}];var jo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:true,transclude:"element",controller:w.noop,compile:function(r,i){var a=i.ngInclude||i.src,o=i.onload||"",s=i.autoscroll;return function(r,i,u,l,c){var f=0,d,p,h;var v=function(){if(p){p.remove();p=null}if(d){d.$destroy();d=null}if(h){n.leave(h).done(function(e){if(e!==false)p=null});p=h;h=null}};r.$watch(a,function a(u){var p=function(e){if(e!==false&&U(s)&&(!s||r.$eval(s))){t()}};var $=++f;if(u){e(u,true).then(function(e){if(r.$$destroyed)return;if($!==f)return;var t=r.$new();l.template=e;var a=c(t,function(e){v();n.enter(e,null,i).done(p)});d=t;h=a;d.$emit("$includeContentLoaded",u);r.$eval(o)},function(){if(r.$$destroyed)return;if($===f){v();r.$emit("$includeContentError",u)}});r.$emit("$includeContentRequested",u)}else{v();l.template=null}})}}}}];var Do=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,a){if(g.call(r[0]).match(/SVG/)){r.empty();t(Tt(a.template,e.document).childNodes)(n,function e(t){r.append(t)},{futureParentElement:r});return}r.html(a.template);t(r.contents())(n)}}}];var Po=Ta({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}});var Uo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ";var a=n.ngTrim!=="false";var o=a?se(i):i;var s=function(e){if(P(e))return;var t=[];if(e){S(e.split(o),function(e){if(e)t.push(a?se(e):e)})}return t};r.$parsers.push(s);r.$formatters.push(function(e){if(G(e)){return e.join(i)}return undefined});r.$isEmpty=function(e){return!e||!e.length}}}};var qo="ng-valid",Bo="ng-invalid",Fo="ng-pristine",zo="ng-dirty",Wo="ng-untouched",Go="ng-touched",Jo="ng-empty",Ko="ng-not-empty";var Yo=i("ngModel");Zo.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"];function Zo(e,t,n,r,i,a,o,s,u){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=undefined;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=true;this.$touched=false;this.$pristine=true;this.$dirty=false;this.$valid=true;this.$invalid=false;this.$error={};this.$$success={};this.$pending=undefined;this.$name=u(n.name||"",false)(e);this.$$parentForm=La;this.$options=es;this.$$parsedNgModel=i(n.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=undefined;this.$$currentValidationRunId=0;Object.defineProperty(this,"$$scope",{value:e});this.$$attr=n;this.$$element=r;this.$$animate=a;this.$$timeout=o;this.$$parse=i;this.$$q=s;this.$$exceptionHandler=t;Ua(this);Qo(this)}Zo.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);if(K(n)){n=e(t)}return n};this.$$ngModelSet=function(e,n){if(K(this.$$parsedNgModel(e))){t(e,{$$$p:n})}else{this.$$parsedNgModelAssign(e,n)}}}else if(!this.$$parsedNgModel.assign){throw Yo("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,_e(this.$$element))}},$render:V,$isEmpty:function(e){return P(e)||e===""||e===null||e!==e},$$updateEmptyClasses:function(e){if(this.$isEmpty(e)){this.$$animate.removeClass(this.$$element,Ko);this.$$animate.addClass(this.$$element,Jo)}else{this.$$animate.removeClass(this.$$element,Jo);this.$$animate.addClass(this.$$element,Ko)}},$setPristine:function(){this.$dirty=false;this.$pristine=true;this.$$animate.removeClass(this.$$element,zo);this.$$animate.addClass(this.$$element,Fo)},$setDirty:function(){this.$dirty=true;this.$pristine=false;this.$$animate.removeClass(this.$$element,Fo);this.$$animate.addClass(this.$$element,zo);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=false;this.$untouched=true;this.$$animate.setClass(this.$$element,Wo,Go)},$setTouched:function(){this.$touched=true;this.$untouched=false;this.$$animate.setClass(this.$$element,Go,Wo)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(I(this.$modelValue)){return}var e=this.$$lastCommittedViewValue;var t=this.$$rawModelValue;var n=this.$valid;var r=this.$modelValue;var i=this.$options.getOption("allowInvalid");var a=this;this.$$runValidators(t,e,function(e){if(!i&&n!==e){a.$modelValue=e?t:undefined;if(a.$modelValue!==r){a.$$writeModelToScope()}}})},$$runValidators:function(e,t,n){this.$$currentValidationRunId++;var r=this.$$currentValidationRunId;var i=this;if(!a()){l(false);return}if(!o()){l(false);return}s();function a(){var e=i.$$parserName||"parse";if(P(i.$$parserValid)){u(e,null)}else{if(!i.$$parserValid){S(i.$validators,function(e,t){u(t,null)});S(i.$asyncValidators,function(e,t){u(t,null)})}u(e,i.$$parserValid);return i.$$parserValid}return true}function o(){var n=true;S(i.$validators,function(r,i){var a=Boolean(r(e,t));n=n&&a;u(i,a)});if(!n){S(i.$asyncValidators,function(e,t){u(t,null)});return false}return true}function s(){var n=[];var r=true;S(i.$asyncValidators,function(i,a){var o=i(e,t);if(!re(o)){throw Yo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",o)}u(a,undefined);n.push(o.then(function(){u(a,true)},function(){r=false;u(a,false)}))});if(!n.length){l(true)}else{i.$$q.all(n).then(function(){l(r)},V)}}function u(e,t){if(r===i.$$currentValidationRunId){i.$setValidity(e,t)}}function l(e){if(r===i.$$currentValidationRunId){n(e)}}},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue===e&&(e!==""||!this.$$hasNativeValidators)){return}this.$$updateEmptyClasses(e);this.$$lastCommittedViewValue=e;if(this.$pristine){this.$setDirty()}this.$$parseAndValidate()},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue;var t=e;var n=this;this.$$parserValid=P(t)?undefined:true;if(this.$$parserValid){for(var r=0;r<this.$parsers.length;r++){t=this.$parsers[r](t);if(P(t)){this.$$parserValid=false;break}}}if(I(this.$modelValue)){this.$modelValue=this.$$ngModelGet(this.$$scope)}var i=this.$modelValue;var a=this.$options.getOption("allowInvalid");this.$$rawModelValue=t;if(a){this.$modelValue=t;o()}this.$$runValidators(t,this.$$lastCommittedViewValue,function(e){if(!a){n.$modelValue=e?t:undefined;o()}});function o(){if(n.$modelValue!==i){n.$$writeModelToScope()}}},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);S(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e;if(this.$options.getOption("updateOnDefault")){this.$$debounceViewValueCommit(t)}},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");if(z(t[e])){t=t[e]}else if(z(t["default"])){t=t["default"]}this.$$timeout.cancel(this.$$pendingDebounce);var n=this;if(t>0){this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t)}else if(this.$$scope.$root.$$phase){this.$commitViewValue()}else{this.$$scope.$apply(function(){n.$commitViewValue()})}},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e)}};function Qo(e){e.$$scope.$watch(function t(n){var r=e.$$ngModelGet(n);if(r!==e.$modelValue&&(e.$modelValue===e.$modelValue||r===r)){e.$modelValue=e.$$rawModelValue=r;e.$$parserValid=undefined;var i=e.$formatters,a=i.length;var o=r;while(a--){o=i[a](o)}if(e.$viewValue!==o){e.$$updateEmptyClasses(o);e.$viewValue=e.$$lastCommittedViewValue=o;e.$render();e.$$runValidators(e.$modelValue,e.$viewValue,V)}}return r})}qa({clazz:Zo,set:function(e,t){e[t]=true},unset:function(e,t){delete e[t]}});var Xo=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Zo,priority:1,compile:function t(n){n.addClass(Fo).addClass(Wo).addClass(qo);return{pre:function e(t,n,r,i){var a=i[0],o=i[1]||a.$$parentForm,s=i[2];if(s){a.$options=s.$options}a.$$initGetterSetters();o.$addControl(a);r.$observe("name",function(e){if(a.$name!==e){a.$$parentForm.$$renameControl(a,e)}});t.$on("$destroy",function(){a.$$parentForm.$removeControl(a)})},post:function t(n,r,i,a){var o=a[0];if(o.$options.getOption("updateOn")){r.on(o.$options.getOption("updateOn"),function(e){o.$$debounceViewValueCommit(e&&e.type)})}function s(){o.$setTouched()}r.on("blur",function(){if(o.$touched)return;if(e.$$phase){n.$evalAsync(s)}else{n.$apply(s)}})}}}}}];var es;var ts=/(\s+|^)default(\s+|$)/;function ns(e){this.$$options=e}ns.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=false;e=O({},e);S(e,function(n,r){if(n==="$inherit"){if(r==="*"){t=true}else{e[r]=this.$$options[r];if(r==="updateOn"){e.updateOnDefault=this.$$options.updateOnDefault}}}else{if(r==="updateOn"){e.updateOnDefault=false;e[r]=se(n.replace(ts,function(){e.updateOnDefault=true;return" "}))}}},this);if(t){delete e["*"];is(e,this.$$options)}is(e,es.$$options);return new ns(e)}};es=new ns({updateOn:"",updateOnDefault:true,debounce:0,getterSetter:false,allowInvalid:false,timezone:null});var rs=function(){e.$inject=["$attrs","$scope"];function e(e,t){this.$$attrs=e;this.$$scope=t}e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:es;var t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:true,controller:e}};function is(e,t){S(t,function(t,n){if(!U(e[n])){e[n]=t}})}var as=Ta({terminal:true,priority:1e3});var os=i("ngOptions");var ss=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;var us=["$compile","$document","$parse",function(t,n,r){function i(e,t,n){var i=e.match(ss);if(!i){throw os("iexp","Expected expression in form of "+"'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'"+" but got '{0}'. Element: {1}",e,_e(t))}var a=i[5]||i[7];var o=i[6];var s=/ as /.test(i[0])&&i[1];var u=i[9];var l=r(i[2]?i[1]:a);var c=s&&r(s);var f=c||l;var d=u&&r(u);var p=u?function(e,t){return d(n,t)}:function e(t){return un(t)};var h=function(e,t){return p(e,b(e,t))};var v=r(i[2]||i[1]);var $=r(i[3]||"");var m=r(i[4]||"");var g=r(i[8]);var y={};var b=o?function(e,t){y[o]=t;y[a]=e;return y}:function(e){y[a]=e;return y};function w(e,t,n,r,i){this.selectValue=e;this.viewValue=t;this.label=n;this.group=r;this.disabled=i}function x(e){var t;if(!o&&E(e)){t=e}else{t=[];for(var n in e){if(e.hasOwnProperty(n)&&n.charAt(0)!=="$"){t.push(n)}}}return t}return{trackBy:u,getTrackByValue:h,getWatchables:r(g,function(e){var t=[];e=e||[];var r=x(e);var a=r.length;for(var o=0;o<a;o++){var s=e===r?o:r[o];var u=e[s];var l=b(u,s);var c=p(u,l);t.push(c);if(i[2]||i[1]){var f=v(n,l);t.push(f)}if(i[4]){var d=m(n,l);t.push(d)}}return t}),getOptions:function(){var e=[];var t={};var r=g(n)||[];var i=x(r);var a=i.length;for(var o=0;o<a;o++){var s=r===i?o:i[o];var l=r[s];var c=b(l,s);var d=f(n,c);var y=p(d,c);var k=v(n,c);var E=$(n,c);var S=m(n,c);var C=new w(y,d,k,E,S);e.push(C);t[y]=C}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[h(e)]},getViewValueFromOption:function(e){return u?he(e.viewValue):e.viewValue}}}}}var a=e.document.createElement("option"),o=e.document.createElement("optgroup");function s(e,r,s,u){var l=u[0];var c=u[1];var f=s.multiple;for(var d=0,h=r.children(),v=h.length;d<v;d++){if(h[d].value===""){l.hasEmptyOption=true;l.emptyOption=h.eq(d);break}}r.empty();var $=!!l.emptyOption;var m=p(a.cloneNode(false));m.val("?");var g;var y=i(s.ngOptions,r,e);var b=n[0].createDocumentFragment();l.generateUnknownOptionValue=function(e){return"?"};if(!f){l.writeValue=function e(t){if(!g)return;var n=r[0].options[r[0].selectedIndex];var i=g.getOptionFromViewValue(t);if(n)n.removeAttribute("selected");if(i){if(r[0].value!==i.selectValue){l.removeUnknownOption();r[0].value=i.selectValue;i.element.selected=true}i.element.setAttribute("selected","selected")}else{l.selectUnknownOrEmptyOption(t)}};l.readValue=function e(){var t=g.selectValueMap[r.val()];if(t&&!t.disabled){l.unselectEmptyOption();l.removeUnknownOption();return g.getViewValueFromOption(t)}return null};if(y.trackBy){e.$watch(function(){return y.getTrackByValue(c.$viewValue)},function(){c.$render()})}}else{l.writeValue=function e(t){if(!g)return;var n=t&&t.map(x)||[];g.items.forEach(function(e){if(e.element.selected&&!de(n,e)){e.element.selected=false}})};l.readValue=function e(){var t=r.val()||[],n=[];S(t,function(e){var t=g.selectValueMap[e];if(t&&!t.disabled)n.push(g.getViewValueFromOption(t))});return n};if(y.trackBy){e.$watchCollection(function(){if(G(c.$viewValue)){return c.$viewValue.map(function(e){return y.getTrackByValue(e)})}},function(){c.$render()})}}if($){t(l.emptyOption)(e);r.prepend(l.emptyOption);if(l.emptyOption[0].nodeType===rt){l.hasEmptyOption=false;l.registerOption=function(e,t){if(t.val()===""){l.hasEmptyOption=true;l.emptyOption=t;l.emptyOption.removeClass("ng-scope");c.$render();t.on("$destroy",function(){var e=l.$isEmptyOptionSelected();l.hasEmptyOption=false;l.emptyOption=undefined;if(e)c.$render()})}}}else{l.emptyOption.removeClass("ng-scope")}}e.$watchCollection(y.getWatchables,E);function w(e,t){var n=a.cloneNode(false);t.appendChild(n);k(e,n)}function x(e){var t=g.getOptionFromViewValue(e);var n=t&&t.element;if(n&&!n.selected)n.selected=true;return t}function k(e,t){e.element=t;t.disabled=e.disabled;if(e.label!==t.label){t.label=e.label;t.textContent=e.label}t.value=e.selectValue}function E(){var e=g&&l.readValue();if(g){for(var t=g.items.length-1;t>=0;t--){var n=g.items[t];if(U(n.group)){Jt(n.element.parentNode)}else{Jt(n.element)}}}g=y.getOptions();var i={};g.items.forEach(function e(t){var n;if(U(t.group)){n=i[t.group];if(!n){n=o.cloneNode(false);b.appendChild(n);n.label=t.group===null?"null":t.group;i[t.group]=n}w(t,n)}else{w(t,b)}});r[0].appendChild(b);c.$render();if(!c.$isEmpty(e)){var a=l.readValue();var s=y.trackBy||f;if(s?!$e(e,a):e!==a){c.$setViewValue(a);c.$render()}}}}return{restrict:"A",terminal:true,require:["select","ngModel"],link:{pre:function e(t,n,r,i){i[0].registerOption=V},post:s}}}];var ls=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,o,s){var l=s.count,c=s.$attr.when&&o.attr(s.$attr.when),f=s.offset||0,d=a.$eval(c)||{},p={},h=t.startSymbol(),v=t.endSymbol(),$=h+l+"-"+f+v,m=w.noop,g;S(s,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+u(n[2]);d[r]=o.attr(s.$attr[t])}});S(d,function(e,n){p[n]=t(e.replace(r,$))});a.$watch(l,function t(r){var i=parseFloat(r);var o=I(i);if(!o&&!(i in d)){i=e.pluralCat(i-f)}if(i!==g&&!(o&&I(g))){m();var s=p[i];if(P(s)){if(r!=null){n.debug("ngPluralize: no rule defined for '"+i+"' in "+c)}m=V;y()}else{m=a.$watch(s,y)}g=i}});function y(e){o.text(e||"")}}}}];var cs=["$parse","$animate","$compile",function(e,t,n){var r="$$NG_REMOVED";var a=i("ngRepeat");var o=function(e,t,n,r,i,a,o){e[n]=r;if(i)e[i]=a;e.$index=t;e.$first=t===0;e.$last=t===o-1;e.$middle=!(e.$first||e.$last);e.$odd=!(e.$even=(t&1)===0)};var u=function(e){return e.clone[0]};var l=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:true,transclude:"element",priority:1e3,terminal:true,$$tlb:true,compile:function i(c,f){var d=f.ngRepeat;var p=n.$$createComment("end ngRepeat",d);var h=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h){throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d)}var v=h[1];var $=h[2];var m=h[3];var g=h[4];h=v.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!h){throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v)}var y=h[3]||h[1];var b=h[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m))){throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m)}var w,x,k,C;var A={$id:un};if(g){w=e(g)}else{k=function(e,t){return un(t)};C=function(e){return e}}return function e(n,i,c,f,h){if(w){x=function(e,t,r){if(b)A[b]=e;A[y]=t;A.$index=r;return w(n,A)}}var v=Qe();n.$watchCollection($,function e(c){var f,$,g=i[0],w,A=Qe(),M,_,T,O,N,L,I,H,V;if(m){n[m]=c}if(E(c)){L=c;N=x||k}else{N=x||C;L=[];for(var R in c){if(s.call(c,R)&&R.charAt(0)!=="$"){L.push(R)}}}M=L.length;H=new Array(M);for(f=0;f<M;f++){_=c===L?f:L[f];T=c[_];O=N(_,T,f);if(v[O]){I=v[O];delete v[O];A[O]=I;H[f]=I}else if(A[O]){S(H,function(e){if(e&&e.scope)v[e.id]=e});throw a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,O,T)}else{H[f]={id:O,scope:undefined,clone:undefined};A[O]=true}}for(var j in v){I=v[j];V=Ze(I.clone);t.leave(V);if(V[0].parentNode){for(f=0,$=V.length;f<$;f++){V[f][r]=true}}I.scope.$destroy()}for(f=0;f<M;f++){_=c===L?f:L[f];T=c[_];I=H[f];if(I.scope){w=g;do{w=w.nextSibling}while(w&&w[r]);if(u(I)!==w){t.move(Ze(I.clone),null,g)}g=l(I);o(I.scope,f,y,T,b,_,M)}else{h(function e(n,r){I.scope=r;var i=p.cloneNode(false);n[n.length++]=i;t.enter(n,null,g);g=i;I.clone=n;A[I.id]=I;o(I.scope,f,y,T,b,_,M)})}}v=A})}}}}];var fs="ng-hide";var ds="ng-hide-animate";var ps=["$animate",function(e){return{restrict:"A",multiElement:true,link:function(t,n,r){t.$watch(r.ngShow,function t(r){e[r?"removeClass":"addClass"](n,fs,{tempClasses:ds})})}}}];var hs=["$animate",function(e){return{restrict:"A",multiElement:true,link:function(t,n,r){t.$watch(r.ngHide,function t(r){e[r?"addClass":"removeClass"](n,fs,{tempClasses:ds})})}}}];var vs=Ta(function(e,t,n){e.$watch(n.ngStyle,function e(n,r){if(r&&n!==r){S(r,function(e,n){t.css(n,"")})}if(n)t.css(n)},true)});var $s=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function e(){this.cases={}}],link:function(n,r,i,a){var o=i.ngSwitch||i.on,s=[],u=[],l=[],c=[];var f=function(e,t){return function(n){if(n!==false)e.splice(t,1)}};n.$watch(o,function n(r){var i,o;while(l.length){e.cancel(l.pop())}for(i=0,o=c.length;i<o;++i){var d=Ze(u[i].clone);c[i].$destroy();var p=l[i]=e.leave(d);p.done(f(l,i))}u.length=0;c.length=0;if(s=a.cases["!"+r]||a.cases["?"]){S(s,function(n){n.transclude(function(r,i){c.push(i);var a=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var o={clone:r};u.push(o);e.enter(r,a.parent(),a)})})}})}}}];var ms=Ta({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(e,t,n,r,i){var a=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e});S(a,function(e){r.cases["!"+e]=r.cases["!"+e]||[];r.cases["!"+e].push({transclude:i,element:t})})}});var gs=Ta({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[];r.cases["?"].push({transclude:i,element:t})}});var ys=i("ngTransclude");var bs=["$compile",function(e){return{restrict:"EAC",terminal:true,compile:function t(n){var r=e(n.contents());n.empty();return function e(t,n,i,a,o){if(!o){throw ys("orphan","Illegal use of ngTransclude directive in the template! "+"No parent directive that requires a transclusion found. "+"Element: {0}",_e(n))}if(i.ngTransclude===i.$attr.ngTransclude){i.ngTransclude=""}var s=i.ngTransclude||i.ngTranscludeSlot;o(u,null,s);if(s&&!o.isSlotFilled(s)){l()}function u(e,t){if(e.length&&c(e)){n.append(e)}else{l();t.$destroy()}}function l(){r(t,function(e){n.append(e)})}function c(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==nt||r.nodeValue.trim()){return true}}}}}}}];var ws=["$templateCache",function(e){return{restrict:"E",terminal:true,compile:function(t,n){if(n.type==="text/ng-template"){var r=n.id,i=t[0].text;e.put(r,i)}}}}];var xs={$setViewValue:V,$render:V};function ks(e,t){e.prop("selected",t);e.attr("selected",t)}var Es=["$element","$scope",function(t,n){var r=this,i=new fn;r.selectValueMap={};r.ngModelCtrl=xs;r.multiple=false;r.unknownOption=p(e.document.createElement("option"));r.hasEmptyOption=false;r.emptyOption=undefined;r.renderUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n);t.prepend(r.unknownOption);ks(r.unknownOption,true);t.val(n)};r.updateUnknownOption=function(e){var n=r.generateUnknownOptionValue(e);r.unknownOption.val(n);ks(r.unknownOption,true);t.val(n)};r.generateUnknownOptionValue=function(e){return"? "+un(e)+" ?"};r.removeUnknownOption=function(){if(r.unknownOption.parent())r.unknownOption.remove()};r.selectEmptyOption=function(){if(r.emptyOption){t.val("");ks(r.emptyOption,true)}};r.unselectEmptyOption=function(){if(r.hasEmptyOption){ks(r.emptyOption,false)}};n.$on("$destroy",function(){r.renderUnknownOption=V});r.readValue=function e(){var n=t.val();var i=n in r.selectValueMap?r.selectValueMap[n]:n;if(r.hasOption(i)){return i}return null};r.writeValue=function e(n){var i=t[0].options[t[0].selectedIndex];if(i)ks(p(i),false);if(r.hasOption(n)){r.removeUnknownOption();var a=un(n);t.val(a in r.selectValueMap?a:n);var o=t[0].options[t[0].selectedIndex];ks(p(o),true)}else{r.selectUnknownOrEmptyOption(n)}};r.addOption=function(e,t){if(t[0].nodeType===rt)return;Ke(e,'"option value"');if(e===""){r.hasEmptyOption=true;r.emptyOption=t}var n=i.get(e)||0;i.set(e,n+1);o()};r.removeOption=function(e){var t=i.get(e);if(t){if(t===1){i.delete(e);if(e===""){r.hasEmptyOption=false;r.emptyOption=undefined}}else{i.set(e,t-1)}}};r.hasOption=function(e){return!!i.get(e)};r.$hasEmptyOption=function(){return r.hasEmptyOption};r.$isUnknownOptionSelected=function(){return t[0].options[0]===r.unknownOption[0]};r.$isEmptyOptionSelected=function(){return r.hasEmptyOption&&t[0].options[t[0].selectedIndex]===r.emptyOption[0]};r.selectUnknownOrEmptyOption=function(e){if(e==null&&r.emptyOption){r.removeUnknownOption();r.selectEmptyOption()}else if(r.unknownOption.parent().length){r.updateUnknownOption(e)}else{r.renderUnknownOption(e)}};var a=false;function o(){if(a)return;a=true;n.$$postDigest(function(){a=false;r.ngModelCtrl.$render()})}var s=false;function u(e){if(s)return;s=true;n.$$postDigest(function(){if(n.$$destroyed)return;s=false;r.ngModelCtrl.$setViewValue(r.readValue());if(e)r.ngModelCtrl.$render()})}r.registerOption=function(e,t,n,i,a){if(n.$attr.ngValue){var s,l=NaN;n.$observe("value",function e(n){var i;var a=t.prop("selected");if(U(l)){r.removeOption(s);delete r.selectValueMap[l];i=true}l=un(n);s=n;r.selectValueMap[l]=n;r.addOption(n,t);t.attr("value",l);if(i&&a){u()}})}else if(i){n.$observe("value",function e(n){r.readValue();var i;var a=t.prop("selected");if(U(s)){r.removeOption(s);i=true}s=n;r.addOption(n,t);if(i&&a){u()}})}else if(a){e.$watch(a,function e(i,a){n.$set("value",i);var o=t.prop("selected");if(a!==i){r.removeOption(a)}r.addOption(i,t);if(a&&o){u()}})}else{r.addOption(n.value,t)}n.$observe("disabled",function(e){if(e==="true"||e&&t.prop("selected")){if(r.multiple){u(true)}else{r.ngModelCtrl.$setViewValue(null);r.ngModelCtrl.$render()}}});t.on("$destroy",function(){var e=r.readValue();var t=n.value;r.removeOption(t);o();if(r.multiple&&e&&e.indexOf(t)!==-1||e===t){u(true)}})}}];var Ss=function(){return{restrict:"E",require:["select","?ngModel"],controller:Es,priority:1,link:{pre:e,post:t}};function e(e,t,n,r){var i=r[0];var a=r[1];if(!a){i.registerOption=V;return}i.ngModelCtrl=a;t.on("change",function(){i.removeUnknownOption();e.$apply(function(){a.$setViewValue(i.readValue())})});if(n.multiple){i.multiple=true;i.readValue=function e(){var n=[];S(t.find("option"),function(e){if(e.selected&&!e.disabled){var t=e.value;n.push(t in i.selectValueMap?i.selectValueMap[t]:t)}});return n};i.writeValue=function e(n){S(t.find("option"),function(e){var t=!!n&&(de(n,e.value)||de(n,i.selectValueMap[e.value]));var r=e.selected;if(t!==r){ks(p(e),t)}})};var o,s=NaN;e.$watch(function e(){if(s===a.$viewValue&&!$e(o,a.$viewValue)){o=st(a.$viewValue);a.$render()}s=a.$viewValue});a.$isEmpty=function(e){return!e||e.length===0}}}function t(e,t,n,r){var i=r[1];if(!i)return;var a=r[0];i.$render=function(){a.writeValue(i.$viewValue)}}};var Cs=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var r,i;if(U(n.ngValue)){}else if(U(n.value)){r=e(n.value,true)}else{i=e(t.text(),true);if(!i){n.$set("value",t.text())}}return function(e,t,n){var a="$selectController",o=t.parent(),s=o.data(a)||o.parent().data(a);if(s){s.registerOption(e,t,n,r,i)}}}}}];var As=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(!r)return;n.required=true;r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)};n.$observe("required",function(){r.$validate()})}}};var Ms=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(!r)return;var a,o=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(F(e)&&e.length>0){e=new RegExp("^"+e+"$")}if(e&&!e.test){throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,_e(t))}a=e||undefined;r.$validate()});r.$validators.pattern=function(e,t){return r.$isEmpty(t)||P(a)||a.test(t)}}}};var _s=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(!r)return;var i=-1;n.$observe("maxlength",function(e){var t=L(e);i=I(t)?-1:t;r.$validate()});r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}};var Ts=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(!r)return;var i=0;n.$observe("minlength",function(e){i=L(e)||0;r.$validate()});r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}};if(e.angular.bootstrap){if(e.console){console.log("WARNING: Tried to load angular more than once.")}return}We();ft(w);w.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};function n(e){e=e+"";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function r(e,t){var r=t;if(undefined===r){r=Math.min(n(e),3)}var i=Math.pow(10,r);var a=(e*i|0)%i;return{v:r,f:a}}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var i=e|0;var a=r(e,n);if(i==1&&a.v==0){return t.ONE}return t.OTHER}})}]);p(function(){De(e.document,Pe)})})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');(function(e,t){"use strict";var n=t.$$minErr("$sanitize");var r;var i;var a;var o;var s;var u;var l;var c;var f;function d(){var d=false;this.$get=["$$sanitizeUri",function(e){if(d){i(k,w)}return function(t){var n=[];c(t,f(n,function(t,n){return!/^unsafe:/.test(e(t,n))}));return n.join("")}}];this.enableSvg=function(e){if(o(e)){d=e;return this}else{return d}};r=t.bind;i=t.extend;a=t.forEach;o=t.isDefined;s=t.lowercase;u=t.noop;c=T;f=L;l=e.Node.prototype.contains||function(e){return!!(this.compareDocumentPosition(e)&16)};var p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=/([^#-~ |!])/g;var v=M("area,br,col,hr,img,wbr");var $=M("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m=M("rp,rt"),g=i({},m,$);var y=i({},$,M("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var b=i({},m,M("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var w=M("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");var x=M("script,style");var k=i({},v,y,b,g);var E=M("background,cite,href,longdesc,src,xlink:href");var S=M("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+"valign,value,vspace,width");var C=M("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var A=i({},E,C,S);function M(e,t){var n={},r=e.split(","),i;for(i=0;i<r.length;i++){n[t?s(r[i]):r[i]]=true}return n}var _=function(e,t){var r;if(t&&t.implementation){r=t.implementation.createHTMLDocument("inert")}else{throw n("noinert","Can't create an inert html document")}var i=(r.documentElement||r.getDocumentElement()).querySelector("body");i.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(!i.querySelector("svg")){return a}else{i.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';if(i.querySelector("svg img")){return o}else{return s}}function a(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return undefined}var n=new e.XMLHttpRequest;n.responseType="document";n.open("GET","data:text/html;charset=utf-8,"+t,false);n.send(null);var r=n.response.body;r.firstChild.remove();return r}function o(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;n.firstChild.remove();return n}catch(e){return undefined}}function s(e){i.innerHTML=e;if(t.documentMode){I(i)}return i}}(e,e.document);function T(e,t){if(e===null||e===undefined){e=""}else if(typeof e!=="string"){e=""+e}var r=_(e);if(!r)return"";var i=5;do{if(i===0){throw n("uinput","Failed to sanitize html because the input is unstable")}i--;e=r.innerHTML;r=_(e)}while(e!==r.innerHTML);var a=r.firstChild;while(a){switch(a.nodeType){case 1:t.start(a.nodeName.toLowerCase(),O(a.attributes));break;case 3:t.chars(a.textContent);break}var o;if(!(o=a.firstChild)){if(a.nodeType===1){t.end(a.nodeName.toLowerCase())}o=H("nextSibling",a);if(!o){while(o==null){a=H("parentNode",a);if(a===r)break;o=H("nextSibling",a);if(a.nodeType===1){t.end(a.nodeName.toLowerCase())}}}}a=o}while(a=r.firstChild){r.removeChild(a)}}function O(e){var t={};for(var n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function N(e){return e.replace(/&/g,"&amp;").replace(p,function(e){var t=e.charCodeAt(0);var n=e.charCodeAt(1);return"&#"+((t-55296)*1024+(n-56320)+65536)+";"}).replace(h,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function L(e,t){var n=false;var i=r(e,e.push);return{start:function(e,r){e=s(e);if(!n&&x[e]){n=e}if(!n&&k[e]===true){i("<");i(e);a(r,function(n,r){var a=s(r);var o=e==="img"&&a==="src"||a==="background";if(A[a]===true&&(E[a]!==true||t(n,o))){i(" ");i(r);i('="');i(N(n));i('"')}});i(">")}},end:function(e){e=s(e);if(!n&&k[e]===true&&v[e]!==true){i("</");i(e);i(">")}if(e==n){n=false}},chars:function(e){if(!n){i(N(e))}}}}function I(t){while(t){if(t.nodeType===e.Node.ELEMENT_NODE){var n=t.attributes;for(var r=0,i=n.length;r<i;r++){var a=n[r];var o=a.name.toLowerCase();if(o==="xmlns:ns1"||o.lastIndexOf("ns1:",0)===0){t.removeAttributeNode(a);r--;i--}}}var s=t.firstChild;if(s){I(s)}t=H("nextSibling",t)}}function H(e,t){var r=t[e];if(r&&l.call(t,r)){throw n("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText)}return r}}function p(e){var t=[];var n=f(t,u);n.chars(e);return t.join("")}t.module("ngSanitize",[]).provider("$sanitize",d).info({angularVersion:"1.6.6"});t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i;var i=t.$$minErr("linky");var a=t.isDefined;var o=t.isFunction;var s=t.isObject;var u=t.isString;return function(t,l,c){if(t==null||t==="")return t;if(!u(t))throw i("notstring","Expected string but received: {0}",t);var f=o(c)?c:s(c)?function e(){return c}:function e(){return{}};var d;var h=t;var v=[];var $;var m;while(d=h.match(n)){$=d[0];if(!d[2]&&!d[4]){$=(d[3]?"http://":"mailto:")+$}m=d.index;g(h.substr(0,m));y($,d[0].replace(r,""));h=h.substring(m+d[0].length)}g(h);return e(v.join(""));function g(e){if(!e){return}v.push(p(e))}function y(e,t){var n,r=f(e);v.push("<a ");for(n in r){v.push(n+'="'+r[n]+'" ')}if(a(l)&&!("target"in r)){v.push('target="',l,'" ')}v.push('href="',e.replace(/"/g,"&quot;"),'">');g(t);v.push("</a>")}}}])})(window,window.angular);(function(e,t){"use strict";t.module("ngCookies",["ng"]).info({angularVersion:"1.6.6"}).provider("$cookies",[function e(){var n=this.defaults={};function r(e){return e?t.extend({},n,e):n}this.$get=["$$cookieReader","$$cookieWriter",function(e,n){return{get:function(t){return e()[t]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return e()},put:function(e,t,i){n(e,t,r(i))},putObject:function(e,n,r){this.put(e,t.toJson(n),r)},remove:function(e,t){n(e,undefined,r(t))}}}]}]);t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]);function n(e,n,r){var i=r.baseHref();var a=e[0];function o(e,r,a){var o,s;a=a||{};s=a.expires;o=t.isDefined(a.path)?a.path:i;if(t.isUndefined(r)){s="Thu, 01 Jan 1970 00:00:00 GMT";r=""}if(t.isString(s)){s=new Date(s)}var u=encodeURIComponent(e)+"="+encodeURIComponent(r);u+=o?";path="+o:"";u+=a.domain?";domain="+a.domain:"";u+=s?";expires="+s.toUTCString():"";u+=a.secure?";secure":"";var l=u.length+1;if(l>4096){n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+l+" > 4096 bytes)!")}return u}return function(e,t,n){a.cookie=o(e,t,n)}}n.$inject=["$document","$log","$browser"];t.module("ngCookies").provider("$$cookieWriter",function e(){this.$get=n})})(window,window.angular);(function(){var e,t,n;e=typeof exports!=="undefined"&&exports!==null;t=e?exports:this;if(!t.sup){t.sup={}}sup.localizedDict={};n=function(e){var t,n,r,i,a,o,s,u,l,c,f,d,p,h,v,$,m,g;g="1.3.2";c=sup.localizedDict||{};f={};l=null;p={case_sensitive:false};if(typeof e==="object"&&e!==null){for(a=0,u=optinos.length;a<u;a++){s=optinos[a];if(s in e){p[s]=e[s]}}}t=function(){var e,t,n;for(t=0,n=arguments.length;t<n;t++){e=arguments[t];if(typeof e!=="string"){return false}}return true};r=function(e){if(!p.case_sensitive){return e.toLowerCase()}return e};n=function(e){var n,i,a,o;a={};if(Array.isArray(e)){for(n=0,i=e.length;n<i;n++){o=e[n];if(t(o.msgid,o.msgid)&&o.msgid){a[r(o.msgid)]=o.msgstr}}}else if(e&&typeof e==="object"){a=e}return a};o=function(e,t){return c[e]=t};i=function(e){var n,i,a;if(!Array.isArray(e)){return}for(n=0,i=e.length;n<i;n++){a=e[n];if(t(a.msgid,a.msgid)&&a.msgid){f[r(a.msgid)]=a.msgstr}}};h=function(){$(l)};$=function(e){var t,r,i;if(!e){e=""}l=null;e=e.replace("-","_");for(t in c){i=c[t];if(t.toLowerCase()===e.toLowerCase()){l=t;break}}if(l&&c[l]){r=c[l]}else{r=null;l=e}f=n(r);return l};m=function(e){var t,n,i,a,o,s,u,l;if(!e||typeof e!=="string"){return e}l=f[r(e)];if(!l){l=e}n=[];for(i=0,o=arguments.length;i<o;i++){t=arguments[i];n.push(t)}u=n.slice(1);for(a=0,s=u.length;a<s;a++){t=u[a];if(t===void 0){t=""}l=l.replace("%s",t)}return l};v=function(e){var t,n;if(!e||typeof e!=="object"){return e}if(l){t=l.split("_")[0]||"en";n=e[l]||e[t]}if(!n){n=e["en_US"]||e["en"]}if(!n){s=Object.keys(e)[0];n=e[s]}return n};d={version:g,locale:l,options:p,translate:m,self_translate:v,set_locale:$,restore:h,append:i,insert:o};return d};angular.module("supLocales",["ngCookies"]).run(["supLocales",function(e){if(!e.inited){return e.init()}}]).service("supLocales",["$location","$rootScope","$cookies",function(e,t,r){var i,a,o;i="en_US";o=new n;a=this;this.version=o.version;this.inited=false;this.cookie_opts={path:"",domain:"",expires:new Date(Date.now()+3600*24*365*1e3),secure:false};this.init=function(n,s){var u,l,c,f,d,p,h;if(angular.isObject(s)){for(f in a.cookie_opts){if(f in s){a.cookie_opts[f]=s[f]}}for(f in o.options){if(f in s){o.options[f]=s[f]}}}if(n){i=n}p=navigator.language||navigator.userLanguage;h=p.replace("-","_");try{u=r.get("current_locale")}catch(e){c=e;u=null}d=e.search();if(d.locale){l=d.locale;e.search("locale",null)}else{l=u?u:h}a.set(l);t._=angular.translate=o.translate;return this.inited=true};this.load=function(e,t){o.insert(e,t);return o.set_locale(e)};this.translate=function(e){return o.translate.apply(this,arguments)};this.set=function(e){var n;n=o.set_locale(e)||i;t.locale=n;t.lang=n.split("_")[0];return r.put("current_locale",n,a.cookie_opts)};this.get=function(e){var t,n,a;try{n=r.get("current_locale")}catch(e){a=e;n=null}t=n||o.locale||i;if(e){return t.split("_")[0]}else{return t}};this.append=function(e){return o.append(e)};this.restore=function(){return o.restore()};this.match=function(e,t){if(typeof e!=="string"||typeof t!=="string"){return false}e=e.replace("-","_");t=t.replace("-","_");return e.toLowerCase()===t.toLowerCase()};return this}])}).call(this);(function(){var supWysiwygEditor,indexOf=[].indexOf;supWysiwygEditor=function(){var $btn_indent,$btn_outdent,$currentAudio,$currentImage,$currentLink,$currentVideo,$document,$editor,$history,$history_step,$options,$property,$toolbar,BFBL,assertParam,baseEventHanlder,blowupHtml,blurHandler,blurHook,btnList,childOfElement,clearEmptyElements,clearStyles,closeHTMLHook,createToolbarBtns,defaultToolbarBtns,destroySpan,destroy_editor,dispatchSAWEvent,doInsertAudio,doInsertImg,doInsertVideo,doReplaceAudio,doReplaceImg,doReplaceVideo,doubleClickHandler,editLinkHook,editMediaHook,endRange,errlog,evtManager,execCmd,execFormatBlock,execInsertLink,execInsertMedia,execInsertPreset,execInsertScript,execRemoveLink,execRemoveMedia,execReplaceLink,execReplaceMedia,expose,findSibling,findStylesParent,findTopElement,focusHandler,focusHook,getAllElementsFromSelection,getCurrentSelection,getDisplayType,getSameParent,getSelectionHtml,historyManager,inEditor,inElement,indentText,init_editor,insertA,insertCode,insertHR,insertLinkHook,insertMark,insertMedia,insertMediaHook,insertOrderedList,insertPreset,insertPresetHook,insertScript,insertScriptHook,insertUnorderedList,isFamily,isHTMLElement,isJsonString,justifyCenter,justifyFull,justifyLeft,justifyRight,load_options,log,makeBold,makeDiv,makeFontBig,makeFontSmall,makeH1,makeH2,makeH3,makeH4,makeH5,makeH6,makeItalic,makeP,makePre,makeQuote,makeStrike,makeSub,makeSup,makeUnderline,now,openHTMLHook,outdentText,pasteHtmlAtCaret,placeCaretAfterNode,reDo,removeInlineStyle,removeTag,resetCurrentLink,resetCurrentMedia,restoreSelection,richEditorModel,saveSelection,savedRange,selObj,selRange,selTextHook,selectHandler,selectedNode,selectedOrigin,setKeyboard,setRange,setRangeByStartEnd,set_blur_hook,set_edit_link_hook,set_edit_media_hook,set_focus_hook,set_html_on_close_hook,set_html_on_open_hook,set_insert_link_hook,set_insert_media_hook,set_insert_preset_hook,set_insert_script_hook,set_select_text_hook,set_toolbar,smartFormatBlock,startRange,styleTags,switchIndentOutdentBtns,targetA,targetAudio,targetImg,targetText,targetVideo,testBlackList,toggleHtml,toggleTextWrapper,unDo,unset_toolbar,ver,watchDoubleClick,watchSelected,wildClear;ver="1.6.6";now=Date.now();$options={history:100};$property={id:"",order:0};$document=void 0;$editor=void 0;$toolbar=void 0;selObj=void 0;selRange=void 0;selectedNode=void 0;selectedOrigin=void 0;startRange=void 0;endRange=void 0;savedRange=void 0;richEditorModel=true;focusHook=void 0;blurHook=void 0;selTextHook=void 0;insertLinkHook=void 0;editLinkHook=void 0;insertMediaHook=void 0;editMediaHook=void 0;insertPresetHook=void 0;insertScriptHook=void 0;openHTMLHook=void 0;closeHTMLHook=void 0;$currentImage={element:void 0,link:void 0};$currentVideo={element:void 0};$currentAudio={element:void 0};$currentLink={element:void 0};$history=[];$history_step=null;defaultToolbarBtns=[["h1","h2","h3","h4","h5","h6","div","p","blockquote","pre","code"],["mark","i","b","strike","underline","small","big","sub","sup"],["ol","ul","outdent","indent","hr","img","preset","a","jleft","jcenter","jright","jfull"],["ud","rd","clear"],["script","html"]];$btn_indent=void 0;$btn_outdent=void 0;btnList=[{name:"h1",handler:"makeH1",ico:null,status:""},{name:"h2",handler:"makeH2",ico:null,status:""},{name:"h3",handler:"makeH3",ico:null,status:""},{name:"h4",handler:"makeH4",ico:null,status:""},{name:"h5",handler:"makeH5",ico:null,status:""},{name:"h6",handler:"makeH6",ico:null,status:""},{name:"div",handler:"makeDiv",ico:null},{name:"p",handler:"makeP",ico:"paragraph"},{name:"blockquote",handler:"makeQuote",ico:"quote-right",status:""},{name:"pre",handler:"makePre",ico:"pre",status:""},{name:"code",handler:"insertCode",ico:"code",status:""},{name:"mark",handler:"insertMark",ico:"mark",status:""},{name:"i",handler:"makeItalic",ico:"italic",status:""},{name:"b",handler:"makeBold",ico:"bold",status:""},{name:"strike",handler:"makeStrike",ico:"strikethrough",status:""},{name:"underline",handler:"makeUnderline",ico:"underline",status:""},{name:"small",handler:"makeFontSmall",ico:"font-small",status:""},{name:"big",handler:"makeFontBig",ico:"font-big",status:""},{name:"sub",handler:"makeSub",ico:"subscript",status:""},{name:"sup",handler:"makeSup",ico:"superscript",status:""},{name:"ol",handler:"insertOrderedList",ico:"list-ol",status:""},{name:"ul",handler:"insertUnorderedList",ico:"list-ul",status:""},{name:"outdent",handler:"outdentText",ico:"outdent",status:""},{name:"indent",handler:"indentText",ico:"indent",status:""},{name:"hr",handler:"insertHR",ico:"arrows-h",status:""},{name:"img",handler:"insertMedia",ico:"picture-o",status:""},{name:"preset",handler:"insertPreset",ico:"preset",status:""},{name:"a",handler:"insertA",ico:"link",status:""},{name:"jleft",handler:"justifyLeft",ico:"align-left",status:""},{name:"jcenter",handler:"justifyCenter",ico:"align-center",status:""},{name:"jright",handler:"justifyRight",ico:"align-right",status:""},{name:"jfull",handler:"justifyFull",ico:"align-justify",status:""},{name:"redo",handler:"reDo",ico:"redo",status:""},{name:"undo",handler:"unDo",ico:"undo",status:""},{name:"clear",handler:"clearStyles",ico:"eraser",status:""},{name:"script",handler:"insertScript",ico:"script",status:""},{name:"html",handler:"toggleHtml",ico:"code",status:""}];BFBL=["OL","UL","LI","TD","TH","TR","TBODY","TABLE","THEAD","TFOOT","DL","DD","DT"];styleTags=["b","i","u","s","mark","strong","sup","sub","small","big","strike","del","font","span"];selectHandler=function(e){getCurrentSelection();watchSelected(e)};doubleClickHandler=function(e){getCurrentSelection();watchDoubleClick(e)};focusHandler=function(e){savedRange=saveSelection();if(!childOfElement(e.target,$toolbar,true)){if(typeof focusHook==="function"){focusHook()}}};blurHandler=function(e){if(inEditor(e.target,true)){return}if(!childOfElement(e.target,$toolbar,true)){if(typeof blurHook==="function"){blurHook()}}};targetText=function(e){var t,n;n=["h1","h2","h3","h4","h5","h6","p","blockquote","pre","code","div"];if(!e||!inEditor(e)){e=selectedNode}if(t=e.tagName.toLowerCase(),indexOf.call(n,t)<0){return}if(typeof selTextHook==="function"){return selTextHook(e)}};targetImg=function(e){var t,n,r,i;if(typeof editMediaHook==="function"){$currentImage.element=e;n={type:"image",src:e.getAttribute("src"),title:e.getAttribute("alt"),alt:e.getAttribute("alt"),class:e.getAttribute("class")};t=e.parentElement;if(t&&inEditor(t)&&t.tagName==="A"){$currentImage.link=t;n.link=t.getAttribute("href");n.target=t.getAttribute("target");n.class=t.getAttribute("class")}else{$currentImage.link=null}return editMediaHook(n)}else{i=e.getAttribute("src");r=prompt("Img:",i);if(r){e.setAttribute("src",r)}else if(r!==null){e.parentElement.removeChild(e)}return historyManager.record()}};targetVideo=function(e){var t,n,r,i;if(typeof editMediaHook==="function"){$currentVideo.element=e;try{i=e.querySelector("source").getAttribute("src")}catch(e){i=""}r={type:"video",src:e.getAttribute("src")||i,poster:e.getAttribute("poster"),controls:e.hasAttribute("controls"),loop:e.hasAttribute("loop"),autoplay:e.hasAttribute("autoplay"),class:e.getAttribute("class")};return editMediaHook(r)}else{n=e.getAttribute("src");t=prompt("Video:",n);if(t){e.setAttribute("src",t);e.setAttribute("controls",true)}else if(t!==null){e.parentElement.removeChild(e)}return historyManager.record()}};targetAudio=function(e){var t,n,r;if(typeof editMediaHook==="function"){$currentAudio.element=e;t={type:"audio",src:e.getAttribute("src"),loop:e.hasAttribute("loop"),autoplay:e.hasAttribute("autoplay"),controls:e.hasAttribute("controls"),class:e.getAttribute("class")};return editMediaHook(t)}else{r=e.getAttribute("src");n=prompt("Audio:",r);if(n){e.setAttribute("src",n);e.setAttribute("controls",true)}else if(n!==null){e.parentElement.removeChild(e)}return historyManager.record()}};targetA=function(e){var t,n;if(typeof editLinkHook==="function"){$currentLink.element=e;t={href:e.getAttribute("href"),target:e.getAttribute("target"),class:e.getAttribute("class")};return editLinkHook(t)}else{n=prompt("Link:",url);if(n){e.setAttribute("href",n)}else if(n!==null){e.outerHTML=e.innerHTML}return historyManager.record()}};insertOrderedList=function(e){var t,n,r;if(!inEditor(selectedNode,true)){return}if(inEditor(selectedNode)){execCmd("insertorderedlist");getCurrentSelection();r=selectedNode.parentElement.parentElement;destroySpan(r,true);if(r.parentElement&&r.parentElement.tagName==="P"){r.parentElement.outerHTML=r.parentElement.innerHTML}}else{t=selectedNode.innerHTML;selectedNode.innerHTML="<ol><li>"+t+"</li></ol>";n=selectedNode.querySelector("li");setRange(n)}switchIndentOutdentBtns();historyManager.record();return getCurrentSelection()};insertUnorderedList=function(e){var t,n,r;if(!inEditor(selectedNode,true)){return}if(inEditor(selectedNode)){execCmd("insertunorderedlist");getCurrentSelection();r=selectedNode.parentElement.parentElement;destroySpan(r,true);if(r.parentElement&&r.parentElement.tagName==="P"){r.parentElement.outerHTML=r.parentElement.innerHTML}}else{t=selectedNode.innerHTML;selectedNode.innerHTML="<ul><li>"+t+"</li></ul>";n=selectedNode.querySelector("li");setRange(n)}switchIndentOutdentBtns();historyManager.record();return getCurrentSelection()};outdentText=function(e){if(inElement(selectedNode,"LI")||inElement(selectedNode,"OL")){execCmd("outdent");return switchIndentOutdentBtns()}};indentText=function(e){if(inElement(selectedNode,"LI")||inElement(selectedNode,"OL")){execCmd("indent");return switchIndentOutdentBtns()}};makeDiv=function(e){smartFormatBlock("div");return targetText()};makeH1=function(e){smartFormatBlock("h1");return targetText()};makeH2=function(e){smartFormatBlock("h2");return targetText()};makeH3=function(e){smartFormatBlock("h3");return targetText()};makeH4=function(e){smartFormatBlock("h4");return targetText()};makeH5=function(e){smartFormatBlock("h5");return targetText()};makeH6=function(e){smartFormatBlock("h6");return targetText()};makePre=function(e){smartFormatBlock("pre");return targetText()};makeQuote=function(e){smartFormatBlock("blockquote");return targetText()};makeP=function(e){smartFormatBlock("p");return targetText()};makeBold=function(e){return execCmd("bold")};makeItalic=function(e){return execCmd("italic")};justifyLeft=function(e){return execCmd("justifyLeft")};justifyRight=function(e){return execCmd("justifyRight")};justifyCenter=function(e){return execCmd("justifyCenter")};justifyFull=function(e){return execCmd("justifyFull")};makeStrike=function(e){return execCmd("strikeThrough")};makeUnderline=function(e){return execCmd("underline")};makeSup=function(e){return execCmd("superscript")};makeSub=function(e){return execCmd("subscript")};reDo=function(e){return historyManager.redo()};unDo=function(e){return historyManager.undo()};makeFontSmall=function(e){var t;if(!inEditor(selectedNode,true)){return}t=toggleTextWrapper("small");if(t){clearEmptyElements(selectedNode.parentElement,["big","small"]);getCurrentSelection();return historyManager.record()}};makeFontBig=function(e){var t;if(!inEditor(selectedNode,true)){return}t=toggleTextWrapper("big");if(t){clearEmptyElements(selectedNode.parentElement,["big","small"]);getCurrentSelection();return historyManager.record()}};insertMark=function(e){var t;if(!inEditor(selectedNode,true)){return}t=toggleTextWrapper("mark");if(t){getCurrentSelection();return historyManager.record()}};insertCode=function(e){var t;if(!inEditor(selectedNode)){return}t=inElement(selectedNode,"CODE");if(!t){if(!testBlackList(selectedNode)){selectedNode.outerHTML="<code>"+selectedNode.innerHTML+"</code>";selObj.extend(selectedNode,0)}}else{t.outerHTML="<div>"+t.innerHTML+"</div>";selObj.extend(t,0)}return historyManager.record()};clearStyles=function(e){var t,n,r,i,a,o;if(!inEditor(selectedNode,true)){return}o=getAllElementsFromSelection();for(i=0,a=o.length;i<a;i++){n=o[i];n=findStylesParent(n);n.removeAttribute("style");if(!n.innerHTML||!inEditor(n)){continue}t=n.innerHTML;r=0;while(r<styleTags.length){t=removeTag(t,styleTags[r],true);r+=1}n.innerHTML=removeInlineStyle(t)}historyManager.record();return getCurrentSelection()};blowupHtml=function(e){return wildClear()};insertHR=function(e){return execCmd("insertHorizontalRule")};insertA=function(e){var t;if(inEditor(selectedNode,true)){if(typeof insertLinkHook==="function"){savedRange=saveSelection();insertLinkHook()}else{t=prompt("Link:","#");execCmd("createLink",false,t)}return historyManager.record()}};insertMedia=function(e){var t;if(inEditor(selectedNode,true)){if(typeof insertMediaHook==="function"){savedRange=saveSelection();insertMediaHook()}else{t=prompt("Img:","http://");if(t!==""&&t!=="http://"){execCmd("insertImage",false,t)}}return historyManager.record()}};insertPreset=function(e){var t;if(inEditor(selectedNode,true)){if(typeof insertPresetHook==="function"){savedRange=saveSelection();insertPresetHook()}else{savedRange=saveSelection();t=prompt("Preset:","");if(t!==""){execInsertPreset(t)}}return historyManager.record()}};insertScript=function(e){var t;if(inEditor(selectedNode,true)){if(typeof insertScriptHook==="function"){savedRange=saveSelection();insertScriptHook()}else{savedRange=saveSelection();t=prompt("Script:","");if(t!==""){execInsertScript(t)}}return historyManager.record()}};toggleHtml=function(e){var t;if(!inEditor(selectedNode,true)){return}historyManager.record();if(typeof openHTMLHook==="function"){savedRange=saveSelection();openHTMLHook()}else{if($editor.tagName!=="textarea"){t=$editor.innerHTML;$editor.outerHTML="<textarea>"+t+"</textarea>";richEditorModel=false}else{t=$editor.value;$editor.outerHTML="<div>"+t+"</div>";richEditorModel=true}if($toolbar){if(richEditorModel){$toolbar.removeAttribute("disabled")}else{$toolbar.setAttribute("disabled",true)}}}return historyManager.record()};getCurrentSelection=function(){var e;e=void 0;selObj=window.getSelection();if(selObj.type!=="None"&&selObj.rangeCount>0){selRange=selObj.getRangeAt(0);startRange=selRange.startContainer;endRange=selRange.endContainer;e=selObj.anchorNode;selectedOrigin=e;while(e.nodeType!==1){e=e.parentNode}return selectedNode=e}};setRange=function(e){var t,n;t=document.createRange();t.selectNode(e);n=window.getSelection();n.removeAllRanges();return n.addRange(t)};setRangeByStartEnd=function(e){var t,n;t=document.createRange();t.setStartBefore(e);t.setEndAfter(e);n=window.getSelection();n.removeAllRanges();return n.addRange(t)};inEditor=function(e,t){return childOfElement(e,$editor,t)};childOfElement=function(e,t,n){var r,i,a,o;if(!e||!t){return false}else if(!e.tagName||!t.tagName){return false}else if(e===t&&n){return true}else{a="saw-child-id";i="saw-"+Date.now().toString();e.setAttribute("saw-child-id",i);o=e.tagName.toLowerCase();r=t.querySelector(o+"["+a+"="+i+"]");e.removeAttribute("saw-child-id")}return Boolean(r)};watchSelected=function(e){var t,n;switchIndentOutdentBtns();n=findStylesParent(e.target||selectedNode);t=n.tagName.toLowerCase();return targetText(n)};watchDoubleClick=function(e){var t,n,r;r=findStylesParent(e.target||selectedNode);n=r.tagName.toLowerCase();switch(n){case"img":return targetImg(r);case"video":return targetVideo(r);case"audio":return targetAudio(r);case"a":t=r.querySelector("img");if(t){return targetImg(t)}else{return targetA(r)}}};switchIndentOutdentBtns=function(){getCurrentSelection();if(inElement(selectedNode,"LI")||inElement(selectedNode,"OL")){if($btn_indent){$btn_indent.removeAttribute("disabled")}if($btn_outdent){$btn_outdent.removeAttribute("disabled")}}else{if($btn_indent){$btn_indent.setAttribute("disabled",true)}if($btn_outdent){$btn_outdent.setAttribute("disabled",true)}}};saveSelection=function(){var e;if(window.getSelection){e=window.getSelection();if(e.getRangeAt&&e.rangeCount){return e.getRangeAt(0)}}else if(document.selection&&document.selection.createRange){return document.selection.createRange()}return null};restoreSelection=function(e){var t;if(!e){return}if(window.getSelection){t=window.getSelection();t.removeAllRanges();return t.addRange(e)}else if(document.selection&&e.select){return e.select()}};isHTMLElement=function(e){var t,n,r;if(!e){return false}t=e&&typeof e==="object"&&e!==null;n=e.nodeType===1&&typeof e.nodeName==="string";r=t&&n;return r};inElement=function(e,t){if(!e||typeof t!=="string"){return false}t=t.toUpperCase();if(e.tagName&&e.tagName===t){return e}else{if(e.parentElement||e===$editor){return inElement(e.parentElement,t)}else{return false}}};isFamily=function(e,t){var n,r;n=e.parentElement;r=t.parentElement;return e===t||n===t||r===e};findStylesParent=function(e){var t,n;t=e.tagName.toLowerCase();if(e.nodeType===1&&indexOf.call(styleTags,t)<0){return e}if(e.parentElement){t=e.parentElement.tagName;if(n=t.toLowerCase(),indexOf.call(styleTags,n)>=0){e=findStylesParent(e.parentElement)}else{e=e.parentElement}}return e};findTopElement=function(e){if(e.parentElement===$editor&&e.nodeType===1){return e}else if(inEditor(e.parentElement)){return findTopElement(e.parentElement)}return null};clearEmptyElements=function(e,t){var n,r,i,a,o,s;if(!e||!inEditor(e,true)){return}o=[];for(i=0,a=t.length;i<a;i++){s=t[i];r=e.querySelectorAll(s);o.push(function(){var t,i,a;a=[];for(i=0,t=r.length;i<t;i++){n=r[i];if(!n.innerHTML){a.push(e.removeChild(n))}else{a.push(void 0)}}return a}())}return o};toggleTextWrapper=function(e){var t,n,r;e=e.toLowerCase();r=new RegExp("<[/]?"+e+".*?>","ig");if(selectedNode.tagName===e.toUpperCase()){n=document.createElement("span");n.appendChild(selRange.cloneContents());t=n.innerHTML.replace(r,"");selRange.deleteContents();pasteHtmlAtCaret(t,true);return true}else{if(!isFamily(startRange.parentElement,endRange.parentElement)){console.info("Can not Wrapper text between different blocks.");return false}n=document.createElement(e);n.appendChild(selRange.cloneContents());n.innerHTML=n.innerHTML.replace(r,"");if(!n.innerHTML){return false}selRange.deleteContents();selRange.insertNode(n);setRange(n);return true}return false};getDisplayType=function(e){var t;t=e.currentStyle||window.getComputedStyle(e,"");return t.display};pasteHtmlAtCaret=function(e,t){var n,r,i,a,o,s,u,l;if(window.getSelection){l=window.getSelection();if(l.getRangeAt&&l.rangeCount>0){u=l.getRangeAt(0);u.deleteContents();n=document.createElement("div");n.innerHTML=e;i=document.createDocumentFragment();o=void 0;a=void 0;while(o=n.firstChild){a=i.appendChild(o)}r=i.firstChild;u.insertNode(i);if(a){u=u.cloneRange();u.setStartAfter(a);if(t){u.setStartBefore(r)}else{u.collapse(true)}l.removeAllRanges();l.addRange(u)}}}else if((l=document.selection)&&l.type!=="Control"){s=l.createRange();s.collapse(true);l.createRange().pasteHTML(e);if(t){u=l.createRange();u.setEndPoint("StartToStart",s);u.select()}}};removeInlineStyle=function(e){var t;t=new RegExp("(<[^>]+) style=[\"'].*?[\"']","ig");while(t.test(e)){e=e.replace(t,"$1")}return e};removeTag=function(e,t,n){var r,i;if(typeof t!=="string"){return}t=t.toLowerCase();r=new RegExp("<s*"+t+"(?:s+)*?[^>]*?>(.*?)</s*"+t+"s*>","ig");while(r.test(e)){e=e.replace(r,"$1")}if(n){i=new RegExp("(<"+t+"(?:s+)*?[^>]*?>)|(</s*"+t+"s*>)","ig");while(i.test(e)){e=e.replace(i,"")}}return e};placeCaretAfterNode=function(e){var t,n;if(typeof window.getSelection==="undefined"||!e.parentNode){return}t=document.createRange();t.setStartAfter(e);t.collapse(true);n=window.getSelection();n.removeAllRanges();return n.addRange(t)};wildClear=function(){var e,t,n,r,i,a,o,s;if(inEditor(selectedNode)){a=startRange.parentElement;t=endRange.parentElement;if(a!==t){r=getSameParent(a,t);i=r.point.childNodes;n=0;while(n<i.length){if(i[n].nodeType===1){o=false;if(i[n]===r.start||i[n]===r.end){if(s){o=false}else{s=true;o=s}}if(s){i[n].outerHTML="<div>"+i[n].innerText+"</dvi>"}s=o}n+=1}}else{e=testBlackList(selectedNode);if(e){e=e.outerHTML="<div>"+e.innerText+"</div>"}else{selectedNode.outerHTML="<div>"+selectedNode.innerText+"</div>"}}}else if(inEditor(selectedNode,true)){$editor.innerHTML=$editor.innerText}return historyManager.record()};getAllElementsFromSelection=function(){var e,t,n,r,i,a,o;o=selRange.commonAncestorContainer;if(o.nodeType===1){t=o.getElementsByTagName("*")}else{t=[o.parentNode]}e=[];r=0;n=void 0;for(i=0,a=t.length;i<a;i++){n=t[i];if(selObj.containsNode(n,true)&&n.nodeType===1){e.push(n)}r+=1}return e};getSameParent=function(e,t){var n,r;r=e;while(r!==null){n=findSibling(r.parentNode,t);if(n){return{point:r.parentNode,start:r,end:n}}else{r=r.parentNode}}return null};findSibling=function(e,t){var n;n=t;while(n!==null){if(n.parentNode===e){return n}n=n.parentNode}return false};testBlackList=function(e){if(!e||e===$editor){return false}if(BFBL.indexOf(e.tagName)>=0){return e}else{return testBlackList(e.parentElement)}};smartFormatBlock=function(e){var t;getCurrentSelection();if(inEditor(selectedNode,true)&&selectedOrigin.nodeType!==1){execFormatBlock(e,true);getCurrentSelection();return historyManager.record()}else if(inEditor(selectedNode)){if(selectedNode.tagName!==e.toUpperCase()){t=testBlackList(selectedNode);if(t){if(t.innerText!==""){t.innerHTML="<"+e+">"+t.innerText+"</"+e+">";placeCaretAfterNode(t.childNodes[0])}}else{execFormatBlock(e)}}else{if(selectedNode.parentNode.tagName==="DIV"){execFormatBlock("div")}else{selectedNode.outerHTML=selectedNode.innerHTML;placeCaretAfterNode(selectedNode)}}getCurrentSelection();return historyManager.record()}};execFormatBlock=function(e,t){if(typeof e!=="string"){return}if(inEditor(selectedNode)||t){e=e.toLowerCase();if(startRange.parentElement===endRange.parentElement){document.execCommand("formatBlock",false,e);return historyManager.record()}}};execCmd=function(e,t,n){getCurrentSelection();if(!inEditor(selectedNode,true)){return}t=Boolean(t);if(typeof n!=="string"){n=""}document.execCommand(e,t,n);return historyManager.record()};destroySpan=function(e,t){var n,r,i;n=e.childNodes;r=0;i=[];while(r<n.length){if(n[r].tagName==="SPAN"&&n[r].getAttribute("style")){n[r].outerHTML=n[r].innerHTML}else if(n[r].tagName==="BR"&&t){n[r].outerHTML=""}else{if(n[r].childNodes){destroySpan(n[r],t)}}i.push(r+=1)}return i};setKeyboard=function(e){var t;t=[];t["shift"]=false;t["enter"]=false;e.addEventListener("keydown",function(e){if(e.keyCode===16){t["shift"]=true}if(e.keyCode===8||e.keyCode===46||e.keyCode===17||e.keyCode===91||e.keyCode===88){historyManager.record()}if(e.keyCode===13){t["enter"]=true;historyManager.record()}if(t["shift"]&&t["enter"]){e.preventDefault();return pasteHtmlAtCaret("<br>")}});e.addEventListener("keyup",function(e){if(e.keyCode===16){t["shift"]=false}if(e.keyCode===13){t["enter"]=false}})};getSelectionHtml=function(e){var t,n,r,i,a;n="";if(typeof window.getSelection!=="undefined"){a=window.getSelection();if(!e){if(a.rangeCount){t=document.createElement("div");r=0;i=a.rangeCount;while(r<i){t.appendChild(a.getRangeAt(r).cloneContents());r+=1}n=t.innerHTML}}else{n=a.toString()}}else if(typeof document.selection!=="undefined"){if(document.selection.type==="Text"){n=document.selection.createRange().htmlText}}return n};historyManager={redo:function(){if($history_step<$history.length-1){$history_step+=1;return $editor.innerHTML=$history[$history_step]}},undo:function(){if($history_step>0){$history_step-=1;return $editor.innerHTML=$history[$history_step]}},reset:function(){$history=[$editor.innerHTML];return $history_step=0},record:function(){if($editor.innerHTML===$history[$history_step||0]){return}if(typeof $history_step!=="number"){$history_step=0}else{$history_step+=1}if($history.length>=$history_step+1){$history.length=$history_step+1}if($history_step>=$options.history-1){$history_step=$options.history-1;$history.shift()}return $history.push($editor.innerHTML)}};log=function(e){var t;console.info("---------------------------");console.info("SAW Editor Log:",$property.name);for(t in arguments){if(arguments.hasOwnProperty(t)){console.info(arguments[t])}}return console.info("---------------------------")};errlog=function(e){var t;console.info("---------------------------");for(t in arguments){if(arguments.hasOwnProperty(t)){console.error("SAW Editor Error:",$property.name,arguments[t])}}return console.info("---------------------------")};assertParam=function(e,t,n){var r;if(!n){n=""}if(!t){t="string"}r=typeof e===t?e:n;return r};isJsonString=function(e){var t;try{JSON.parse(e)}catch(e){t=e;return false}return true};createToolbarBtns=function(e){var t,n,r,i,a,o,s,u,l;t=e.getAttribute("toolbar-btns");if(!t){return e}u=t.replace(/'/g,'"');if(isJsonString(u)){u=JSON.parse(u)}if(typeof u!=="object"||!u.length||u.length===0){u=defaultToolbarBtns}i=0;while(i<u.length){r=document.createElement("div");o=0;while(o<u[i].length){l=u[i][o];if(e.querySelector(".btn-"+l)){o+=1;continue}n=document.createElement("button");n.className="btn btn-"+l;a=void 0;for(s in btnList){if(btnList[s].name===l){a=btnList[s].ico;break}}if(a){n.innerHTML='<i class="ico-'+a+'"></i>'}else{n.innerHTML=l.toUpperCase()}r.appendChild(n);o+=1}if(r.childNodes.length>1){r.className="btn-group";e.appendChild(r)}else{r=null}i+=1}return e};dispatchSAWEvent=function(){var e;if(!$editor){return}e=new Event("saw");return $editor.dispatchEvent(e)};baseEventHanlder=function(e){return dispatchSAWEvent()};evtManager={register:function(e,t,n){if(typeof n!=="string"){n="click"}if(typeof e==="object"){e.addEventListener(n,t);e.addEventListener(n,baseEventHanlder)}},remove:function(e,t,n){if(typeof n!=="string"){n="click"}if(typeof e==="object"){if(typeof t==="function"){e.removeEventListener(n,t);e.removeEventListener(n,baseEventHanlder)}}}};resetCurrentMedia=function(){$currentImage={link:void 0,element:void 0};$currentVideo={element:void 0};return $currentAudio={element:void 0}};resetCurrentLink=function(){return $currentLink={element:void 0}};doInsertImg=function(e){var t,n,r,i,a,o,s,u;o=assertParam(e.src);t=assertParam(e.title);i=assertParam(e.href);s=assertParam(e.target);n=assertParam(e.class);if(n){r='class="'+n+'"'}else{r=""}if(i){if(s){u='target="'+s+'"'}else{u=""}a="<a "+r+" "+u+' href="'+i+'">'+'<img src="'+o+'" alt="'+t+'"></a>'}else{a="<img "+r+' src="'+o+'" alt="'+t+'" />'}return a};doReplaceImg=function(e){var t,n,r,i,a,o,s,u;a=$currentImage.element;if(!a||!e){return}o=assertParam(e.src);t=assertParam(e.title);i=assertParam(e.href);s=assertParam(e.target);n=assertParam(e.class);if(o){a.setAttribute("src",o);a.removeAttribute("ng-src")}if(t){a.setAttribute("alt",t)}if(i){if($currentImage.link){$currentImage.link.setAttribute("href",i);$currentImage.link.removeAttribute("ng-href");if(s){$currentImage.link.setAttribute("target",s)}else{$currentImage.link.removeAttribute("target")}if(n){$currentImage.link.setAttribute("class",n)}else{$currentImage.link.removeAttribute("class")}}else{if(s){u='target="'+s+'"'}else{u=""}if(n){r='class="'+n+'"'}else{r=""}a.outerHTML="<a "+r+" "+u+' href="'+i+'">'+'<img src="'+o+'" alt="'+t+'"></a>'}}else{if($currentImage.link){$currentImage.link.outerHTML=$currentImage.link.innerHTML}if(n){a.setAttribute("class",n)}else{a.removeAttribute("class")}}return a};doInsertVideo=function(e){var t,n,r,i,a,o,s,u;u=assertParam(e.src);s=assertParam(e.poster);i=e.controls?"controls":"";o=e.loop?"loop":"";t=e.autoplay?"autoplay":"";n=assertParam(e.class);if(n){r='class="'+n+'"'}else{r=""}a="<video "+o+" "+t+" "+i+" "+r+" "+'src="'+u+'" '+' poster="'+s+'" preload="none"></video>';return a};doReplaceVideo=function(e){var t,n,r,i,a,o,s;s=$currentVideo.element;if(!s||!e){return}o=assertParam(e.src);a=assertParam(e.poster);r=e.controls?"controls":"";i=e.loop?"loop":"";t=e.autoplay?"autoplay":"";n=assertParam(e.class);if(o){s.setAttribute("src",o);s.removeAttribute("ng-src")}if(n){s.setAttribute("class",n)}else{s.removeAttribute("class")}if(a){s.setAttribute("poster",a)}else{s.removeAttribute("poster")}if(r){s.setAttribute("controls",true)}else{s.removeAttribute("controls")}if(i){s.setAttribute("loop",true)}else{s.removeAttribute("loop")}if(t){s.setAttribute("autoplay",true)}else{s.removeAttribute("autoplay")}return s};doInsertAudio=function(e){var t,n,r,i,a,o,s;s=assertParam(e.src);i="controls";o=e.loop?"loop":"";t=e.autoplay?"autoplay":"";n=assertParam(e.class);if(n){r='class="'+n+'"'}else{r=""}a="<audio "+o+" "+t+" "+i+" "+r+" "+'src="'+s+'"></audio>';return a};doReplaceAudio=function(e){var t,n,r,i,a,o;t=$currentAudio.element;if(!t||!e){return}o=assertParam(e.src);i=e.controls?"controls":"";a=e.loop?"loop":"";n=e.autoplay?"autoplay":"";r=assertParam(e.class);if(o){t.setAttribute("src",o);t.removeAttribute("ng-src")}if(r){t.setAttribute("class",r)}else{t.removeAttribute("class")}if(i){t.setAttribute("controls",true)}else{t.removeAttribute("controls")}if(a){t.setAttribute("loop",true)}else{video.removeAttribute("loop")}if(n){t.setAttribute("autoplay",true)}else{t.removeAttribute("autoplay")}return t};execInsertMedia=function(e){var t;if(!savedRange||!e){return}if(e.type==="video"){t=doInsertVideo(e)}else if(e.type==="audio"){t=doInsertAudio(e)}else{t=doInsertImg(e)}restoreSelection(savedRange);pasteHtmlAtCaret(t);historyManager.record();return dispatchSAWEvent()};execRemoveMedia=function(e){var t,n;if(e.type==="video"){n=$currentVideo.element;t=null}else if(e.type==="audio"){n=$currentAudio.element;t=null}else{n=$currentImage.element;t=$currentImage.link}if(!n){return}n.outerHTML="";if(t){t.outerHTML=""}resetCurrentMedia();historyManager.record();return dispatchSAWEvent()};execReplaceMedia=function(e){var t;if(e.type==="video"){t=doReplaceVideo(e)}else if(e.type==="audio"){t=doReplaceAudio(e)}else{t=doReplaceImg(e)}resetCurrentMedia();historyManager.record();return dispatchSAWEvent()};execInsertLink=function(e){var t,n,r,i,a,o,s;if(!savedRange||!e){return}i=assertParam(e.href);o=assertParam(e.target);n=assertParam(e.class);restoreSelection(savedRange);if(savedRange.endOffset>0){execCmd("createLink",false,i);getCurrentSelection();t=selectedNode;if(t.tagName==="A"){if(o){t.setAttribute("target",o)}if(n){t.setAttribute("class",n)}}}else{if(o){s='target="'+o+'"'}else{s=""}if(n){r='class="'+n+'"'}else{r=""}a="<a "+r+" "+s+' href="'+i+'">'+i+"</a>";pasteHtmlAtCaret(a)}historyManager.record();return dispatchSAWEvent()};execReplaceLink=function(e){var t,n,r,i;t=$currentLink.element;if(!t||!e){return}r=assertParam(e.href);i=assertParam(e.target);n=assertParam(e.class);restoreSelection(savedRange);t.removeAttribute("ng-href");if(r){t.setAttribute("href",r)}if(n){t.setAttribute("class",n)}else{t.removeAttribute("class")}if(i){t.setAttribute("target",i)}else{t.removeAttribute("target")}resetCurrentLink();historyManager.record();return dispatchSAWEvent()};execRemoveLink=function(){var e;e=$currentLink.element;if(!e){return}e.outerHTML=e.innerHTML;resetCurrentLink();historyManager.record();return dispatchSAWEvent()};execInsertPreset=function(e){var t,n;if(!savedRange||!e){return}if(typeof e.code!=="string"){e.code=""}restoreSelection(savedRange);n=document.createElement("div");n.setAttribute("preset-id",Date.now());n.innerHTML=e.code;t=findTopElement(selectedNode);if(t&&t.nextSibling){$editor.insertBefore(n,t.nextSibling)}else{$editor.appendChild(n)}historyManager.record();return dispatchSAWEvent()};execInsertScript=function(e){if(!savedRange||!e){return}if(typeof e!=="string"){e=""}restoreSelection(savedRange);pasteHtmlAtCaret(e);historyManager.record();return dispatchSAWEvent()};init_editor=function(e,t,n){var r,i;load_options(n);$document=document;if(typeof e==="string"&&e!==""){$editor=$document.querySelector("[id="+e+"]")}else if(isHTMLElement(e)){$editor=e}if(!$editor){return errlog("Init editor failed !!")}if(typeof t==="string"){$toolbar=$document.querySelector("[id="+t+"]")}else if(isHTMLElement(t)){$toolbar=t}if(typeof $options.history!=="number"){try{r=parseInt($options.history);$options.history=Math.min(Math.max(r,100),10)}catch(e){i=e;$options.history=100}}$editor.setAttribute("contenteditable","true");if($toolbar){$toolbar=createToolbarBtns($toolbar)}$property.order=parseInt($editor.getAttribute("order"))||0;$property.id=$editor.getAttribute("id")||Date.now();$property.name=$editor.getAttribute("name")||now;$editor.addEventListener("mousedown",focusHandler);$editor.addEventListener("click",selectHandler);$editor.addEventListener("dblclick",doubleClickHandler);if($toolbar){$toolbar.addEventListener("mousedown",focusHandler)}$editor.addEventListener("keyup",selectHandler);window.addEventListener("mousedown",blurHandler);set_toolbar();setKeyboard($editor);historyManager.record();console.info("supAngularWysiwyg("+ver+"): "+$property.name+" inited")};destroy_editor=function(){$editor.removeEventListener("mousedown",focusHandler);$editor.removeEventListener("click",selectHandler);$editor.removeEventListener("dbclick",selectHandler);if($toolbar){$toolbar.removeEventListener("mousedown",focusHandler)}$editor.removeEventListener("keyup",selectHandler);window.removeEventListener("mousedown",blurHandler);unset_toolbar();console.info("supAngularWysiwyg: destroyed")};set_toolbar=function(){var i,obj,results;if(!$toolbar){return}i=0;results=[];while(i<btnList.length){obj=$toolbar.querySelector(".btn-"+btnList[i].name);if(obj){if(btnList[i].name==="indent"){$btn_indent=obj}if(btnList[i].name==="outdent"){$btn_outdent=obj}evtManager.register(obj,eval(btnList[i].handler))}results.push(i+=1)}return results};unset_toolbar=function(){var i,obj,results;if(!$toolbar){return}i=0;results=[];while(i<btnList.length){obj=$toolbar.querySelector(".btn-"+btnList[i].name);if(obj){evtManager.remove(obj,eval(btnList[i].handler))}results.push(i+=1)}return results};load_options=function(e){var t,n;if(typeof e!=="object"){return}n=[];for(t in $options){if(t in e){n.push($options[t]=e[t])}else{n.push(void 0)}}return n};set_insert_link_hook=function(e){if(typeof e==="function"){return insertLinkHook=e}else{return false}};set_edit_link_hook=function(e){if(typeof e==="function"){return editLinkHook=e}else{return false}};set_edit_media_hook=function(e){if(typeof e==="function"){return editMediaHook=e}else{return false}};set_insert_media_hook=function(e){if(typeof e==="function"){return insertMediaHook=e}else{return false}};set_insert_preset_hook=function(e){if(typeof e==="function"){return insertPresetHook=e}else{return false}};set_insert_script_hook=function(e){if(typeof e==="function"){return insertScriptHook=e}else{return false}};set_select_text_hook=function(e){if(typeof e==="function"){return selTextHook=e}else{return false}};set_focus_hook=function(e){if(typeof e==="function"){return focusHook=e}else{return false}};set_blur_hook=function(e){if(typeof e==="function"){return blurHook=e}else{return false}};set_html_on_open_hook=function(e){if(typeof e==="function"){return openHTMLHook=e}else{return false}};set_html_on_close_hook=function(e){if(typeof e==="function"){return closeHTMLHook=e}else{return false}};expose={init:init_editor,destroy:destroy_editor,hooks:{insert_link:set_insert_link_hook,edit_link:set_edit_link_hook,insert_media:set_insert_media_hook,edit_media:set_edit_media_hook,insert_preset:set_insert_preset_hook,insert_script:set_insert_script_hook,select_text:set_select_text_hook,focus:set_focus_hook,blur:set_blur_hook,html_on_open:set_html_on_open_hook,html_on_close:set_html_on_close_hook},insertMedia:execInsertMedia,replaceMedia:execReplaceMedia,removeMedia:execRemoveMedia,insertLink:execInsertLink,replaceLink:execReplaceLink,removeLink:execRemoveLink,insertPreset:execInsertPreset,insertScript:execInsertScript};Object.defineProperty(expose,"version",{get:function(){return ver}});Object.defineProperty(expose,"id",{get:function(){return $property.id}});Object.defineProperty(expose,"order",{get:function(){return $property.order}});Object.defineProperty(expose,"element",{get:function(){return $editor}});Object.defineProperty(expose,"options",{get:function(){return $options}});return expose};angular.module("supAngularWysiwyg",[]).directive("supAngularWysiwyg",["$rootScope","$interpolate","$timeout",function(e,t,n){return{restrict:"EA",require:"?ngModel",scope:{toolbar:"@",history:"@",default:"@",embedMode:"@",readonly:"@",presets:"="},link:function(r,i,a,o){var s,u,l,c,f,d,p,h,v,$,m,g,y;if(!o){return}r.embedMode=angular.isDefined(r.embedMode);r.readonly=angular.isDefined(r.readonly);c=new supWysiwygEditor;y=r.toolbar||"saw-editor-toolbar";try{p={history:parseInt(r.history)}}catch(e){l=e;p={}}v=[];if(angular.isArray(r.presets)){m=r.presets;for(f=0,d=m.length;f<d;f++){h=m[f];v.push({preview:h.preview,code:h.code})}}g=e;if(!r.embedMode&&parent.document!==document){g=parent.angular.element(parent.document).scope();y=parent.document.querySelector("[id="+y+"]")}n(function(){var t;if(r.readonly){c="readonly"}else{c.init(i[0],y,p)}t={label:a.label||a.name,model:a.ngModel};e.$emit("saw.loaded",t,c);if(g!==e){return g.$emit("saw.loaded",t,c)}},0);c.hooks.select_text(function(e){return g.$emit("saw.select_text",c,e)});c.hooks.insert_link(function(){return g.$emit("saw.insert_link",c)});c.hooks.edit_link(function(e){return g.$emit("saw.edit_link",c,e)});c.hooks.insert_media(function(){return g.$emit("saw.insert_media",c)});c.hooks.edit_media(function(e){return g.$emit("saw.edit_media",c,e)});c.hooks.insert_preset(function(){return g.$emit("saw.insert_preset",c,v)});c.hooks.insert_script(function(){return g.$emit("saw.insert_script",c)});c.hooks.focus(function(){return g.$emit("saw.focus",c)});c.hooks.blur(function(){return g.$emit("saw.blur",c)});c.hooks.html_on_open(function(){return g.$emit("saw.open_html",c,o.$viewValue)});c.hooks.html_on_close(function(){return g.$emit("saw.close_html",c,o.$viewValue)});u=false;if(r.default){s=r.default}else{s=t(i.html())(e)}$=function(){var e;e=i.html();if(e==="<br>"){e=""}return o.$setViewValue(e)};o.$render=function(){var e;if(!o.$viewValue&&!u){i.html(s);e=n(function(){$();return n.cancel(e)},0)}else{i.html(o.$viewValue||"")}return u=true};i.on("blur keyup change mousedown cut paste saw",function(e){if(r.readonly){return}$();e.stopPropagation()});return r.$on("$destroy",function(){return c.destroy()})}}}])}).call(this);(function(){var e,t=[].indexOf;angular.browser=function(){var e,t,n,r;r=navigator.userAgent;n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;t=n.test(r)||r.indexOf("Mobile")>-1;e={user_agent:r,is_mobile:t};return e};angular.uuid4=function(e,t){var n,r,i,a;a=function(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)};if(t===void 0){t=true}if(t){i=a()+a()+a()+a()+a()+a()+a()+a()}else{i=a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}try{r=parseInt(e)}catch(e){n=e;r=0}if(r){i=i.substring(0,r)}return i};angular.iter_product=function(e){return e.reduce(function(e,t){var n;n=[];e.forEach(function(e){return t.forEach(function(t){return n.push(e.concat(t))})});return n},[[]])};angular.escape_asterisk=function(e,t,n){if(t===void 0){t="*"}if(n===void 0){n=null}if(e===t){return n}else{return e}};angular.list=function(e,t){if(t===void 0){t=[]}else if(!angular.isArray(t)){t=[t]}if(e){if(angular.isArray(e)){return e}else{return[e]}}else{return t}};angular.bool=function(e,t){if(t===void 0){t=true}else{t=Boolean(t)}if(e===void 0){return t}else{return Boolean(e)}};angular.round_fractional=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)};angular.parse_int=function(e,t,n){if(t===void 0){t=0}if(n===void 0){n=false}t=parseInt(t)||0;if(typeof n!=="boolean"){n=parseInt(n)||0}try{e=parseInt(e);if(isNaN(e)){e=t}}catch(n){e=t}if(n===0){e=Math.max(e,0)}else if(n){e=Math.max(e,1)}return e};angular.str_byte=function(e){var t,n,r;if(typeof e!=="string"){return null}t=0;n=void 0;r=0;while(r<e.length){n=e.charCodeAt(r);if(n<127){t++}else if(128<=n&&n<=2047){t+=2}else if(2048<=n&&n<=65535){t+=3}else{t+=4}r+=1}return t};angular.pop=function(e,t){var n;n=e[t];delete e[t];return n};angular.set=function(e){var n,r,i,a;a=[];for(r=0,i=e.length;r<i;r++){n=e[r];if(t.call(a,n)<0){a.push(n)}}return a};angular.get_file_ext=function(e){var t,n,r;try{e=e.split("?")[0].split("#")[0];if(e.substr(-1)==="/"){e=e.substr(0,e.length-1)}r=e.split(".");if(r.length>1){n=r.pop();return n.toLowerCase()}return""}catch(e){t=e;return""}};angular.pre_process_slug=function(e){var t;try{t=e.toLowerCase();if(!t.match(/^[a-z0-9_\-]+$/g)){return null}}catch(e){t=null}return t};angular.strip=function(t,n){return e(t,n,true,true)};angular.lstrip=function(t,n){return e(t,n,true,false)};angular.rstrip=function(t,n){return e(t,n,false,true)};e=function(e,t,n,r){var i,a;if(typeof e!=="string"){return null}if(typeof t!=="string"){t=null}if(t===null){t="\\s"}else if(!t){return e}if(n){i=new RegExp("^("+t+")*","g");e=e.replace(i,"")}if(r){a=new RegExp("("+t+")*$","g");e=e.replace(a,"")}return e};angular.startswith=function(e,t){if(typeof e!=="string"||typeof t!=="string"){return null}return e.indexOf(t)===0};angular.endswith=function(e,t){if(typeof e!=="string"||typeof t!=="string"){return null}return e.substr(e.length-t.length)===t};angular.currency=function(e,t,n){var r;if(t===void 0){t=""}r=parseInt(n)||2;e=e.toFixed(r).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return t+e};angular.price=function(e,t,n,r){var i,a;if(n===void 0){n=""}a=parseInt(r)||2;i=parseInt(e)/100||0;if(t){i=i.toFixed(a).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}else{i=i.toFixed(a)}return n+i};angular.now=function(){return parseInt(Date.now()/1e3)};angular.timestamp2date=function(e,t){var n,r;e=parseInt(e);if(e.toString().length===10){e=e*1e3}try{n=new Date(e);if(isNaN(n)){throw"Invaild Date"}}catch(e){n=new Date;if(typeof t==="function"){r=t(n);if(typeof r.getDate==="function"){n=r}}}return n};angular.date2timestamp=function(e,t){var n;if(t===void 0){t=true}n=t?1e3:1;return Math.ceil(e.getTime()/n)};angular.date2str=function(e,t){var n,r,i,a,o,s,u;if(!angular.isDate(e)){return""}if(!t){t="YYYY-MM-DD"}r=e.getDate();o=e.getMonth()+1;u=e.getFullYear();i=e.getHours();a=e.getMinutes();s=e.getSeconds();if(r<10){r="0"+r}if(o<10){o="0"+o}if(i<10){i="0"+i}if(a<10){a="0"+a}if(s<10){s="0"+s}n=t.replace("YYYY",u).replace("MM",o).replace("DD",r).replace("hh",i).replace("mm",a).replace("ss",s);return n};angular.str2date=function(e){var t,n;if(typeof e!=="string"){return false}try{t=new Date(e)}catch(e){n=e;return false}if(!t.getTime()){return false}return t};angular.sortedby=function(e,t,n){var r,i,a,o,s,u,l;l=[];if(!angular.isArray(t)){t=[t]}u=function(e){var t;if(angular.isArray(e)){return l.push([e[0],e[1]])}else if(angular.isString(e)){if(e.charAt(0)==="-"){e=e.replace(/^\-*/,"");t=-1}else{e=e.replace(/^\+*/,"");t=1}return l.push([e,t])}};for(a=0,o=t.length;a<o;a++){i=t[a];u(i)}r=function(e,t){var n,r,a,o;for(a=0,r=l.length;a<r;a++){o=l[a];i=o[0];n=o[1];if(e[i]<t[i]){return-1*n}if(e[i]>t[i]){return 1*n}}return 0};s=angular.copy(e).sort(r);if(n){s.reverse()}return s};angular.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};angular.list2dict=function(e,t,n){var r,i,a,o,s;if(typeof t!=="string"){t=null}if(typeof n!=="string"){n=null}r={};for(i=o=0,s=e.length;o<s;i=++o){a=e[i];if(!t){t=i.toString()}r[a[t]]=n?a[n]:a}return r};angular.str2list=function(e,n,r,i){var a,o,s,u,l,c;if(angular.isArray(e)){return e}else if(typeof e!=="string"){return[]}if(!r){r=",";e=e.replace(/[]/g,",")}try{l=e.split(",")}catch(e){a=e;l=[]}u=[];for(o=0,s=l.length;o<s;o++){c=l[o];if(c){if(!i){c=c.trim()}if(n&&t.call(u,c)>=0){continue}u.push(c)}}return u};angular.list2str=function(e,t){var n,r;if(typeof e==="string"){return e}else if(!angular.isArray(e)){return""}if(!t){t=", "}try{r=e.join(t)}catch(e){n=e;r=""}return r};angular.list_index=function(e,t,n){var r,i,a,o,s;r=function(e,t,n){if(n){return angular.equals(e[n],t[n])}else{return angular.equals(e,t)}};for(i=a=0,o=e.length;a<o;i=++a){s=e[i];if(r(s,t,n)){return i}}return null};angular.list_shift=function(e,t,n,r){var i;if(r===void 0){r=true}if(t<0){t=0}else if(t>e.length-1){t=e.length-1}n=Math.max(Math.min(n,e.length-1),0);if(n!==t){if(r){e[t]=e.splice(n,1,e[t])[0]}else{i=e[t];e.splice(t,1);e.splice(n,0,i)}}return e};angular.list_pop=function(e,t,n){var r,i,a,o,s,u;r=function(e,t,n){if(n){return angular.equals(e[n],t[n])}else{return angular.equals(e,t)}};u=null;for(i=a=0,o=e.length;a<o;i=++a){s=e[i];if(r(s,t,n)){u=s;e.splice(i,1);break}}return u};angular.list_remove=function(e,t,n){var r,i,a,o,s,u,l,c,f;r=function(e,t,n){if(n){return angular.equals(e[n],t[n])}else{return angular.equals(e,t)}};o=[];for(a=s=0,u=e.length;s<u;a=++s){f=e[a];if(r(f,t,n)){o.unshift(a)}}for(c=0,l=o.length;c<l;c++){i=o[c];e.splice(i,1)}return e};angular.format_tags=function(e,t,n){var r,i,a,o,s,u;if(!angular.isArray(e)){return[]}if(typeof t!=="number"||!t){t=60}s=function(e){if(n){return angular.upper(e)}else{return angular.lower(e)}};i=[];for(a=0,o=e.length;a<o;a++){u=e[a];if(typeof u!=="string"){continue}r=s(u);if(i.indexOf(r)<0){i.push(r)}}return i.slice(0,t)};angular.obj2jsonstr=function(e,t){var n,r,i,a;i=null;if(!e){return""}if(typeof e==="string"){return e}else if(typeof e!=="object"){return null}r=0;for(a in e){if(e.hasOwnProperty(a)){r+=1}}if(r===0){i=""}else{try{if(!t){i=JSON.stringify(e,null,2)}else{i=JSON.stringify(e)}}catch(e){n=e;i=false}}return i};angular.jsonstr2obj=function(e,t){var n,r;if(!e){return{}}r=null;if(typeof t!=="function"){t=JSON.parse}try{r=t(e)}catch(e){n=e;r=false}return r};angular.clean_tags=function(e){if(!angular.isString(e)){e=""}return e.replace(/<[^>]+>/gm,"")};angular.clean_space=function(e,t){if(!t){return e.replace(/\s{2,}/g," ").trim()}else{return e.replace(" ","").trim()}};angular.title=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()};angular.lower=function(e){return e.toLowerCase()};angular.upper=function(e){return e.toUpperCase()};angular.clean_ng_attr=function(e){return e.replace(/ng-[a-zA-Z0-9_\-]+=["\'].*?["\']/gi,"")};angular.isDict=function(e){return Boolean(angular.isObject(e)&&!angular.isArray(e))};angular.isUrl=function(e,t){if(typeof e!=="string"){return false}if(t==="*"){t=/^[\w]+:[a-zA-Z0-9\/]/i}else if(!(t instanceof RegExp)){t=/^([\w]+:)?\/\/[a-zA-Z0-9]/i}return e.match(t)};angular.addURLParams=function(e,t){var n,r,i,a,o,s;if(!angular.isObject(t)){return e}n=function(e,t,n){var r;r=e.indexOf("?")>-1?"&":"?";t=encodeURIComponent(t);n=encodeURIComponent(n);e=e+r+t+"="+n;return e};for(i in t){s=t[i];if(angular.isArray(s)){for(a=0,o=s.length;a<o;a++){r=s[a];e=n(e,i,r)}}else{e=n(e,i,s)}}return e};angular.getURLParams=function(e,t){var n,r,i,a,o,s,u,l,c;if(typeof e!=="string"){return{}}if(t===void 0){t=true}n=e.indexOf("#");if(n>-1){e=e.substring(0,n)}s={};u=e.indexOf("?");if(u>-1){l=e.split("?")[1].split("&");for(i=0,a=l.length;i<a;i++){c=l[i];o=c.split("=");r=o[0];c=o[1];if(!r){continue}else if(!s[r]){s[r]=c}else if(!t){if(!angular.isArray(s[r])){s[r]=[s[r]]}s[r].push(c)}}}return s};angular.dataURLToBlob=function(e){var t,n,r,i,a,o,s;t=";base64,";if(e.indexOf(t)===-1){i=e.split(",");n=i[0].split(":")[1];a=i[1];return new Blob([a],{type:n})}i=e.split(t);n=i[0].split(":")[1];a=window.atob(i[1]);o=a.length;s=new Uint8Array(o);r=0;while(r<o){s[r]=a.charCodeAt(r);++r}return new Blob([s],{type:n})};if(typeof angular.translate!=="function"){angular.translate=function(e){var t,n,r,i,a,o,s;if(typeof e!=="string"){return e}n=[];for(r=0,i=arguments.length;r<i;r++){t=arguments[r];n.push(t)}s=n.slice(1);for(o=0,a=s.length;o<a;o++){t=s[o];if(t===void 0){t=""}e=e.replace("%s",t)}return e}}if(typeof angular.self_translate!=="function"){angular.self_translate=function(e){var t;if(typeof e!=="object"){return e}t=Object.keys(e)[0];return e[t]}}console.apiError=function(e,t){var n,r;console.info("---------------API Error--------------");for(n in e){r=e[n];if(r){console.error(n,":",r)}}if(t){console.info(t)}console.info("--------------------------------------")}}).call(this);(function(){angular.module("mittens",["ngSanitize","supLocales","supAngularWysiwyg"]);angular.module("mittens").constant("Project",{name:"mittens",version:"1.0.4",creator:["Redyyu"],rip:["[Dtynn]","[Flingjie]","[Windfarer]","[Majik]"]}).config(["$qProvider","$locationProvider",function(e,t){e.errorOnUnhandledRejections(false);return t.hashPrefix("")}])}).call(this);(function(){var e=[].indexOf;angular.module("mittens").directive("editorCanvas",["$compile",function(t){return{restrict:"AE",scope:{},controller:["$scope","$rootScope","$element","$compile","$interval","$http","supLocales",function(t,n,r,i,a,o,s){var u;t._=angular.translate;n.$watch("station",function(e){if(e){return u(e)}});return u=function(a){var u,l,c,f,d,p,h,v,$;f=a.editor_context;v=a.strict_mode;if(v){console.info("Canvas running in Strict mode.")}t.g={};t.query={};p=f.metas;t.base_url=n.base_url=p.base_url;t.theme_url=n.theme_url=p.theme_url;t.lib_url=n.lib_url=p.lib_url;t.locale=n.locale=p.locale;t.lang=n.lang=p.lang;t.site_meta=p.site_meta;t.theme_meta=p.theme_meta;t.menu=p.menu;t.translates=p.translates;t.socials=p.socials;t.slot=p.slot;c=p.content_type[a.curr_content_type];t.content_type=c;t.visit=f.visit;l=function(e,n){return o.get(e+"/"+n).then(function(e){var n,o;try{s.load(p.locale,a.localized_dict)}catch(e){o=e;console.error("Canvas localize error:",o)}r.html(e.data);if(v){$(r[0])}try{n=i(r.contents());n(t)}catch(e){o=e;console.error("Canvas rendering error:",o)}t.g={};return t.query={}})};$=function(e){var t;t=e.querySelector("[sup-angular-wysiwyg]");if(t){t.setAttribute("readonly",true)}return e};try{l(a.theme_dir,a.template)}catch(e){d=e;console.log(d)}t.meta=a.file.meta;t.content=a.file.content;if(a.strict_mode){return n.escape=true}else{h={};u=function(e){var t,n,r;if(typeof e==="number"){e=[e]}for(n=0,r=e.length;n<r;n++){t=e[n];if(!h[t]){return false}}return true};return r.on("keydown keyup",function(t){var r,i,a,o;a=[17,27];r=t.type==="keydown";if((o=t.keyCode,e.call(a,o)<0)||h[t.keyCode]===r){return}h[t.keyCode]=r;if(u(a)){i=!n.escape;n.escape=i;return console.info("Editor: escape "+i)}})}}}]}}]).directive("supQuery",["$rootScope","$timeout",function(e,t){return{scope:{attrs:"=",contentType:"=",sortby:"=",perpage:"=",paged:"=",taxonomy:"=",withContent:"="},restrict:"AE",require:"?ngModel",link:function(n,r,i,a){var o,s,u,l,c,f,d,p,h;if(!a){return}d=3;f=document.querySelectorAll("[sup-query], sup-query");if(f.length>d){console.error("Query overrun.",r[0]);return}h=e.station;if(!h){return}s=[];p=h.contents;for(l=0,c=p.length;l<c;l++){u=p[l];o=angular.copy(u);if(!n.withContent){delete o.content}s.push(o)}return t(function(){return a.$setViewValue(s)},100)}}}]).directive("supTaxonomy",["$rootScope",function(e){return{scope:{taxonomy:"@"},restrict:"AE",require:"?ngModel",link:function(t,n,r,i){var a,o,s;if(!i){return}o=3;a=document.querySelectorAll("[sup-taxonomy], sup-taxonomy");if(a.length>o){console.error("Query overrun.",n[0]);return}s=e.station;if(!s){return}if(r.supTaxonomy){t.taxonomy=r.supTaxonomy}return $timeout(function(){return i.$setViewValue(s.taxonomies[t.taxonomy])},100)}}}]).directive("supSet",[function(){return{scope:{value:"@",object:"="},restrict:"AE",require:"?ngModel",link:function(e,t,n,r){if(!r){return}r.$setViewValue(e.object||e.value);return r.$render=function(){return r.$setViewValue(e.object||e.value)}}}}]).directive("supBindHtml",function(){return{restrict:"A",compile:function(){return function(e,t,n){return e.$watch(n.supBindHtml,function(e){return t.html(e||"")})}}}})}).call(this);(function(){angular.module("mittens").config(["$sceDelegateProvider",function(e){return e.resourceUrlWhitelist(["self","http://editor.sup.local/**"])}])}).call(this);(function(){var e=[].indexOf;angular.module("mittens").filter("trust",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).filter("url",["$rootScope",function(e){return function(t,n,r){var i;if(typeof t!=="string"){return t}if(n){i=t.indexOf("?");if(i>-1){t=t.substring(0,i)}}if(r){i=t.indexOf("#");if(i>-1){t=t.substring(0,i)}}if(!t||angular.isUrl(t)){return t}else if(angular.startswith(t,"/")){return e.base_url+"/"+t.replace(/(^\/)|(\/$)/g,"")}else{return t.replace(/\/$/g,"")}}}]).filter("path",["$rootScope",function(e){return function(t,n,r){var i,a,o;if(typeof t!=="string"){return t}if(n||n===void 0){a=t.indexOf("?");if(a>-1){t=t.substring(0,a)}}if(r||r===void 0){a=t.indexOf("#");if(a>-1){t=t.substring(0,a)}}try{o=t.split(e.base_url).pop()}catch(e){i=e;o=t}return"/"+o.replace(/^\//g,"").replace(/\/$/g,"")}}]).filter("active",["$rootScope",function(e){return function(e,t,n,r,i){var a,o,s,u,l;if(n===void 0){n=false}if(r===void 0){r="active"}if(i===void 0){i=""}if(!angular.isObject(e)||!angular.isString(t)){return i}a=function(n){var r;if(t===e.path){return true}else if(e.path_scope){r=angular.strip(e.path_scope,"/");if(angular.startswith(t,"/"+r+"/")){return true}}return false};if(a(e)){return r}if(n&&e.nodes){l=e.nodes;for(o=0,s=l.length;o<s;o++){u=l[o];if(a(u)){return r}}}return i}}]).filter("args",function(){return function(e,t){if(typeof e!=="string"){return{}}return angular.getURLParams(e,t)}}).filter("join",function(){return function(e,t){if(angular.isArray(e)){if(!t){t=", "}return e.join(t)}else{return e}}}).filter("striptags",function(){return function(e){return String(e).replace(/<[^>]+>/gm,"")}}).filter("int",function(){return function(e){try{e=parseInt(e)}catch(t){e=null}return e}}).filter("string",function(){return function(e){var t;try{t=e.toString()}catch(e){t=""}return t}}).filter("date_formatted",["$filter","$rootScope",function(e,t){return function(n,r){var i,a,o,s;if(!n){return""}if(typeof r!=="string"){r=null}a={en:"MMMM d, yyyy",zh:"yyyy MM dd"};try{s=t.locale;o=t.lang||s.split("_")[0]}catch(e){s=null;o=null}i=r||a[s]||a[o]||null;if(typeof n==="number"){if(n.toString().length===10){n=n*1e3}}if(!i){return n}else{return e("date")(n,i)}}}]).filter("col_offset",function(){return function(t,n,r,i){var a,o,s;i=angular.parse_int(i,12,0);r=angular.parse_int(r,4,true);if(angular.isString(n)){if(e.call(n,"{}")<0){n+="{}"}}else{n=null}if(angular.isArray(t)){a=t.length}else{a=angular.parse_int(t,0,0)}o=Math.floor((i-a*r)/2);if(n){if(o>0){s=n.replace("{}",o)}else{s=""}}else{s=o}return s}}).filter("thumbnail",["config",function(e){return function(t,n){var r,i,a;if(!angular.isUrl(t)){return t}if(n===void 0){n="thumbnail"}r=e.cdn.engine;i={thumbnail:"/thumbnail/480x>/quality/90",favicon:"/thumbnail/180x180!/quality/90"};a=i[n];if(!a||!r){return t}if(t.indexOf(r)<0){if(t.match(/\?|#/)){t=t.split("?")[0].split("#")[0]}t+=r}t=t.replace(/\/thumbnail\/.*?$/i,"")+a;return t}}]).filter("bg_img",function(){return function(e){if(!e){return""}return"background-image:url("+e+");"}}).filter("is_empty",function(){return function(e){var t;if(angular.isArray(e)){t=!e||e.length<=0}else if(angular.isObject(e)){t=!e||Object.keys(e).length<=0}else if(angular.isFunction(e)||angular.isElement(e)){t=true}else{t=!Boolean(e)}return t}}).filter("price",function(){return function(e,t,n,r){return angular.price(e,t,n,r)}})}).call(this);(function(){angular.module("mittens").constant("config",{THEMES_DIR:"themes",THEME_NAME:"default",THEME_CONFIG_FILE:"config.json",CONTENT_DIR:"content",SITE_DATA_FILE:"site.json",LANGUAGES_DIR:"languages",TRANSLATE_EXT:".lang"})}).call(this);(function(){angular.module("mittens").run(["$rootScope","$http","config","Project",function(e,t,n,r){var i,a,o,s,u,l,c,f,d,p,h,v;console.info("-----------------------------");console.info(r.name+":",r.version);console.info("Creators:",r.creator.join(", "));console.info("R.I.P:",r.rip.join(", "));console.info("-----------------------------");console.info("Simulate Data:");console.info(SIM_DATA,SIM_CONF);console.info("-----------------------------");c=angular.getURLParams(location.search);f=SIM_CONF.strict_mode||false;o=(c.tpl||"index")+".tpl";i=location.protocol+"//"+location.host+location.pathname;a=angular.strip(i,"/");h=SIM_CONF.theme_name||n.THEME_NAME;v=a+"/"+n.THEMES_DIR+"/"+h;p=n.THEMES_DIR+"/"+h;s=p+"/"+n.LANGUAGES_DIR;d={};u=[];l={theme_url:v,base_url:a,lib_url:SIM_CONF.lib_url||""};return t.get(p+"/"+n.THEME_CONFIG_FILE).then(function(e){return l.theme_meta=e.data}).then(function(){return t.get(n.CONTENT_DIR+"/"+n.SITE_DATA_FILE)}).then(function(e){var t,n,r;r=e.data;d=r.taxonomies;n=r.locale||"en_US";t=n.split("_")[0];l.locale=n;l.lang=t;l.translates=angular.pop(r.meta,"translates");l.socials=angular.pop(r.meta,"socials");l.menu=r.menus;l.slot=r.slots;l.content_type=r.content_types||{page:"Pages"};return l.site_meta=r.meta}).then(function(){var e,r;r=s+"/"+l.locale+n.TRANSLATE_EXT;e=s+"/"+l.lang+n.TRANSLATE_EXT;return t.get(e.toLowerCase()).then(function(e){return u=e.data}).catch(function(e){return t.get(r.toLowerCase()).then(function(e){return u=e.data}).catch(function(e){return u=[]})})}).then(function(){return e.station={template:o,strict_mode:f,theme_dir:p,localized_dict:u,curr_content_type:SIM_DATA.file.content_type,editor_context:{metas:l,visit:SIM_DATA.visit},taxonomies:d,contents:SIM_DATA.contents,segments:SIM_DATA.segments,file:SIM_DATA.file||{}}}).catch(function(e){return console.error(e)})}])}).call(this);(function(){angular.module("mittens").directive("supWidgetCarousel",["$rootScope",function(e){return{scope:{default:"@",allowTypes:"@",limit:"@"},restrict:"AE",require:"?ngModel",link:function(t,n,r,i){var a,o,s,u,l,c,f;if(!i){return}f=e.station;if(!f){return}try{a=t.$eval(t.default);s=[];for(l=0,c=a.length;l<c;l++){o=a[l];s.push({title:o.title||"",src:o.src||"",type:o.type||"image",link:"#",target:"",caption:o.caption||"",misc:o.misc||""})}}catch(e){u=e;s=[]}if(!angular.isArray(s)){s=[]}return i.$render=function(){if(!angular.isArray(i.$viewValue)){return i.$setViewValue(s)}}}}}])}).call(this);(function(){angular.module("mittens").directive("supWidgetLines",["$rootScope",function(e){return{scope:{default:"@",limit:"@"},restrict:"AE",require:"?ngModel",link:function(t,n,r,i){var a,o,s,u,l,c,f;if(!i){return}c=e.station;if(!c){return}try{a=t.$eval(t.default);o=[];for(u=0,l=a.length;u<l;u++){f=a[u];if(angular.isString(f)&&f){o.push({text:f})}else if(angular.isDict(f)&&f.text){o.push({text:f.text})}}}catch(e){s=e;o=[]}if(!angular.isArray(o)){o=[]}return i.$render=function(){if(!angular.isArray(i.$viewValue)){return i.$setViewValue(o)}}}}}])}).call(this);(function(){angular.module("mittens").directive("supWidgetSegments",["$rootScope",function(e){return{scope:{content_type:"@",parent:"@",limit:"@"},restrict:"AE",require:"ngModel",link:function(t,n,r,i){var a,o,s,u,l,c,f,d,p,h;if(!i){return}l=1;u=document.querySelectorAll("[sup-widget-segments], sup-widget-segments");if(u.length>l){console.error("Query overrun.",n[0]);return}p=e.station;if(!p){return}a=p.file;t.limit=Math.min(angular.parse_int(t.limit,24,true),24);h=function(e){var r;r=angular.element(n[0].querySelector("[segment-create]"));if(!e||!r){return}if(e.length>=t.limit){return r.addClass("ng-hide")}else{return r.removeClass("ng-hide")}};d=[];c=p.segments;for(o=0,s=c.length;o<s;o++){f=c[o];if(t.content_type&&t.content_type!==f.content_type||t.parent&&t.parent!==a.slug){continue}d.push(f)}if(d.length>t.limit){d.length=t.limit}return i.$setViewValue(d)}}}])}).call(this);(function(){angular.module("mittens").directive("supWidgetSeries",["$rootScope",function(e){return{scope:{default:"@",allowTypes:"@",limit:"@"},restrict:"AE",require:"ngModel",link:function(t,n,r,i){var a,o,s,u,l,c,f,d;d=e.station;if(!d){return}try{a=t.$eval(t.default);s=[];for(l=0,f=a.length;l<f;l++){c=a[l];s.push({src:c.src||"",type:c.type||"image",title:c.title||"",caption:c.caption||"",link:"",target:"",class:"",poster:c.poster||"",misc:c.misc||"",tags:c.tags||[]})}}catch(e){u=e;s=[]}if(!angular.isArray(s)){s=[]}t.limit=Math.min(angular.parse_int(t.limit,24,true),24);o=function(e){var r,i;r=n[0].querySelector("[series-item-create]");if(!e||!r){return}i=angular.element(r);if(e.length>=t.limit){i.addClass("ng-hide");if(e.length>t.limit){return e.length=t.limit}}else{return i.removeClass("ng-hide")}};return i.$render=function(){if(!angular.isArray(i.$viewValue)){i.$setViewValue(s)}return o(i.$viewValue)}}}}])}).call(this);(function(){angular.module("mittens").directive("supWidgetText",["$rootScope","$timeout","$interpolate",function(e,t,n){return{scope:{default:"@"},restrict:"AE",require:"?ngModel",link:function(r,i,a,o){var s,u,l,c;if(!o){return}c=e.station;if(!c){return}u=false;if(!c.strict_mode){i[0].setAttribute("contenteditable","true")}if(r.default){s=r.default}else{s=n(i.html().trim())(e)}o.$render=function(){var e;if(!o.$viewValue&&!u){i.html(s);e=t(function(){l();return t.cancel(e)},0)}else{i.html(o.$viewValue||"")}return u=true};return l=function(){var e;e=clear_html(i.html());if(e==="<br>"){e=""}return o.$setViewValue(e.trim())}}}}])}).call(this);
